/* [@grammarly-license] license information can be found in https://denali-static.grammarly.com/licenses.txt */(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"++u8":function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){let t;!function(e){e.collapseButtonClick="collapseButtonClick"}(t=e.Type||(e.Type={}))}(n||(n={}))},"+5S2":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return r}));var n={};a.r(n),a.d(n,"getNormalizedPosition",(function(){return h})),a.d(n,"getPositionInViewport",(function(){return f})),a.d(n,"isAboveViewportTop",(function(){return b})),a.d(n,"willFitViewport",(function(){return y})),a.d(n,"getCardPadding",(function(){return v})),a.d(n,"ContentOffset",(function(){return C})),a.d(n,"InfinityScrollGetter",(function(){return O})),a.d(n,"Mover",(function(){return w}));var r={};a.r(r),a.d(r,"CARDS_BEYOND_VIEWPORT",(function(){return I})),a.d(r,"CARDS_AROUND_ACTIVE",(function(){return j})),a.d(r,"CARD_VISIBILITY_DEFAULT_SETTING",(function(){return T})),a.d(r,"manageCardsVisibility",(function(){return N})),a.d(r,"freezeActiveCardOnCardsListUpdate",(function(){return L})),a.d(r,"manageCardsInert",(function(){return B}));var i={};a.r(i),a.d(i,"getScrollObserver",(function(){return F})),a.d(i,"getPlaceholderState",(function(){return D})),a.d(i,"getAssistantHeight",(function(){return $})),a.d(i,"getCardsViewportState",(function(){return R})),a.d(i,"getCardsRect",(function(){return M}));var o=a("OA+g"),s=a("I7vG"),c=a("lrqh"),l=a("6fbX"),d=a("zR/0"),p=a("BeBM"),u=a("NW9S"),m=a("NbEL"),g=a("EjiM");const h=(e,t)=>a=>{const n=u.a.FromViewportTop.ISO.unwrap(e),r=u.a.FromViewportTop.ISO.unwrap(a),i=n-r;return u.a.FromViewportTop.ISO.wrap(i<-t.top?n+t.top:i>t.bottom?n-t.bottom:r)},f=(e,t,a)=>n=>{const r=Object(g.b)({cardTop:n,cardHeight:e.positionState.height,viewportHeight:a.height,padding:t});return u.a.FromViewportTop.ISO.modify(u.a.concatC(-r))(n)},b=e=>t=>u.b.FromWindowTop.ISO.modify(u.a.concatC(e.scrollTop.get()+e.paddingTop.get()))(t)<e.viewport.get().top,y=(e,t)=>(a,n)=>{const r=new m.b.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return Object(s.pipe)(e.currentLens.items,e=>Object(s.pipe)(e.get(a),c.g.map(({value:e})=>0===Object(g.b)({cardTop:r.converters.windowToViewport(n),cardHeight:e.positionState.height,viewportHeight:r.viewport.height,padding:{before:0,after:0}}))),c.g.unsafeGet)},v=(e,t)=>Object(s.pipe)(t.get(e),c.g.map(({index:e})=>({before:Object(s.pipe)(t.getAt(e-1),c.g.map(e=>e.positionState.height),c.g.getOrElse(()=>0)),after:Object(s.pipe)(t.getAt(e+1),c.g.map(e=>e.positionState.height),c.g.getOrElse(()=>0))})),c.g.getOrElse(()=>({before:0,after:0})));var C,O,k,w;!function(e){e.CARD_CONTENT_OFFSET_REM=3.4,e.WITH_LABEL_CARD_CONTENT_OFFSET_REM=e.CARD_CONTENT_OFFSET_REM+1,e.contentOffsetGetter=(t=e.CARD_CONTENT_OFFSET_REM,a=e.WITH_LABEL_CARD_CONTENT_OFFSET_REM)=>(e,n)=>Math.round((e?a:t)*n)}(C||(C={})),(k=O||(O={})).cardPositionGetter=(e,t)=>(a,n)=>{const r=new m.b.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return Object(s.pipe)(e.view(p.e.getLens).get(),c.b.fromOption(()=>({kind:"error",reason:"Current lens is not WithItemsLensState"})),c.b.chain(({items:e,id:t})=>Object(s.pipe)(e.get(a),c.b.fromOption(()=>({kind:"notFound",reason:`The item with id: ${a} does not exist in lens ${t}`})),c.b.map(({value:e})=>Object(s.pipe)(n,c.g.fold(()=>Object(o.flow)(u.a.AbsTop.ISO.wrap,r.converters.absTopToViewportTop,r.converters.viewportToWindow)(e.positionState.absTop),o.identity))))))},k.cardPositionInViewportGetter=(e,t)=>(a,n)=>{const r=new m.b.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return Object(s.pipe)(e.view(p.e.getLens).get(),c.b.fromOption(()=>({kind:"error",reason:"Current lens is not WithItemsLensState"})),c.b.chain(({items:e,id:t})=>Object(s.pipe)(e.get(a),c.b.fromOption(()=>({kind:"notFound",reason:`The item with id: ${a} does not exist in lens ${t}`})),c.b.chain(({value:t})=>Object(s.pipe)(n,c.g.map(r.converters.windowToViewport),c.g.alt(()=>c.g.some(Object(o.flow)(u.a.AbsTop.ISO.wrap,r.converters.absTopToViewportTop)(t.positionState.absTop))),c.g.map(f(t,v(a,e),r.viewport)),c.g.map(r.converters.viewportToWindow),c.b.fromOption(()=>({kind:"error",reason:"Cannot get card position in viewport"})))))))},function(e){const t=(e,t,a,n)=>{const r=n.viewport.get(),i=n.scrollTop.get(),o=u.a.converters(i,u.b.FromWindowTop.ISO.unwrap(r.top),n.paddingTop.get());return c.b.tryCatchError(()=>Object(s.pipe)(p.e.getLens(a),c.g.chain(t=>t.items.get(e)),c.g.map(e=>u.a.AbsTop.ISO.wrap(e.value.positionState.absTop)),c.g.map(e=>o.absTopToViewportTop(e)),c.g.fold(()=>{throw new l.b("Cannot get offset for unknown card")},e=>{const a=o.windowToViewport(t);return u.a.FromViewportTop.ISO.unwrap(e)-u.a.FromViewportTop.ISO.unwrap(a)})))};e.moveCardToPositionSyncGetter=(e,a)=>n=>Object(s.pipe)(t(n.id,n.position,e.get(),a),c.b.chain(e=>a.moveCardsBy(e,"moveCardToPositionAnimated"))),e.moveCardToPositionAnimatedGetter=(e,a)=>n=>Object(s.pipe)(t(n.id,n.position,e.get(),a),c.b.fold(e=>d.a.throwError(e),e=>a.moveCardsByAnimated(e,"moveCardToPositionAnimated")))}(w||(w={}));var S=a("GUi3"),A=a("+w1e"),E=a("TC4P"),x=a("gy42");const I=5,j=100,T={cardsBeyondViewport:I,cardsAroundActive:j},N=(e,t,a,n,r=T,i=x.b.Scheduler.rafScheduler)=>{const o=e=>!e.positionState.visible&&E.a.isAnimatable(e)&&e.visualState.incomplete?(n.next({type:A.a.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId}),a.completeTransition(e.visualState.transitionId)(e)):e,s=e.pipe(d.a.map(p.e.mapper(({currentLens:e,alertSource:t})=>c.g.some({currentLens:e,alertSource:t})))),l=Object(g.g)(a)(s,t.viewport,t.scrollTop,t.paddingTop,i).pipe(d.a.map(({viewport:e,scrollTop:t,paddingTop:a})=>({viewport:e,scrollTop:t,paddingTop:a,completeTransition:o})),d.a.map(Object(g.f)({cardsBeyondViewport:r.cardsBeyondViewport,cardsAroundActive:r.cardsAroundActive,changePosition:a})));return{id:"manageCardsVisibility",when:S.a.isWithAlertsId,what:p.e.Effect.Applicator.create(l)}},L=(e,t,a)=>{const n=Object(s.pipe)(e,d.a.map(p.e.mapper(({currentLens:e,alertSource:t})=>c.g.some({currentLens:e,alertSource:t}))),Object(g.a)(a),d.a.switchMap(x.b.Scheduler.rafScheduler),d.a.filter(e=>0!==e),d.a.tap(e=>t.moveCardsBy(e,"freezeActiveCardOnCardsListUpdate")));return{id:"freezeActiveCardOnCardsListUpdate",when:S.a.isWithAlertsId,what:p.e.Effect.Applicator.create(d.a.mergeStatic(d.a.mergeStatic(n).pipe(d.a.switchMapTo(d.a.NEVER))))}},B=(e,t,a,n=x.b.Scheduler.rafScheduler)=>{const r=e.pipe(d.a.map(p.e.mapper(({currentLens:e,alertSource:t})=>c.g.some({currentLens:e,alertSource:t})))),i=Object(g.g)(a)(r,t.viewport,t.scrollTop,t.paddingTop,n).pipe(d.a.map(({viewport:e,scrollTop:t,paddingTop:a})=>({viewport:e,scrollTop:t,paddingTop:a})),d.a.map(Object(g.c)(a)));return{id:"manageCardsInert",when:S.a.isWithAlertsId,what:p.e.Effect.Applicator.create(i)}};var P=a("D9EC");const F=e=>x.b.toBooleanWithDebounce(e.scrollTop.pipe(d.a.skip(1)),100,!0).pipe(d.a.startWith(!1),d.a.shareReplay({bufferSize:1,refCount:!0})),D=(e,t)=>{const a=F(t),n=e.view(p.e.mapper(({currentLens:e,alertSource:t})=>c.g.some({currentLens:e,alertSource:t})));return d.a.combineLatestStatic(d.a.combineLatestStatic(a,n.pipe(d.a.map(c.g.forAll(({currentLens:e})=>Object(s.pipe)(p.k.getActiveItem(e),c.g.forAll(e=>!E.a.isAnimatable(e)||!e.visualState.incomplete&&!e.positionState.animationInProgress))))),P.a).pipe(d.a.distinctUntilChanged()),n.pipe(d.a.filter(c.g.forAll(e=>e.currentLens.isCardsHeightValid)),d.a.map(c.g.map(({currentLens:e})=>{const t=e.cardsHeight;return Object(s.pipe)(p.k.getActiveItem(e),c.g.map(({positionState:e})=>[{top:0,height:e.absTop},{top:e.absTop+e.height,height:t-(e.absTop+e.height)}]),c.g.getOrElse(()=>[{top:0,height:t},{top:0,height:0}]))})),d.a.distinctUntilChanged(c.g.getEq(m.c.eqDimensionsTuple).equals)),(e,t)=>e?t:c.g.none).pipe(d.a.startWith(c.g.none),d.a.shareReplay({bufferSize:1,refCount:!0}))},$=(e,t,a)=>{return Object(g.e)(a)(e.view(p.e.mapper(({currentLens:e,alertSource:t})=>c.g.some({currentLens:e,alertSource:t})))).pipe(d.b.compact,d.a.map(({currentLens:e})=>e.cardsHeight),d.a.startWith(0),d.a.combineLatest(t.paddingTop,t.viewport,(e,t,a)=>e+t+u.b.FromWindowTop.ISO.unwrap(a.top)))},R=(e,t,a)=>{return Object(g.e)(a)(e.view(p.e.mapper(({currentLens:e,alertSource:t})=>c.g.some({currentLens:e,alertSource:t})))).pipe(d.a.switchMap(c.g.fold(()=>d.a.of(m.a.hidden),e=>e.currentLens.items.size>0?d.a.combineLatestStatic(t.scrollTop,t.viewport,t.paddingTop).pipe(d.a.map(([t,a,n])=>{const r=u.a.converters(t,u.b.FromWindowTop.ISO.unwrap(a.top),n),i=e.currentLens.items,l=Object(s.pipe)(i.getAt(0),c.g.map(e=>Object(s.pipe)(e.positionState.absTop,Object(o.flow)(u.a.AbsTop.ISO.wrap,r.absTopToViewportTop))),c.g.unsafeGet),d=c.g.unsafeGet(i.getAt(i.size-1)),p=u.a.AbsTop.ISO.wrap(d.positionState.absTop),g=d.positionState.height,h=r.absTopToViewportTop(p);return u.a.FromViewportTop.ISO.unwrap(h)+g<0?m.a.above:u.a.FromViewportTop.ISO.unwrap(l)>a.height?m.a.below:m.a.hidden})):d.a.of(m.a.hidden))),d.a.distinctUntilChanged(),d.a.debounce(e=>e===m.a.hidden?d.a.EMPTY:d.a.timer(300)),d.a.shareReplay({bufferSize:1,refCount:!0}))},M=(e,t)=>{const a=new m.b.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return Object(s.pipe)(e.view(p.e.getLens).get(),c.g.chain(({items:e,cardsHeight:t})=>Object(s.pipe)(e.getAt(0),c.g.map(e=>{const n=Object(o.flow)(u.a.AbsTop.ISO.wrap,a.converters.absTopToViewportTop,a.converters.viewportToWindow)(e.positionState.absTop);return{top:n,bottom:u.b.FromWindowTop.ISO.modify(u.a.concatC(t))(n)}}))))}},"+w1e":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"e",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return s}));var n,r,i,o,s,c=a("0UWf"),l=a("AS+/"),d=a("D9EC"),p=a("lrqh"),u=a("6fbX"),m=a("qITX"),g=a("UEGg"),h=a("++u8");!function(e){let t,a,n;function r(t){return t.type===e.Type.takeawayCorrectlyDetected||t.type===e.Type.takeawayIncorrectlyDetected}function i(t){return t.type===e.Type.bulkApply}function o(t){return t.type===e.Type.bulkDismiss}function s(t){return t.type===e.Type.bulkIgnore}function u(t){return t.type===e.Type.bulkHighlight}function f(t){return t.type===e.Type.bulkUndo}function b(t){return t.type===e.Type.bulkIndividualUndo}function y(t){return t.type===e.Type.bulkLooksGood}!function(e){e.switchToNext="switchToNext",e.switchToClosestByViewport="switchToClosestByViewport",e.alertMinicardButtonClick="alertMinicardButtonClick",e.cardMatchesNavigationButtonClick="cardMatchesNavigationButtonClick",e.openSetGoals="setGoals",e.alertCardShow="alertCardShow",e.moreAlertsButtonShow="moreAlertsButtonShow",e.alternativeReplacementRadioButtonClick="alternativeReplacementRadioButtonClick",e.alertApply="alertApply",e.alertFeedback="alertFeedback",e.hover="hover",e.onboardingClose="onboardingClose",e.muteAlertCategory="muteAlertCategory",e.undoMuteAlertCategory="undoMuteAlertCategory",e.premiumTrialFooterCtaClick="premiumTrialFooterCtaClick",e.toSignIn="toSignIn",e.moreActionsButtonToggle="moreActionsButtonToggle",e.openPreferences="preferences",e.dismissMuteQuotedAdvice="dismissMuteQuotedAdvice",e.fullSentenceHighlightChangesToggle="fullSentenceHighlightChangesToggle",e.muteQuotedAdviceShow="muteQuotedAdviceShow",e.alertIgnore="alertIgnore",e.alertResolve="alertResolve",e.alertIgnoreFormSubmit="alertIgnoreFormSubmit",e.alertApplyFormSubmit="alertApplyFormSubmit",e.alertIgnoreFeedbackFormShow="alertIgnoreFeedbackFormShow",e.gbPromptApply="gbPromptApply",e.gbPromptDismiss="gbPromptDismiss",e.gbPromptShow="gbPromptShow",e.takeawayCorrectlyDetected="takeawayCorrectlyDetected",e.takeawayIncorrectlyDetected="takeawayIncorrectlyDetected",e.takeawayDismiss="takeawayDismiss",e.takeawayResolve="takeawayResolve",e.changeUserInput="changeUserInput",e.focusUserInput="focusUserInput",e.miniItemClick="miniItemClick",e.bulkApply="bulkApply",e.bulkDismiss="bulkDismiss",e.bulkIgnore="bulkIgnore",e.bulkHighlight="bulkHighlight",e.bulkIndividualUndo="bulkIndividualUndo",e.bulkUndo="bulkUndo",e.bulkAcceptItemShow="bulkAcceptItemShow",e.bulkLooksGood="bulkLooksGood",e.mutedAlertSuccessShow="mutedAlertSuccessShow",e.mutedAlertSuccessDismissed="mutedAlertSuccessDismissed",e.mutedAlertSuggestionManagementClick="mutedAlertSuggestionManagementClick",e.sentenceLevelBrandTonesFeedback="sentenceLevelBrandTonesFeedback",e.toneAIChangeToneAlternative="toneAIChangeToneAlternative",e.shortenItReviewEdit="shortenItReviewEdit",e.shortenItDismissEdit="shortenItDismissEdit",e.shortenItKeepEdit="shortenItKeepEdit",e.sduiCardAction="sduiCardAction",e.openIdeasGallery="openIdeasGallery",e.ethicalAIOpenExternalLink="ethicalAIOpenExternalLink",e.createSnippet="createSnippet",e.snippetsOpenExternalLink="manageSnippetsOpenExternalLink",e.suggestedSnippetSuccessDismissed="suggestedSnippetSuccessDismissed"}(t=e.Type||(e.Type={})),function(e){e.defaultCard="defaultCard",e.superCard="superCard"}(a=e.CardType||(e.CardType={})),e.getCardType=function(e){switch(e.activeAlert.type){case g.a.Type.super:return a.superCard;case g.a.Type.default:default:return a.defaultCard}},e.isAlertApplyAction=function(t){return t.type===e.Type.alertApply},e.isAlertFeedbackAction=function(t){return t.type===e.Type.alertFeedback},e.isTakeawayCorrectlyDetectedAction=function(t){return t.type===e.Type.takeawayCorrectlyDetected},e.isTakeawayIncorrectlyDetectedAction=function(t){return t.type===e.Type.takeawayIncorrectlyDetected},e.isTakeawayDismissAction=function(t){return t.type===e.Type.takeawayDismiss},e.isTakeawayResolveAction=function(t){return t.type===e.Type.takeawayResolve},e.isTakeawayDetectionFeedbackAction=r,e.isTakeawayAction=function(t){return r(t)||t.type===e.Type.takeawayDismiss||t.type===e.Type.takeawayResolve},e.isSentenceLevelBrandTonesFeedbackAction=function(t){return t.type===e.Type.sentenceLevelBrandTonesFeedback},e.isToneAIChangeToneAlternativeAction=function(t){return t.type===e.Type.toneAIChangeToneAlternative},e.isEthicalAIOpenExternalLinkAction=function(t){return t.type===e.Type.ethicalAIOpenExternalLink},e.isSnippetsOpenExternalLink=function(t){return t.type===e.Type.snippetsOpenExternalLink},e.isAlertIgnoreAction=function(t){return t.type===e.Type.alertIgnore},e.isAlertResolveAction=function(t){return t.type===e.Type.alertResolve},e.isAlertIgnoreFeedbackFormSubmit=function(t){return t.type===e.Type.alertIgnoreFormSubmit},e.isAlertApplyFeedbackFormSubmit=function(t){return t.type===e.Type.alertApplyFormSubmit},e.isGbPromptApply=function(t){return t.type===e.Type.gbPromptApply},e.isGbPromptDismiss=function(t){return t.type===e.Type.gbPromptDismiss},e.isGbPromptShow=function(t){return t.type===e.Type.gbPromptShow},e.isMuteCategoryAction=function(t){return t.type===e.Type.muteAlertCategory},e.isUndoMuteCategoryAction=function(t){return t.type===e.Type.undoMuteAlertCategory},e.isMutedAlertCardDismissedAction=function(t){return t.type===e.Type.mutedAlertSuccessDismissed},e.isCreateSnippetAction=function(t){return t.type===e.Type.createSnippet},e.isSuggestedSnippetSuccessDismissed=function(t){return t.type===e.Type.suggestedSnippetSuccessDismissed},e.isHoverAction=function(t){return t.type===e.Type.hover},e.isAlertCardShow=function(t){return t.type===e.Type.alertCardShow},e.isBulkAcceptItemShow=function(t){return t.type===e.Type.bulkAcceptItemShow},e.isSwitchToClosestByViewport=function(t){return t.type===e.Type.switchToClosestByViewport},e.isAlertMinicardButtonClick=function(t){return t.type===e.Type.alertMinicardButtonClick},e.isMiniItemClick=function(t){return t.type===e.Type.miniItemClick},e.isChecklistItemCollapseButtonClick=function(e){return e.type===h.a.Type.collapseButtonClick},e.isOnboardingClose=function(t){return t.type===e.Type.onboardingClose},e.isNavigation=function(t){return t.type===e.Type.openSetGoals||t.type===e.Type.openPreferences},e.isDismissMuteQuotedAdvice=function(t){return t.type===e.Type.dismissMuteQuotedAdvice},e.isMuteQuotedAdviceShow=function(t){return t.type===e.Type.muteQuotedAdviceShow},e.isChangeUserInput=function(t){return t.type===e.Type.changeUserInput},e.isFocusUserInput=function(t){return t.type===e.Type.focusUserInput},e.isBulkApply=i,e.isBulkDismiss=o,e.isBulkIgnore=s,e.isBulkHighlight=u,e.isBulkUndo=f,e.isBulkIndividualUndo=b,e.isBulkLooksGood=y,e.isBulkAction=Object(d.p)(i,o,s,u,b,y,f),e.isMutedAlertSuggestionsManagementClick=function(t){return t.type===e.Type.mutedAlertSuggestionManagementClick},e.isSDUICardAction=function(t){return t.type===e.Type.sduiCardAction},function(t){const a=l.a(c.a)(m.a.ActionListSchema);t.eq=p.c.fromEquals((t,n)=>t.type===e.Type.sduiCardAction&&t.type===n.type&&t.cardId===n.cardId&&a.equals(t.actions,n.actions))}(n=e.SDUICardAction||(e.SDUICardAction={})),e.isOpenIdeasGallery=function(t){return t.type===e.Type.openIdeasGallery}}(n||(n={})),function(e){let t;!function(e){e.drilldown="synfonyDrilldownSelect",e.back="synfonyDrilldownBack"}(t=e.Kind||(e.Kind={})),e.isDrilldown=function(e){return e.type===t.drilldown},e.isBack=function(e){return e.type===t.back}}(r||(r={})),function(e){e.isReviewEdit=function(e){return e.type===n.Type.shortenItReviewEdit},e.isDismissEdit=function(e){return e.type===n.Type.shortenItDismissEdit},e.isKeepEdit=function(e){return e.type===n.Type.shortenItKeepEdit}}(i||(i={})),function(e){let t;function a(e){return e.type===t.startTransitionTo}!function(e){e.startTransitionTo="startTransitionTo",e.completeTransitionTo="completeTransitionTo"}(t=e.Kind||(e.Kind={})),e.isStartTransitionTo=a,e.isCardExpand=function(e){return a(e)&&"expanded"===e.transition.type},e.isCompleteTransitionTo=function(e){return e.type===t.completeTransitionTo}}(o||(o={})),function(e){let t;!function(e){e.dismissBatch="dismissBatch"}(t=e.Kind||(e.Kind={})),e.isDismissAlertsBatchAction=function(e){return e.type===t.dismissBatch}}(s||(s={})),Object(u.e)(void 0)},"/i6n":function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a("ERkP"),r=a("9NHN"),i=a("6fbX"),o=a("hoSD"),s=a("ax6a"),c=a("6gXa"),l=a("WIwS"),d=a("eTAx"),p=a("tZ26");const u=32,m=2*Math.PI*u,g=u+4,h=2*g,f=94,b=(e,t,a)=>e<t?t:e>a?a:e,y=e=>{switch(e){case k.ColorType.eggBlue:return{type:"gradient",value:{coordinates:{x1:"0%",y1:"50%",x2:"50%",y2:"50%"},start:"#0bc7c3",end:"#0fd5bf"},background:"#f1f2fa",outline:"#fff"};case k.ColorType.dandelion:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"0%",x2:"35%",y2:"100%"},start:"#ffde66",end:"#ffc148"},background:"#f1f2fa",outline:"#fff"};case k.ColorType.radicalRed:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"50%",x2:"40%",y2:"100%"},start:"#ff4562",end:"#ff153e"},background:"#f1f2fa",outline:"#fff"};case k.ColorType.lightVisteria:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"0%",x2:"50%",y2:"100%"},start:"#e191e2",end:"#c770c8"},background:"#f1f2fa",outline:"#fff"};case k.ColorType.royalBlue:return{type:"gradient",value:{coordinates:{x1:"17%",y1:"15%",x2:"50%",y2:"100%"},start:"#2a42ef",end:"#6391ff"},background:"#f1f2fa",outline:"#fff"};case k.ColorType.logan:return{type:"plain",value:"#a6adc9",background:"#f1f2fa",outline:"#fff"};case k.ColorType.electricViolet:return{type:"plain",value:"#913dcc",background:"#eed6ff"};case k.ColorType.crimson:return{type:"plain",value:"#ea1537",background:"#ffccd5"};case k.ColorType.blueRibbon:return{type:"plain",value:"#1a57ff",background:"#cdf"};case k.ColorType.green:return{type:"plain",value:"#15c39a",background:"#dcf6f6"};case k.ColorType.lightBlue:return{type:"plain",value:"#00bbcc",background:"#ccfbff"};case k.ColorType.orange:return{type:"plain",value:"#ffa600",background:"#fee8b4"};case k.ColorType.neoBlue:return{type:"plain",value:"#4A6EE0",background:"#DBEBFF"};case k.ColorType.white:return{type:"plain",value:"#fff",background:"#fff",backgroundOpacity:.2};default:return Object(i.d)(e)}},v=e=>{switch(e){case k.FontSize.normal:return 32;case k.FontSize.small:return 24;default:return Object(i.d)(e)}},C=e=>{switch(e){case k.IconSize.pdf:case k.IconSize.normal:case k.IconSize.outcome:return 5;case k.IconSize.small:return 3;case k.IconSize.extraSmall:return 10;default:return Object(i.d)(e)}},O=e=>{switch(e){case k.IconSize.pdf:return 110;case k.IconSize.normal:return 52;case k.IconSize.outcome:return 32;case k.IconSize.small:return 24;case k.IconSize.extraSmall:return 16;default:return Object(i.d)(e)}};class k extends n.Component{render(){const{percentage:e,aimValue:t=100,colorType:a=k.ColorType.logan,fontSize:i=k.FontSize.normal,iconSize:s=k.IconSize.normal,description:c,theme:l=E}=this.props,w=[n.createElement("circle",{key:"circle",id:"circle",cx:g,cy:g,r:u,fill:"none"})],S=v(i),A=C(s),x=b(e,0,100),I=b(t,x,100),j=x*m/100,T=I*m/100,N=360*A/m,L=x?m-j-2*A:m;let B,P,F,D,$;const R=y(a);if("plain"===R.type)B=R.value,P=B,F=R.outline,D=R.background,$=void 0===R.backgroundOpacity?1:R.backgroundOpacity;else{const e=R.value;this._gradientId=Boolean(this._gradientId)?this._gradientId:`pb-gradient-${k._nextGradientId++}`,w.push(n.createElement("linearGradient",Object.assign({id:this._gradientId,key:this._gradientId,gradientUnits:"userSpaceOnUse"},e.coordinates),n.createElement("stop",{stopColor:e.start,offset:"0%"}),n.createElement("stop",{stopColor:e.end,offset:"100%"}))),B=`url(#${this._gradientId})`,P="#2b2d38",F=R.outline,D=R.background,$=void 0===R.backgroundOpacity?1:R.backgroundOpacity}return n.createElement(d.a.Context.Consumer,null,e=>n.createElement(p.e,Object.assign({},Object(r.c)(E.iconWrapper,l.radialProgressBar),{width:O(s),viewBox:`0 0 ${h} ${h}`}),n.createElement("defs",null,w),n.createElement("g",null,n.createElement("use",{className:E.valueCircle,stroke:x>=f&&Boolean(F)?F:D,strokeOpacity:$,strokeWidth:A,strokeDasharray:m,strokeDashoffset:m-T,transform:`rotate(-90 ${g} ${g})`,strokeLinecap:"round",xlinkHref:"#circle"}),Boolean(F)?n.createElement("use",{className:E.valueCircle,stroke:F,strokeWidth:A,strokeDasharray:m,strokeDashoffset:L,transform:`rotate(${-90-N} ${g} ${g})`,strokeLinecap:"round",xlinkHref:"#circle"}):null,n.createElement("use",{className:E.valueCircle,stroke:B,strokeDasharray:m,strokeDashoffset:m-j,strokeLinecap:"round",transform:`rotate(-90 ${g} ${g})`,strokeWidth:A,xlinkHref:"#circle"}),n.createElement("text",Object.assign({className:l.radialProgressText,y:"38",x:"36",fill:P,fontSize:S,fontStyle:"normal",textAnchor:"middle"},o.c.svgVerticalAlignment(e.has(d.a.Flag.supportsSVGDominantBaseline))),x),Boolean(c)?n.createElement("text",{className:l.radialProgressDescription,fill:P,x:"50%",y:"80%",fontStyle:"normal",textAnchor:"middle"},c):null)))}}k._nextGradientId=0,function(e){let t,a,n;!function(e){e.eggBlue="eggBlue",e.dandelion="dandelion",e.radicalRed="radicalRed",e.lightVisteria="lightVisteria",e.royalBlue="royalBlue",e.logan="logan",e.electricViolet="electricViolet",e.crimson="crimson",e.blueRibbon="blueRibbon",e.green="green",e.lightBlue="lightBlue",e.orange="orange",e.white="white",e.neoBlue="neoBlue"}(t=e.ColorType||(e.ColorType={})),function(e){e.normal="normal",e.small="small"}(a=e.FontSize||(e.FontSize={})),function(e){e.normal="normal",e.small="small",e.extraSmall="extraSmall",e.outcome="outcome",e.pdf="pdf"}(n=e.IconSize||(e.IconSize={}))}(k||(k={}));const w={width:c.a.percent(100),height:c.a.percent(100),fontWeight:"bold",fill:s.a.CoreNeutral90},S={fontSize:c.a.rem(2),fill:s.a.CoreNeutral90},A={fontWeight:"normal",fontSize:c.a.px(11),fill:l.l},E=c.a.stylesheet({radialProgressBar:[w],radialProgressText:[S],radialProgressDescription:[A],valueCircle:[{transition:"stroke-dashoffset .5s"}],iconWrapper:[{stroke:"none",fill:"none",$nest:{"&[data-hovered='true']":{stroke:"none",fill:"none"}}}]})},"0A/6":function(e,t,a){"use strict";a.d(t,"a",(function(){return de}));var n=a("ERkP"),r=a("OA+g"),i=a("I7vG"),o=a("vOOZ"),s=a("LNSM"),c=a("lrqh"),l=a("Urso"),d=a("+w1e"),p=a("D/5U"),u=a("sWLkM"),m=a("rq0W");const g=({children:e,mount:t})=>n.createElement(o.a.div,{"data-role":"animation-wrapper",className:p.a.animationWrapper,mount:t},e),h=e=>Object(i.pipe)(c.g.fromNullable(e.activeAlert),c.g.fold(()=>e.id,e=>e.id));class f extends n.Component{constructor(){super(...arguments),this._elementState=l.a.emptyWithName("card")}_stateToElement(e){switch(e){case"added":case"rendered":return this.props.miniCard;case"focused":case"expanded":case"presuccess":return this.props.fullCard;case"success":return this.props.successCard;case"feedback_form":return this.props.feedbackForm;case"removed":return this.props.removedCard;case"muted":return this.props.mutedCard;default:return null}}componentWillUnmount(){const{card:e,actions:t}=this.props;t.next({type:d.a.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId})}render(){const{actions:e,card:t,transitionClassMapper:a}=this.props;if(!t.visualState.incomplete)return n.createElement(g,{mount:this.props.mount},n.createElement(o.a.div,{key:t.visualState.transition.type},this._stateToElement(t.visualState.transition.type)));const f=a||m.c,{main:b,shade:y}=f(t.visualState),v=s.a.create(void 0===y?c.g.none:Object(i.pipe)(t.visualState.from,c.g.map(e=>({state:e,className:y}))));return!Boolean(b)&&c.g.isNone(v.get())&&requestAnimationFrame(()=>e.next({type:d.a.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId})),n.createElement(l.a.Context.Provider,{value:this._elementState},n.createElement(g,{mount:this.props.mount},v.view(Object(r.flow)(c.g.map(({state:a,className:r})=>n.createElement(o.a.div,{className:r,key:"shade"+a+h(t),onAnimationEnd:a=>{u.b.get(a.animationName)!==r&&p.b.get(a.animationName)!==r||(e.next({type:d.a.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId}),requestAnimationFrame(()=>v.set(c.g.none)))}},this._stateToElement(a))),c.g.toUndefined)),n.createElement(o.a.div,{className:b,key:"expanded"===t.visualState.transition.type?"focused":t.visualState.transition.type,onAnimationEnd:()=>e.next({type:d.a.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId}),onTransitionEnd:()=>{"presuccess"===t.visualState.transition.type&&e.next({type:d.a.Kind.startTransitionTo,id:t.id,transition:{type:"success",clockwise:t.visualState.transition.clockwise}})}},this._stateToElement(t.visualState.transition.type))))}}var b=a("9NHN"),y=a("ax6a"),v=a("6gXa"),C=a("WIwS"),O=a("ps/9"),k=a("tZ26"),w=a("BugA");class S extends n.Component{constructor(){super(...arguments),this._ref=n.createRef(),this._createCardToggler=e=>()=>this.props.actions.next({type:d.b.Type.hover,kind:e,id:this.props.cardId})}componentDidUpdate(){var e,t;Boolean(this.props.inert)?null===(e=this._ref.current)||void 0===e||e.setAttribute("inert","true"):null===(t=this._ref.current)||void 0===t||t.removeAttribute("inert")}componentWillUnmount(){this._createCardToggler("unhover")()}render(){const{getActiveAlert:e,cardId:t,actions:a,children:r,counter:i,className:s,hideActivateButton:c,hideDot:l}=this.props;return n.createElement(o.a.div,Object.assign({"data-aid":t,mount:e=>this._ref.current=e,onClick:t=>{const n=e();a.next({type:d.b.Type.alertMinicardButtonClick,alertHighlight:{highlightIndex:0,alert:n},clickPoint:{x:t.clientX,y:t.clientY}})},onMouseEnter:this._createCardToggler("hover"),onMouseLeave:this._createCardToggler("unhover")},Object(b.c)(s,F.wrapper,null!=l&&l?null:F.miniCard)),n.createElement(w.Base,Object.assign({},Object(b.c)(F.contentWrapper,null!=l&&l?F.contentWrapperWithoutDot:F.contentWrapperWithDot)),r),n.createElement("div",{className:F.iconContainer},i&&n.createElement("div",{className:A},i),null!=c&&c?null:n.createElement("div",{className:E},n.createElement(k.d.Arrow,{className:F.activeTopIcon}),n.createElement(k.d.Arrow,{className:F.activeBottomIcon}))))}}const A=v.a.joinClasses(["baseMiniCounterContainer",v.a.style({position:"absolute",height:v.a.percent(100),top:0,right:0,zIndex:O.i,margin:"auto 0",background:y.a.CoreNeutral0,opacity:1})]),E=v.a.joinClasses(["baseMiniActivateBtnSelector",v.a.style({position:"absolute",top:0,right:0,height:v.a.percent(100),zIndex:O.i,display:"flex",flexDirection:"column",margin:"auto 0",background:y.a.CoreNeutral0,opacity:0,justifyContent:"center"})]),x={position:"relative",display:"flex",overflow:"hidden",borderRadius:v.a.rem(O.s),background:y.a.CoreNeutral0,boxShadow:"0 1px 8px rgba(109, 117, 141, .18)",cursor:"pointer",alignItems:"center",$nest:{"&:hover":{background:y.a.CoreNeutral0,boxShadow:"0 1px 12px 0 rgba(129, 137, 169, .2)",transitionDuration:v.a.seconds(.2)},"&:hover .baseMiniActivateBtnSelector":{opacity:1},"&:hover .baseMiniCounterContainer":{opacity:0}}},I={overflow:"hidden",color:C.l,textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:v.a.rem(1.5)},j={margin:`0 ${v.a.rem(3)} 0 ${v.a.rem(2)}`},T={paddingLeft:v.a.rem(.5)},N={position:"absolute",top:0,right:v.a.rem(.5),bottom:0,display:"flex"},L={display:"flex",margin:`${v.a.rem(.1)} 0 ${v.a.rem(-1.25)}`,transform:"rotate(180deg)"},B={$nest:{"&:before":{position:"absolute",width:v.a.px(10),height:v.a.px(10),borderRadius:v.a.percent(50),content:"''",transform:"scale(.5)"}}},P={$nest:{"&:before":{margin:`auto 0 auto ${v.a.rem(.75)}`}}},F=v.a.stylesheet({wrapper:[x],contentWrapper:[I],contentWrapperWithDot:[j],contentWrapperWithoutDot:[T],iconContainer:[N],activeTopIcon:[L],activeBottomIcon:[{display:"flex",height:"auto"}],dotBase:[B],miniCard:[B,P]});var D=a("qZUR");class $ extends n.Component{constructor(){super(...arguments),this._ref=n.createRef(),this._createCardToggler=e=>()=>this.props.actions.next({type:d.b.Type.hover,kind:e,id:this.props.cardId})}componentDidUpdate(){var e,t;Boolean(this.props.inert)?null===(e=this._ref.current)||void 0===e||e.setAttribute("inert","true"):null===(t=this._ref.current)||void 0===t||t.removeAttribute("inert")}componentWillUnmount(){this._createCardToggler("unhover")()}render(){const{getActiveAlert:e,cardId:t,actions:a,children:r,counter:i,className:s,hideActivateButton:c,hideDot:l}=this.props;return n.createElement(o.a.div,Object.assign({"data-aid":t,tabIndex:0,role:"button","aria-disabled":!1,mount:e=>this._ref.current=e,onClick:t=>{const n=e();a.next({type:d.b.Type.alertMinicardButtonClick,alertHighlight:{highlightIndex:0,alert:n},clickPoint:{x:t.clientX,y:t.clientY}})},onKeyDown:e=>{" "!==e.key&&"Enter"!==e.key||(e.target.click(),e.preventDefault())},onMouseEnter:this._createCardToggler("hover"),onMouseLeave:this._createCardToggler("unhover")},Object(b.c)(s,Y.wrapper,null!=l&&l?null:Y.miniCard)),n.createElement(w.Base,Object.assign({},Object(b.c)(Y.contentWrapper,null!=l&&l?Y.contentWrapperWithoutDot:Y.contentWrapperWithDot)),r),n.createElement("div",{className:Y.iconContainer},i&&n.createElement("div",{className:R},i),null!=c&&c?null:n.createElement("div",{className:M},n.createElement(k.d.Arrow,{className:Y.activeTopIcon}),n.createElement(k.d.Arrow,{className:Y.activeBottomIcon}))))}}const R=v.a.joinClasses(["baseMiniCounterContainer",v.a.style({position:"absolute",height:v.a.percent(100),top:0,right:0,zIndex:O.i,margin:"auto 0",background:y.a.CoreNeutral0,opacity:1})]),M=v.a.joinClasses(["baseMiniActivateBtnSelector",v.a.style({position:"absolute",top:0,right:0,height:v.a.percent(100),zIndex:O.i,display:"flex",flexDirection:"column",margin:"auto 0",opacity:0,justifyContent:"center"})]),_={position:"relative",display:"flex",overflow:"hidden",borderRadius:v.a.rem(O.s),background:y.a.CoreNeutral0,boxShadow:D.a.z100,cursor:"pointer",alignItems:"center",$nest:{"&:hover":{background:y.a.CoreNeutral10,transitionDuration:v.a.seconds(.2)},"&:focus":{background:y.a.CoreNeutral10,boxShadow:`${D.a.z100}, 0 0 0 2px rgb(99 142 235)`,outline:"none"},"&:hover .baseMiniActivateBtnSelector":{opacity:1},"&:hover .baseMiniCounterContainer":{opacity:0}}},W={overflow:"hidden",color:C.l,textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:v.a.rem(1.5)},H={margin:`0 ${v.a.rem(3)} 0 ${v.a.rem(2)}`},G={paddingLeft:v.a.rem(.5)},q={position:"absolute",top:0,right:v.a.rem(.5),bottom:0,display:"flex"},V={display:"flex",margin:`${v.a.rem(.1)} 0 ${v.a.rem(-1.25)}`,transform:"rotate(180deg)"},z={$nest:{"&:before":{position:"absolute",width:v.a.px(10),height:v.a.px(10),borderRadius:v.a.percent(50),content:"''",transform:"scale(.5)"}}},U={$nest:{"&:before":{margin:`auto 0 auto ${v.a.rem(.75)}`}}},Y=v.a.stylesheet({wrapper:[_],contentWrapper:[W],contentWrapperWithDot:[H],contentWrapperWithoutDot:[G],iconContainer:[q],activeTopIcon:[V],activeBottomIcon:[{display:"flex",height:"auto"}],dotBase:[z],miniCard:[z,U]});var X,K=a("D9EC"),Z=a("rk+4"),Q=a("nnns"),J=a("zR/0"),ee=a("3bJT");!function(e){e[e.stage0=0]="stage0",e[e.stage1=1]="stage1",e[e.stage2=2]="stage2"}(X||(X={}));const te=({actions:e,isLastCard:t})=>{const a=n.useContext(Z.a.Context).successLens.fixedText.titles,r=s.a.create(X.stage0),i=()=>e.next({type:d.b.Type.switchToNext});return n.createElement(o.a.div,{className:le.successWrapper},n.createElement(w.P1,{className:le.successText,onAnimationEnd:()=>{r.set(X.stage1)}},a[Object(K.q)(a.length)]),n.createElement(o.a.span,null,r.view(e=>e>=X.stage1&&n.createElement("span",{onAnimationEnd:()=>r.set(X.stage2)},n.createElement(k.d.CheckmarkAnimated,{className:le.successCheckMark})))),n.createElement(o.a.span,{className:le.successBtnHolder},t.pipe(J.a.combineLatest(r,(e,t)=>t<X.stage2?null:e?n.createElement(Q.a.Caps,{className:le.doneBtn,name:"done",key:"done-btn",onClick:i},"Done"):n.createElement(Q.a.Caps,{className:le.successBtn,name:"next",key:"next-card",onClick:i},"Next")))))},ae=v.a.keyframes({"0%":{opacity:0},"100%":{opacity:1}}),ne={fontWeight:"bold",lineHeight:v.a.rem(2),animation:`${ae} ${v.a.seconds(.2)} linear forwards`},re={position:"relative",borderRadius:v.a.rem(O.r),background:y.a.CoreNeutral0,boxShadow:`0 ${v.a.rem(.625)} ${v.a.rem(O.a)} 0 rgba(198, 203, 222, .45)`},ie={display:"flex",padding:`${v.a.rem(1.5)} ${v.a.rem(2)}`,alignItems:"center"},oe={marginLeft:v.a.rem(1),minWidth:0,minHeight:0,width:v.a.rem(1.325),height:v.a.rem(1.325),animation:`${ae} ${v.a.seconds(.2)} linear forwards`},se={float:"right",width:v.a.rem(4),textAlign:"center",animation:`${ae} ${v.a.seconds(.2)} linear forwards`},ce={backgroundColor:y.a.CoreGreen50,color:y.a.CoreNeutral0,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:C.a}}},le=Object.assign(Object.assign({},v.a.stylesheet({successText:[ne],successCheckMark:[oe],successBtnHolder:[{marginLeft:"auto",fontWeight:"bold"}],successBtn:[se],doneBtn:[se,ce]})),{fullCard:v.a.joinClasses([ee.b.fullCardSelector,v.a.style(re)]),successWrapper:v.a.joinClasses([ee.b.successWrapperSelector,v.a.style(re,ie)])});var de,pe;(pe=de||(de={})).Mini=S,pe.MiniContrast=$,pe.Card=f,pe.Success=te},"0Hf4":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("lyoF");const r=Object(n.a)()},"0PmZ":function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a("ERkP"),r=a("9NHN"),i=a("6gXa"),o=a("rk+4"),s=a("nnns"),c=a("tZ26"),l=a("BugA");const d=({onLeftClick:e,onRightClick:t,currentMatch:a,totalMatch:i,replaceOneMatch:d=!0,disableOnEnd:p=!0,style:u})=>{const g=n.useContext(o.a.Context).card.matchesNavigation;return 0===i?null:1===i&&d?n.createElement("div",Object.assign({},Object(r.c)(m.matchesRow,!!Boolean(u.matchesRow)&&u.matchesRow)),n.createElement(l.Lawyer,Object.assign({},Object(r.c)(m.matchesCount,!!Boolean(u.matchesCount)&&u.matchesCount)),g.numberOfMatches(i))):n.createElement("div",Object.assign({},Object(r.c)(m.matchesRow,!!Boolean(u.matchesRow)&&u.matchesRow)),n.createElement(s.a.Ghost,{disabled:p&&0===a,name:"left",title:g.prev,onClick:e},n.createElement(c.d.Arrow,Object.assign({},Object(r.c)(m.leftButtonIcon,!!Boolean(u.leftButtonIcon)&&u.leftButtonIcon)))),n.createElement(l.Lawyer,Object.assign({},Object(r.c)(m.matchesCount,!!Boolean(u.matchesCount)&&u.matchesCount)),g.currentMatchPosition(a+1,i)),n.createElement(s.a.Ghost,{disabled:p&&a===i-1,name:"right",title:g.next,onClick:t},n.createElement(c.d.Arrow,Object.assign({},Object(r.c)(m.rightButtonIcon,!!Boolean(u.rightButtonIcon)&&u.rightButtonIcon)))))},p={display:"inline-block",verticalAlign:"middle",$nest:{"& > * + *":{marginLeft:i.a.rem(.25)}}},u={textTransform:"uppercase",letterSpacing:i.a.px(.8),lineHeight:i.a.rem(2)},m=i.a.stylesheet({matchesRow:[p],leftButtonIcon:[{transform:"rotate(90deg)"}],rightButtonIcon:[{transform:"rotate(270deg)"}],matchesCount:[u]})},"0gxC":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("D57K"),i=a("ERkP"),o=a("OA+g"),s=a("I7vG"),c=a("vOOZ"),l=a("9NHN"),d=a("zR/0"),p=a("nb6X"),u=a("hoSD"),m=a("6fbX"),g=a("lrqh"),h=a("D9EC"),f=a("ax6a"),b=a("6gXa"),y=a("By/D"),v=a("1gzW"),C=a("gy42");!function(e){let t;!function(e){e.toSelector=function(e){switch(e){case"top":case"topCenter":return{align:"top",selector:p.a.Selector.preferBy("top",p.a.Selector.Placement.middle)};case"topRight":return{align:"top",selector:p.a.Selector.preferBy("top",p.a.Selector.Placement.right)};case"topLeft":return{align:"top",selector:p.a.Selector.preferBy("top",p.a.Selector.Placement.left)};case"bottom":case"bottomCenter":return{align:"bottom",selector:p.a.Selector.preferBy("bottom",p.a.Selector.Placement.middle)};case"bottomRight":return{align:"bottom",selector:p.a.Selector.preferBy("bottom",p.a.Selector.Placement.right)};case"bottomLeft":return{align:"bottom",selector:p.a.Selector.preferBy("bottom",p.a.Selector.Placement.left)};case"left":return{align:"left",selector:p.a.Selector.preferBy("left",p.a.Selector.Placement.middle)};case"right":return{align:"right",selector:p.a.Selector.preferBy("right",p.a.Selector.Placement.middle)};case"auto":case"center":return{align:u.c.Rect.Axis.vertical,selector:p.a.Selector.preferBy("top",p.a.Selector.Placement.middle)};default:return Object(m.d)(e)}}}(t=e.Alignment||(e.Alignment={})),e.ByPoint=e=>{var{point:t,className:a}=e,n=Object(r.__rest)(e,["point","className"]);return i.createElement(c.a.div,Object.assign({role:"positioned-container",style:t.pipe(d.a.map(g.g.mapOrDefault(p.a.toCss,{})))},Object(l.c)(x.wrapper,a,t.pipe(d.a.map(e=>g.g.isNone(e)?x.hidden:""))),n))};const a=t=>{const{rect:a,onMount:r}=v.a.useRectWatcher(),s=C.b.toObservable(t.rect),c=C.b.toObservable(t.pinTargetRect),l=f(t.align),u=n(s,a,l,t.selector||p.a.Selector.preferTopMiddle,c,"relative"===t.position);return i.createElement(e.ByPoint,{mount:r,className:t.className,point:u.pipe(d.a.map(g.g.map(e=>e.tangentialPoint)))},!0===t.withPin&&u.pipe(d.a.map(Object(o.flow)(g.g.chain(e=>e.median),g.g.map(t=>i.createElement(e.Pin,{point:t,key:"pin"})),g.g.toNullable))),t.children)};e.ByAbsoluteRect=e=>i.createElement(a,Object.assign({},e,{position:"absolute"})),e.ByRelativeRect=e=>i.createElement(a,Object.assign({},e,{position:"relative"})),e.Pin=e=>{const t=C.b.toObservable(e.point).pipe(d.a.map(e=>e.side),d.a.map(e=>E[e])),a=C.b.toObservable(e.point).pipe(d.a.map(e=>e.point),d.a.map(({x:e,y:t})=>({top:t,left:e})));return i.createElement(c.a.i,Object.assign({role:"pin",style:a},Object(l.c)(t,E.wrapper)))};const n=(e,t,a,n,r,o)=>d.a.combineLatestStatic(e,i.useContext(y.a.Context).pipe(d.a.map(e=>e.rect)),t.pipe(d.a.distinctUntilChanged(g.g.getEq(u.c.Box.eq).equals)),r).pipe(d.a.map(([e,t,r,i])=>Object(s.pipe)(r,g.g.map(r=>{const c=p.a.QualifiedVariants.build(t,r,a(e));let l=n(c).point;const d=Object(s.pipe)(p.a.toRect(r,l),g.g.fromEither,g.g.chain(t=>Object(s.pipe)(u.c.Rect.getMedian(e,t),g.g.map(e=>({anchorMedian:e,bodyRect:t})))),g.g.chain(({anchorMedian:e,bodyRect:t})=>{if(i){const a=u.c.Rect.stickToSide(u.c.Rect.Side.invert(e.side),i)(t);return l=p.a.fromRect(a),Object(s.pipe)(u.c.Rect.getMedian(i,a),g.g.map(({side:e,point:t})=>({side:e,point:u.c.Rect.Point.relativeTo(t,a)})))}return Object(s.pipe)(g.g.some(e),g.g.map(({side:e,point:a})=>({side:e,point:u.c.Rect.Point.relativeTo(a,t)})))}));return{tangentialPoint:p.a.relativeTo(l,o?e:t),median:d}})))),f=(e=u.c.Rect.Axis.both)=>Object(h.v)(u.c.Rect.Axis,e)?t=>p.a.Variants.byAxis(e,t):t=>({[e]:p.a.Zone.bySide(e,t)})}(n||(n={}));const O={position:"absolute",border:`${b.a.px(7)} solid ${f.a.BackgroundTooltip}`,transform:`translate(${b.a.px(-7)}, ${b.a.px(-7)})`},k={borderTopColor:"transparent",borderRightColor:"transparent",borderLeftColor:"transparent",$nest:{"& + *":{transform:`translateY(${b.a.px(7)})`}}},w={borderTopColor:"transparent",borderRightColor:"transparent",borderBottomColor:"transparent",$nest:{"& + *":{transform:`translateX(${b.a.px(-7)})`}}},S={borderRightColor:"transparent",borderBottomColor:"transparent",borderLeftColor:"transparent",$nest:{"& + *":{transform:`translateY(${b.a.px(-7)})`}}},A={borderTopColor:"transparent",borderBottomColor:"transparent",borderLeftColor:"transparent",$nest:{"& + *":{transform:`translateX(${b.a.px(7)})`}}},E=b.a.stylesheet({wrapper:[O],top:[k],right:[w],bottom:[S],left:[A]}),x=b.a.stylesheet({hidden:[{visibility:"hidden",opacity:0}],wrapper:[{position:"absolute",transition:"opacity .2s"}]})},"0mPX":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("aIes");const r=["b","i","br","ul","li"];var i;!function(e){e.renderToHtml=function(e,t){const a=t?{allowedTags:r.concat(["a"]),linkRegExp:t}:{allowedTags:r};return n.d.setInnerHTML(e,a)}}(i||(i={}))},"1w6p":function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return R}));var n,r,i=a("b+P9"),o=a("+Caq"),s=a("5p8x"),c=a("V0o3"),l=a("OA+g"),d=a("g6G6"),p=a("rYDR"),u=a("HM3f"),m=a("6Oco"),g=a("ROBh"),h=a("IdLP"),f=a("8j5Y"),b=a("TLy2"),y=a("xVbo"),v=a("YtkY"),C=a("iLlD"),O=a("SrNW"),k=a("7SLS"),w=a("mWib"),S=a("jIqt"),A=a("BwBJ"),E=a("jOdJ"),x=a("I7vG"),I=a("Lrfq"),j=a("i7Dj");(n||(n={})).split=function(e){const t=Object(x.pipe)(e,I.a(1),j.a());return{animation:Object(x.pipe)(t,y.a(e=>"root"===e.action.key),v.a(e=>({key:e.key,action:e.action.action}))),action:Object(x.pipe)(t,y.a(e=>"children"===e.action.key),v.a(e=>({key:e.key,action:e.action.action})))}},function(e){function t(e){return o.map(e)}function a(e){return o.local(e)}function r(e,t){return a=>Object(l.pipe)(e,y.a(e=>e.key===t&&e.action.animationType===a),v.a(e=>e.action),S.a({kind:"init"}),b.a(e=>"end"===e.kind?Object(g.a)(e):Object(l.pipe)(Object(g.a)({kind:"end",animationType:a}),A.a("start"===e.kind?j:I))),E.a())}e.fromSideEffect=function(e,t){return a=>Object(d.a)(a.pipe(f.a(e),b.a(()=>p.a)),function(e){return e instanceof h.a?e:Object(g.a)(e)}(t))},e.patchState=t,e.extendActions=a,e.patch=function(e,n){return Object(l.flow)(a(e),t(n))},e.replaceActions=function(e){return o.local(Object(l.flow)(e,b.a(()=>p.a)))},e.composeKnot=function(e){return o.asks(t=>Object(u.b)(Object.keys(e).map(a=>e[a](t.pipe(y.a(e=>e.key===a),v.a(e=>e.action))).pipe(v.a(e=>({[a]:e}))))).pipe(v.a(e=>e.reduce((e,t)=>Object.assign(Object.assign({},e),t)))))},e.composeUnion=function(e,t){return o.asks(a=>Object(l.pipe)(t(a),b.a(t=>{const[[n,r]]=Object.entries(t);return Object(l.pipe)(a,y.a(e=>e.key===r),v.a(e=>e.action),e[r],v.a(e=>Object.assign(Object.assign({},e),{[n]:r})))})))},e.animatingFlow=function(e,t){return a=>{const{action:o,animation:p}=n.split(a);let u=0;return Object(l.pipe)(o,y.a(e=>e.key===String(u)),C.a("action"),e,O.a(function(e,t){return(a,n)=>{const r=t(),o=i.fromNullable(a[r]),s=Object(l.pipe)(o,i.map(e=>e.children)),d=e(s,n);if(i.isNone(d))return{[r]:{root:i.none,children:n}};{const e={[r+1]:{root:c.getRight(d.value),children:n}},t=c.getLeft(d.value);return i.isSome(t)&&i.isSome(s)&&(e[r]={root:t,children:s.value}),e}}}(t,()=>u),{}),f.a(e=>u=Number(Object.keys(e).pop())),b.a(function(e,t){return a=>{const n=String(t()-1),o=String(t()),c=Object(l.pipe)(i.fromNullable(a[n]),i.chain(e=>e.root),i.map(r(e,n)),i.fold(()=>m.a,l.identity),k.a(s.b(n))),p=Object(l.pipe)(a[o].root,i.map(r(e,o)),i.fold(()=>m.a,l.identity),k.a(e=>{const t=Object.assign({},e);return t[o]=Object.assign(Object.assign({},t[o]),{root:i.none}),t}));return Object(l.pipe)(Object(d.a)(c,p),O.a((e,t)=>t(e),a),w.a(x),S.a(a))}}(p,()=>u)))}};const x=100,I=500,j=10*I}(r||(r={}));var T=a("ERkP"),N=a("ZTXN"),L=a("Ohay"),B=a("vOOZ");const P="root";var F=a("m6JR"),D=a("C05f");function $(e){return Object(l.flow)(L.a(),O.a((t,a)=>e.reduceWithIndex(a,new Map,(e,a,n)=>{const r=t.get(e);return void 0!==r?(a.set(e,r),r.next(n)):a.set(e,new D.a(n)),a}),new Map),L.a((t=F.fromEquals(()=>!0),{equals:(e,a)=>{var n;if(e===a)return!0;if(e.size===a.size){const r=e.keys();let i;for(;null===(n=(i=r.next()).done)||void 0===n||!n;)if(!a.has(i.value)||!t.equals(e.get(i.value),a.get(i.value)))return!1;return!0}return!1}}).equals));var t}var R,M=a("5uGe"),_=a("xtkq");class W{constructor(e){this._keySelector=e}call(e,t){return t.subscribe(new H(e,this._keySelector))}}class H extends M.a{constructor(e,t){super(e),this.destination=e,this._keySelector=t,this.attemptedToUnsubscribe=!1,this.count=0,this._currentGroup=i.none}_next(e){const t=this._keySelector(e);Object(x.pipe)(this._currentGroup,i.fold(()=>this._createGroup(t,e),({key:a,group:n})=>{a!==t?(n.complete(),this._currentGroup=i.none,this._createGroup(t,e)):n.closed||n.next(e)}))}_createGroup(e,t){const a=new D.a(t);this._currentGroup=i.some({key:e,group:a}),this.destination.next(new _.a(e,a,this))}_error(e){Object(x.pipe)(this._currentGroup,i.map(({group:t})=>t.error(e))),this._currentGroup=i.none,this.destination.error(e)}_complete(){Object(x.pipe)(this._currentGroup,i.map(({group:e})=>e.complete())),this._currentGroup=i.none,this.destination.complete()}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}function G(e,t){return Object(x.pipe)(t,R.mapAction(t=>({key:e,action:t})),o.map(t=>null===t?t:T.cloneElement(t,{key:e})))}function q(e){return"children"in e}function V(e){return"child"in e}function z(e){return"foldable"in e}function U(e){return"members"in e}function Y(e){return T.createElement(B.a.Fragment,{children:e})}!function(e){let t,a,n,r,c,d,p,u,g;function h(e){return V(e)?t=>{const a=new Proxy({},{get:()=>{var a;return h(e.child)({children:null,notify:t.notify,state:null!==(a=t.state)&&void 0!==a?a:m.a})}});return e.grid({children:a,state:m.a,notify:l.constVoid})}:q(e)?t=>Object(x.pipe)(t.state,$(s.m),v.a(a=>{const n=Object(x.pipe)(e.children,s.k((e,n)=>G(e,h(n))({children:null,notify:t.notify,state:a.get(e)||m.a})));return e.grid({children:n,state:a.get(P)||m.a,notify:e=>t.notify({key:P,action:e})})}),Y):z(e)?t=>Object(x.pipe)(t.state,$(e.foldable),O.a((a,n)=>{const r=new Map;return n.forEach((n,i)=>{const o=a.get(i);if(void 0!==o)r.set(i,o);else{const a=G(i,h(e.of));r.set(i,a({children:null,notify:t.notify,state:n}))}}),r},new Map),v.a(e=>{const t=new Array;return e.forEach(e=>t.push(e)),t}),Y):U(e)?t=>Object(x.pipe)(t.state,function(e){return t=>t.pipe(t=>t.lift(new W(t=>t[e])))}(e.tag),v.a(a=>G(a.key,h(e.members[a.key]))({children:null,notify:t.notify,state:a})),Y):e}function f(e,t,a){return q(e)?{grid:f(e.grid,t,a),children:e.children}:z(e)?{foldable:e.foldable,of:f(e.of,t,a)}:n=>e({children:n.children,notify:Object(x.pipe)(n.notify,o.local(a)),state:Object(x.pipe)(n.state,v.a(t))})}!function(t){t.empty=()=>null,t.make=function(t){return e.Grid.make(t)}}(t=e.Node||(e.Node={})),function(e){e.make=function(e){return({children:t,state:a,notify:n})=>T.createElement(e,{slots:t,state:a,notify:e=>()=>n(e),view:(...e)=>Object(x.pipe)(a,C.a(...e),L.a())})}}(a=e.Grid||(e.Grid={})),function(e){e.make=function(e,t){return{grid:e,child:t}}}(n=e.Composite||(e.Composite={})),function(e){e.make=function(e,t){return{grid:e,children:t}}}(r=e.Knot||(e.Knot={})),function(e){e.make=function(e){return{grid:e=>Y(Object(x.pipe)(e.children,s.a((e,t)=>t))),children:e}}}(c=e.Group||(e.Group={})),function(e){e.make=function(e,t){return{foldable:e,of:t}}}(d=e.List||(e.List={})),function(t){t.make=function(e,t){return{tag:e,members:t}},t.asOption=function(t){return{tag:"_tag",members:{Some:e.Group.make({value:t}),None:e.Node.empty}}}}(p=e.Union||(e.Union={})),function(e){e.make=function(e,t){return a=>T.createElement(B.a.div,{"data-purpose":"animation-wrapper",children:a.children.children,className:Object(x.pipe)(a.state,v.a(Object(l.flow)(i.map(a=>Boolean(e[a])?e[a]:t[a]),i.toUndefined)),L.a()),onAnimationStart:Object(x.pipe)(a.state,v.a(i.fold(()=>l.constVoid,e=>()=>a.notify({kind:"start",animationType:e})))),onAnimationEnd:Object(x.pipe)(a.state,v.a(i.fold(()=>l.constVoid,e=>()=>a.notify({kind:"end",animationType:e}))))})}}(u=e.Transition||(e.Transition={})),function(t){t.make=function(t,a){return e.List.make(s.m,e.Knot.make(t,{children:a}))}}(g=e.Animated||(e.Animated={})),e.mount=function(e,t){const a=new N.a;return h(e)({children:null,notify:e=>a.next(e),state:Object(x.pipe)(t(a),I.a(1),j.a())})},e.patch=function(...e){return t=>a=>(function e(t,a,n){if(V(t)&&a.length>0)return{grid:t.grid,child:e(t.child,a,n)};if(q(t)&&a.length>0){const[r,...i]=a;return{grid:t.grid,children:Object.assign(Object.assign({},t.children),{[r]:e(t.children[r],i,n)})}}if(z(t)&&a.length>0)return{foldable:t.foldable,of:e(t.of,a,n)};if(U(t)&&a.length>0){const[r,...i]=a;return{tag:t.tag,members:Object.assign(Object.assign({},t.members),{[r]:e(t.members[r],i,n)})}}return n(t)})(a,e,t)},e.mapAction=function(e){return t=>f(t,l.identity,e)},e.contramapState=function(e){return t=>f(t,e,l.identity)},e.squash=h,e.promap=f}(R||(R={}))},"3bJT":function(e,t,a){"use strict";a.d(t,"b",(function(){return f})),a.d(t,"a",(function(){return b}));var n=a("ax6a"),r=a("6gXa"),i=a("WIwS"),o=a("ps/9");const s={position:"relative",borderRadius:r.a.rem(o.r),background:n.a.CoreNeutral0,boxShadow:`0 ${r.a.rem(.625)} ${r.a.rem(o.a)} 0 rgba(198, 203, 222, .45)`},c={$nest:{"&:before":{position:"absolute",width:r.a.px(10),height:r.a.px(10),borderRadius:r.a.percent(50),content:"''",transform:"scale(.5)"}}},l={$nest:{"&:before":{backgroundColor:i.e}}},d={$nest:{"&:before":{backgroundColor:i.n}}},p={$nest:{"&:before":{backgroundColor:n.a.CoreRed50}}},u={$nest:{"&:before":{backgroundColor:n.a.CoreBlue50}}},m={$nest:{"&:before":{backgroundColor:n.a.CoreGreen50}}},g={$nest:{"&:before":{backgroundColor:n.a.CorePurple50}}},h={$nest:{"&:before":{backgroundColor:n.a.CoreNeutral50}}},f={fullCardSelector:"fullCard",bundleInnerContainerSelector:"bundleInnerContainer",bundleFakeCard1Selector:"bundleFakeCard1",bundleFakeCard2Selector:"bundleFakeCard2",alignButtonHiddenSelector:"alignButtonHidden",cozyCardContainerSelector:"cozyCardContainer",successWrapperSelector:"successWrapper"},b=Object.assign(Object.assign({},r.a.stylesheet({dot:[c],dotAdvanced:[d],dotCritical:[l],dotCorrectness:[p],dotClarity:[u],dotEngagement:[m],dotDelivery:[g],dotVox:[h]})),{fullCard:r.a.joinClasses([f.fullCardSelector,r.a.style(s)])})},"3gHY":function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"e",(function(){return r})),a.d(t,"c",(function(){return I})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o}));var n,r,i,o,s=a("OA+g"),c=a("I7vG"),l=a("5E2i"),d=a("Ni70"),p=a("6fbX"),u=a("lrqh"),m=a("D9EC"),g=a("hoSD"),h=a("PrA7"),f=a("dE97"),b=a("GUi3"),y=a("zR/0"),v=a("gy42"),C=a("4GD7"),O=a("+w1e"),k=a("NW9S"),w=a("+5S2"),S=a("EjiM"),A=a("XxrX"),E=a("BeBM");class x extends p.a{}!function(e){e.cardSuggestedPositionGetter=(e,t)=>(a,n,r,i)=>{const o="cardTop"===i?0:t(n);return Object(c.pipe)(e(a,Object(c.pipe)(r,u.g.map(k.b.FromWindowTop.ISO.modify(k.a.concatC(-o))))),u.b.map(e=>({top:e,contentOffset:o})))},e.getSuperScrollMapper=(t,a,n)=>{const r=w.a.Mover.moveCardToPositionAnimatedGetter(t,a),i=w.a.Mover.moveCardToPositionSyncGetter(t,a),o=w.a.ContentOffset.contentOffsetGetter();return{setCardPosition:(e,t,a,s)=>{const c={top:s,contentOffset:o(t,n.get())};return(a?r({id:e,position:s}):y.a.of(i({id:e,position:s})).pipe(y.a.map(u.b.unsafeGet))).pipe(y.a.mapTo(c),y.a.startWith(c),y.a.distinctUntilChanged())},getCardSuggestedPosition:e.cardSuggestedPositionGetter(w.a.InfinityScrollGetter.cardPositionGetter(t,a),e=>o(e,n.get())),getCardSuggestedPositionInViewport:e.cardSuggestedPositionGetter(w.a.InfinityScrollGetter.cardPositionInViewportGetter(t,a),e=>o(e,n.get())),willFitViewport:(e,n)=>Object(c.pipe)(t.get(),t=>!!E.e.hasItems(t)&&w.a.willFitViewport(t,a)(e,n)),isAboveViewportTop:w.a.isAboveViewportTop(a)}}}(n||(n={})),function(e){e.getMapper=(e,t,a)=>{return{moveAlertHighlightInViewport:(t,a,n)=>e.ensureAlertHighlightInViewport(t,k.b.FromWindowTop.ISO.unwrap(a),n),getMarkAlertPosition:n=>Object(c.pipe)(e.getMarkByAlert(n),u.b.fromOption(()=>new x("getMarkByAlert returned O.none")),u.b.chain(r=>Object(c.pipe)(r.getRect(),u.b.map(d.b.relativeToViewport),u.b.map(e=>e.top),u.b.orElse(()=>(a.debug("Cached alert is missing, falling back to flush"),(a=>(t.flushChanges(),Object(c.pipe)(e.getMarkByAlert(a),u.b.fromOption(()=>new Error("getMarkByAlert returned O.none")),u.b.chain(e=>Object(c.pipe)(e.getRect(),u.b.map(d.b.relativeToViewport),u.b.map(e=>e.top))))))(n))),u.b.map(k.b.FromWindowTop.ISO.wrap))),u.b.mapLeft(e=>(e instanceof x||a.warn("Cannot getMarkAlertPosition",e),e)),u.g.fromEither,e=>y.a.of(e))}}}(r||(r={}));class I{constructor(e,t,a){this._cardPositions=e,this._alignMarkToItem=t,this._alignItemToMark=a,this._log=h.Monitoring.Logging.root.getLogger("AlignmentViewModel"),this.alignMarkToCard=(e,t,a)=>Object(c.pipe)(e,this._alignMarkToItem({animation:t,suggestedPosition:a})),this.alignCardToMark=(e,t,a)=>Object(c.pipe)(e,this._alignItemToMark({animation:t,fitCardIntoViewport:a}))}alignCardTo(e,t,a){const n=a!==C.a.Animation.NO_ANIMATION;return y.a.defer(()=>y.a.of(u.b.unsafeGet(this._cardPositions.getCardSuggestedPosition(e.id,e.renderOptions.features.has(A.a.Features.showLabel),u.g.some(t),"cardTop")))).pipe(y.a.switchMap(t=>this._cardPositions.setCardPosition(e.id,e.renderOptions.features.has(A.a.Features.showLabel),n,t.top)),y.a.mapTo(v.b.voidValue),y.a.catchError(e=>(this._log.error("Cannot align card to required top",e),y.a.EMPTY)),y.a.share())}}!function(e){e.Mock=class{constructor(){this.alignCardToMark=()=>y.a.EMPTY,this.alignCardTo=()=>y.a.EMPTY,this.alignMarkTo=()=>y.a.EMPTY,this.alignMarkToCard=()=>y.a.EMPTY}}}(i||(i={})),function(e){let t,a;!function(e){let t;!function(e){e.below="below",e.above="above",e.intersects="intersects"}(t=e.RelativePosition||(e.RelativePosition={})),e.getRelativePosition=(e,a,n)=>a.top+n>e.bottom?t.below:e.top>a.bottom?t.above:t.intersects}(t||(t={})),e.createAlignmentOnTypingEffect=(e,t,a,n,r)=>{const i=e.view(E.e.mapper(({currentLens:e})=>Object(c.pipe)(u.g.some(e),u.g.filter(Object(S.d)(r))))).pipe(y.a.map(u.g.chain(n),u.g.filter(r.isValidToAlign)),y.b.compactMap(e=>a.pipe(y.a.switchMap(v.b.Scheduler.rafScheduler),y.a.switchMap(()=>t.alignCardToMark(e,C.a.Animation.NO_ANIMATION,!1)))));return{id:"alignmentOnTyping",when:b.a.isWithAlertsId,what:E.e.Effect.Applicator.create(i.pipe(y.a.switchMapTo(y.a.NEVER)))}},e.createAlignOnDisjointedAreasEffect=(e,a,n,r)=>{const i=e.view(Object(s.flow)(E.e.getLens,u.g.filter(e=>u.g.isNone(E.k.getActiveItem(e))&&e.isCardsHeightValid&&e.items.size>0))),o=i.pipe(y.a.map(u.g.isSome),y.a.distinctUntilChanged(),y.a.switchMap(v.b.orEmpty(n.changes.pipe(y.a.startWith(v.b.voidValue),y.a.switchMap(v.b.Scheduler.rafScheduler),y.a.map(()=>u.g.some((e=>{const t=e.viewport.getValue();return{top:Math.min(t.text.top,t.wrapper.top),bottom:t.text.bottom}})(n))),y.a.map(u.g.filter(e=>e.top-e.bottom!=0))))),y.a.withLatestFrom(i.pipe(y.a.map(u.g.map(({items:e})=>e))),u.g.map2((n,i)=>Object(c.pipe)(w.c.getCardsRect(e,r),u.g.map(e=>({top:k.b.FromWindowTop.ISO.unwrap(e.top),bottom:k.b.FromWindowTop.ISO.unwrap(e.bottom)})),u.g.chain(e=>Object(c.pipe)(((e,a,n)=>{const r=Object(c.pipe)(e.getAt(0),u.g.map(e=>e.positionState.height),u.g.getOrElse(()=>0)),i=t.getRelativePosition(a,n,r);switch(i){case t.RelativePosition.above:return Object(c.pipe)(e.getAt(0),u.g.map(e=>({card:e,top:a.top})));case t.RelativePosition.below:return Object(c.pipe)(e.getAt(0),u.g.map(e=>({card:e,top:a.bottom-e.positionState.height})));case t.RelativePosition.intersects:return u.g.none;default:return Object(p.d)(i)}})(i,n,e),u.g.map(({card:e,top:t})=>a.alignCardTo(e,k.b.FromWindowTop.ISO.wrap(t),C.a.Animation.NO_ANIMATION)))),u.g.getOrElse(()=>y.a.EMPTY)))),y.a.switchMap(u.g.fold(()=>y.a.EMPTY,l.a)));return{id:"alignOnDisjointedAreas",when:b.a.isWithAlertsId,what:E.e.Effect.Applicator.create(o.pipe(y.a.switchMapTo(y.a.NEVER)))}},e.createAlignOnResizeSideEffect=(e,t,a,n,r,i=v.b.Scheduler.rafScheduler)=>{const o=e.view(E.e.mapper(({currentLens:e,alertSource:t})=>u.g.some({currentLens:e,alertSource:t}))).view(u.g.filter(({currentLens:e})=>Object(S.d)(r)(e))).view(u.g.chain(({currentLens:e,alertSource:t})=>Object(c.pipe)(n(e),u.g.filter(r.isValidToAlign),u.g.map(a=>({item:a,source:t,lensId:e.id}))))),s=v.a.windowResize.pipe(y.a.throttleTime(100),y.a.merge(a),y.a.withLatestFrom(o,(e,t)=>t),y.a.switchMap(i),y.a.switchMap(u.g.fold(()=>y.a.EMPTY,({item:e})=>t.alignCardToMark(e,C.a.Animation.NO_ANIMATION,!1))));return{id:"alignOnResizeSideEffect",when:b.a.isWithAlertsId,what:E.e.Effect.Applicator.create(s.pipe(y.a.switchMapTo(y.a.NEVER)))}},function(e){e.skip="skip"}(a=e.SkipAlertActionSource||(e.SkipAlertActionSource={})),e.createAlignmentSideEffect=(t,a,n=((e,t)=>t),r,i,o,s,c=v.b.Scheduler.rafScheduler)=>{const l=e._createAlignmentSource(t,a,n,r,i,o,s,c);return{id:"alignmentSideEffect",when:b.a.isWithAlertsId,what:E.e.Effect.Applicator.create(l.pipe(y.a.switchMapTo(y.a.EMPTY)))}},e._createAlignmentSource=(e,t,n=((e,t)=>t),r,i,o,d,p=v.b.Scheduler.rafScheduler)=>{const h=Object(m.p)(O.b.isAlertMinicardButtonClick,O.b.isSwitchToClosestByViewport,O.b.isAlertCardShow,O.a.isCardExpand,O.b.isBulkAcceptItemShow,O.b.isBulkHighlight),b=y.a.mergeStatic(e.pipe(y.a.map(E.e.mapper(({currentLens:e,alertSource:t})=>u.g.some({currentLens:e,alertSource:t}))),y.a.startWith(u.g.none),y.a.map(u.g.map(e=>e.currentLens.id)),y.a.pairwise(),y.a.filter(([e,t])=>Object(c.pipe)(u.g.map2((e,t)=>e!==t)(e,t),u.g.exists(l.a))),y.a.mapTo(u.g.none)),e.pipe(y.a.map(E.e.mapper(({currentLens:e,alertSource:t})=>u.g.some({currentLens:e,alertSource:t}))),y.a.filter(u.g.exists(({currentLens:e})=>Object(S.d)(i)(e))),y.a.map(u.g.chain(({currentLens:e,alertSource:t})=>Object(c.pipe)(r(e),u.g.filter(i.isValidToAlign),u.g.map(a=>({item:a,source:t,lensId:e.id}))))))).pipe(y.a.distinctUntilChanged(Object(s.flow)(u.g.map2((e,t)=>e.lensId===t.lensId&&e.source===t.source&&e.item.activeAlert.id===t.item.activeAlert.id&&e.item.visualState.transition.type===t.item.visualState.transition.type&&e.item.activeHighlightIndex===t.item.activeHighlightIndex),u.g.exists(l.a)))),w=Object(m.p)(O.b.isBulkHighlight,O.b.isAlertMinicardButtonClick),A=t.pipe(y.a.filter(h),y.a.map(u.g.some),y.a.startWith(u.g.none),y.a.pairwise(),y.a.filter(Object(s.flow)(Object(s.tupled)(u.g.map2((e,t)=>!O.b.isAlertCardShow(t)||!O.b.isAlertMinicardButtonClick(e))),u.g.getOrElse(s.constFalse))),y.a.map(([,e])=>Object(c.pipe)(e,u.g.filter(w))),y.a.startWith(u.g.none)).pipe(y.a.switchMap(e=>b.pipe(y.a.filter(u.g.exists(e=>e.source===f.b.sidebar)),y.a.map(u.g.chain(t=>u.g.some(Object.assign(Object.assign({},t),{clickPoint:Object(c.pipe)(e,u.g.map(g.e.pick("clickPoint")))}))))))),x=b.pipe(y.a.filter(u.g.exists(e=>e.source!==f.b.sidebar)),y.a.map(e=>Object(c.pipe)(e,u.g.chain(e=>u.g.some(Object.assign(Object.assign({},e),{clickPoint:u.g.none}))))));return y.a.mergeStatic(A,x).pipe(y.a.startWith(u.g.none),y.a.pairwise(),y.a.map(([e,t])=>Object(c.pipe)(t,u.g.map(a=>({lensId:a.lensId,card:a.item,source:a.source,animate:Object(c.pipe)(e,u.g.forAll(({lensId:e})=>e===a.lensId)),clickPoint:Object(c.pipe)(t,u.g.chain(g.e.pick("clickPoint")),u.g.map(Object(s.flow)(g.e.pick("y"),k.b.FromWindowTop.ISO.wrap)))})))),y.a.switchMap(u.g.fold(()=>y.a.EMPTY,p)),y.a.withLatestFrom(e),y.a.switchMap(([{card:e,source:t,animate:r,clickPoint:i,lensId:s},l])=>Object(c.pipe)(n(e,t),t=>{return E.e.hasItems(l)&&l.currentLens.items.has(e.id)&&s===l.currentLens.id&&t!==a.skip?((e,t,a,n)=>{if(a===f.b.text)return Object(c.pipe)(e,d({animation:t?C.a.Animation.ANIMATE_ALL:C.a.Animation.NO_ANIMATION,fitCardIntoViewport:!0}));if(a===E.c.forceText)return Object(c.pipe)(e,d({animation:C.a.Animation.NO_ANIMATION,fitCardIntoViewport:!1}));{const r=a===f.b.sidebar?t?C.a.Animation.ANIMATE_ALL:C.a.Animation.ANIMATE_MARK:C.a.Animation.NO_ANIMATION;return Object(c.pipe)(e,o({animation:r,suggestedPosition:n}))}})(e,r,t,i):y.a.NEVER})))}}(o||(o={}))},"4GD7":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("OA+g"),i=a("bYZB"),o=a("lrqh"),s=a("6fbX"),c=a("PrA7"),l=a("zR/0"),d=a("gy42"),p=a("NW9S"),u=a("XxrX");!function(e){let t;!function(e){e[e.ANIMATE_ALL=0]="ANIMATE_ALL",e[e.ANIMATE_MARK=1]="ANIMATE_MARK",e[e.NO_ANIMATION=2]="NO_ANIMATION"}(t=e.Animation||(e.Animation={}));const a=c.Monitoring.Logging.root.getLogger("AlignmentViewModel");function n(e,t){return Object(r.pipe)(e,o.b.fold(({kind:e,reason:t})=>{switch(e){case"error":a.error("Cannot align card to mark",{reason:t});break;case"notFound":a.info("Item does not exist, alignment is canceled",{reason:t});break;default:Object(s.d)(e)}return l.a.EMPTY},e=>l.a.of({mark:t,card:e})))}e.alignMarkToItem=function(e,s){return({animation:c,suggestedPosition:m})=>({id:g,renderOptions:{features:h},activeHighlightIndex:f,activeAlert:b})=>Object(r.pipe)(e.getMarkAlertPosition({alert:b,highlightIndex:f}),l.b.compact,l.a.map(e=>({mark:e,cardPosition:s.getCardSuggestedPositionInViewport(g,h.has(u.a.Features.showLabel),o.g.none,"cardContentTop")})),l.a.switchMap(({cardPosition:e,mark:t})=>n(e,t)),l.a.switchMap(({card:e,mark:t})=>s.setCardPosition(g,h.has(u.a.Features.showLabel),!1,p.b.FromWindowTop.ISO.modify(p.a.concatC(-e.contentOffset))(t)).pipe(l.a.distinctUntilChanged(),l.a.mapTo(Object(r.pipe)(m,o.g.filter(t=>s.willFitViewport(g,p.b.FromWindowTop.ISO.modify(p.a.concatC(-e.contentOffset))(t))),o.g.getOrElse(()=>p.b.FromWindowTop.ISO.modify(p.a.concatC(e.contentOffset))(e.top)))))),l.a.switchMap(a=>e.moveAlertHighlightInViewport({alert:b,highlightIndex:f},a,c===t.ANIMATE_ALL?i.a.fake:i.a.none)),l.a.mapTo(d.b.voidValue),l.a.catchError(e=>(a.error("Cannot align mark to card",e),l.a.EMPTY)),l.a.share())},e.alignItemToMark=function(t,s){return({animation:c,fitCardIntoViewport:m})=>({id:g,renderOptions:{features:h},activeAlert:f,activeHighlightIndex:b})=>Object(r.pipe)(t.getMarkAlertPosition({alert:f,highlightIndex:b}),l.a.switchMap(o.g.fold(()=>l.a.EMPTY,e=>l.a.of(e))),l.a.map(e=>({mark:e,cardPosition:s.getCardSuggestedPositionInViewport(g,h.has(u.a.Features.showLabel),o.g.some(e),"cardContentTop")})),l.a.switchMap(({cardPosition:e,mark:t})=>n(e,t)),l.a.switchMap(({card:a,mark:n})=>l.a.mergeStatic(s.setCardPosition(g,h.has(u.a.Features.showLabel),c===e.Animation.ANIMATE_ALL,p.b.FromWindowTop.ISO.modify(p.a.concatC(-a.contentOffset))(n)),d.b.orEmpty(t.moveAlertHighlightInViewport({alert:f,highlightIndex:b},p.b.FromWindowTop.ISO.modify(p.a.concatC(a.contentOffset))(a.top),c===e.Animation.ANIMATE_ALL?i.a.initial:i.a.none))(m))),l.a.mapTo(d.b.voidValue),l.a.catchError(e=>(a.error("Cannot align card to mark",e),l.a.EMPTY)),l.a.share())}}(n||(n={}))},"5GxT":function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a("ERkP"),r=a("OA+g"),i=a("lrqh"),o=a("hoSD"),s=a("ax6a"),c=a("6gXa"),l=a("ps/9"),d=a("0gxC"),p=a("v1xk");const u=()=>n.createElement(p.a,null,Object(r.flow)(i.g.map(e=>n.createElement(d.a.ByAbsoluteRect,Object.assign({rect:o.c.Rect.fromEl(e.target),className:h.container},d.a.Alignment.toSelector(e.alignment),{withPin:!0}),n.createElement("div",{className:h.content},e.content))),i.g.toNullable)),m={position:"fixed",zIndex:l.m,pointerEvents:"none",$nest:{"@media print":{visibility:"hidden"}}},g={padding:`${c.a.rem(.25)} ${c.a.rem(1)}`,borderRadius:c.a.rem(l.s),background:s.a.BackgroundTooltip,color:s.a.CoreNeutral1,textAlign:"center",whiteSpace:"nowrap",letterSpacing:c.a.px(.25),fontSize:c.a.rem(.75),lineHeight:c.a.rem(1)},h=c.a.stylesheet({container:[m],content:[g]})},"5o4I":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("m6JR"),i=a("lrqh");!function(e){e.eq=Object(r.getStructEq)({alert:Object(r.contramap)(e=>e.id)(r.eqStrict),highlightIndex:r.eqStrict}),e.getEq=()=>e.eq,e.getHighlightRange=e=>i.a.lookup(e.highlightIndex)(e.alert.getHighlightRanges())}(n||(n={}))},"5vGs":function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return u}));var n=a("ERkP"),r=a("vOOZ"),i=a("zR/0"),o=a("D9EC"),s=a("1w6p"),c=a("MkN4"),l=a("xAi+"),d=a("+w1e");const p=({card:e,actions:t})=>n.createElement(c.a,{key:e.id,content:e.cardDSL.value,prevContent:e.prevCardDSL,transitions:[...e.transitions],designSystem:l.a,notify:a=>t.next({type:d.b.Type.sduiCardAction,cardId:e.id,actions:a}),onAnimationEnd:()=>t.next({type:d.a.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId}),onMount:o.e}),u=e=>s.b.Node.make(({view:t})=>{const a=t("view");return n.createElement(r.a.Fragment,null,a.pipe(i.a.distinctUntilChanged((e,t)=>e.equals(t)),i.a.map(t=>n.createElement(p,{card:t,actions:e}))))})},"5z3N":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return k})),a.d(t,"d",(function(){return w})),a.d(t,"a",(function(){return P}));var n,r=a("ERkP"),i=a("OA+g"),o=a("I7vG"),s=a("5E2i"),c=a("9NHN"),l=a("lrqh"),d=a("rk+4"),p=a("GUi3"),u=a("dE97"),m=a("UEGg"),g=a("XxrX"),h=a("nnns"),f=a("8P+J"),b=a("tZ26"),y=a("SN1b"),v=a("BugA"),C=a("3bJT"),O=a("es5d");!function(e){e.none="none",e.persistent="persistent",e.new="new"}(n||(n={}));const k=({className:e,vox:t,isMinimalCard:a})=>{const{vox:{styleGuide:n}}=r.useContext(d.a.Context);return r.createElement("div",Object.assign({},Object(c.c)(e,O.a.voxTitle,a?O.a.minimalTitle:void 0)),r.createElement("span",null,t.companyName," ",n))},w=({logoUrl:e,className:t})=>r.createElement("img",Object.assign({alt:"company logo",src:e},Object(c.c)(t,O.a.voxLogo))),S=({title:e,layoutDensity:t})=>r.createElement(v.Base,{className:Object(o.pipe)(t,g.a.Density.matchOrDefault(g.a.Density.minimal)(()=>O.a.minimalTitle,()=>O.a.toneTitle))},r.createElement(f.b,{emojiClassName:O.a.toneLogo},e));function A(e){return p.a.outcomeTypeMatch({correctness:C.a.dotCorrectness,clarity:C.a.dotClarity,premium:C.a.dotAdvanced,engagement:C.a.dotEngagement,delivery:C.a.dotDelivery,vox:C.a.dotVox})(e.lensType)}function E(e){return p.a.outcomeTypeMatch({correctness:r.createElement(b.d.Correctness,{className:O.a.cardLogo}),clarity:r.createElement(b.d.ClarityOutcome,{className:O.a.cardLogo}),premium:r.createElement(b.d.Star,{className:O.a.cardLogo}),engagement:r.createElement(b.d.EngagementOutcome,{className:O.a.cardLogo}),delivery:r.createElement(b.d.DeliveryOutcome,{className:O.a.cardLogo}),vox:null})(e.lensType)}const x=({companyLogoUrl:e})=>{const t=r.useContext(d.a.Context).card.sentenceLevelBrandTones;return r.createElement(v.Small,{className:O.a.sentenceLevelBrandTonesLabel},Boolean(e)?r.createElement("img",{alt:"company logo",src:e,className:O.a.toneLogo}):null,r.createElement("span",{className:O.a.sentenceLevelBrandTonesOffBrand},t.offBrandCardTitle)," ",t.detected)};function I(e,t,a,n,d,p){const{extraProperties:h}=e;return m.a.isTakeaway(e)?function(e,t,a){return{style:"",description:r.createElement("div",{className:Object(o.pipe)(t,g.a.Density.matchOrDefault(g.a.Density.minimal)(()=>O.a.minimalTitle,()=>void 0))},l.g.contains(u.q.correctlyDetected)(e.takeawayFeedback)&&e.takeawayIsLikelyToBeRead?r.createElement(b.d.ValidationOk,Object.assign({width:16},Object(c.c)(O.a.cardLogo,O.a.takeawayIcon))):r.createElement(b.d.Megaphone,Object.assign({width:16},Object(c.c)(O.a.cardLogo,O.a.takeawayIcon))),t===g.a.Density.minimal?a:e.lensName)}}(e,a,p):m.a.isSentenceLevelBrandTones(e)?function(e){const t=Object(o.pipe)(e.extraProperties.sentenceLevelBrandTones,l.g.chain(e=>e.companyLogoUrl),l.g.fold(i.constNull,s.a));return{style:"",description:r.createElement(x,{companyLogoUrl:t})}}(e):m.a.isShortenIt(e)?j(e,a,d,p):m.a.isToneAI(e)?function(e){return{style:A(e),description:r.createElement(v.Base,{className:O.a.minimalTitle},e.title)}}(e):m.a.isEthicalAI(e)?function(e){return{style:"",description:r.createElement("div",null,void 0!==e.emojiID?r.createElement(f.c,{id:e.emojiID,className:O.a.toneLogo}):r.createElement(b.d.EthicalAI.Heart,Object.assign({},Object(c.c)(O.a.cardLogo))),r.createElement(v.Small,{className:O.a.ethicalAILabel},e.miniCardTitle))}}(e):m.a.isSuggestedSnippet(e)?function(e){return{style:A(e),description:r.createElement(v.Base,{className:O.a.minimalTitle},e.title)}}(e):l.g.isSome(h.tone)?function(e,t){return{style:A(e),description:r.createElement(S,{title:e.title,layoutDensity:t})}}(e,a):t?l.g.isSome(h.vox)?function(e,t){return{style:C.a.dotVox,description:r.createElement(r.Fragment,null,Object(o.pipe)(e.logoUrl,l.g.fold(()=>null,e=>r.createElement(w,{logoUrl:e,className:O.a.cardLogo}))),r.createElement(k,{vox:e,isMinimalCard:t===g.a.Density.minimal}))}}(h.vox.value,a):m.a.isFree(e)?j(e,a,d,p):function(e,t,a,n){return{style:Object(o.pipe)(n,g.a.CardVisualMode.match({onRegular:()=>A(e),onContrast:()=>""})),description:r.createElement(r.Fragment,null,Object(o.pipe)(n,g.a.CardVisualMode.match({onRegular:()=>null,onContrast:()=>E(e)})),r.createElement("div",Object.assign({},Object(c.c)(O.a.dualItemLabel,Object(o.pipe)(a,g.a.Density.matchOrDefault(g.a.Density.minimal)(()=>O.a.minimalTitle,()=>void 0)))),r.createElement("span",{className:O.a.dualItemLabel},e.lensName,r.createElement(L,{highlightStyle:t}))))}}(e,n,a,d):null}function j(e,t,a,n){return Object(o.pipe)(t,g.a.Density.matchOrDefault(g.a.Density.minimal)(()=>(function(e,t,a){return{style:Object(o.pipe)(t,g.a.CardVisualMode.match({onRegular:()=>A(e),onContrast:()=>""})),description:Boolean(a)?a:r.createElement(r.Fragment,null,Object(o.pipe)(t,g.a.CardVisualMode.match({onRegular:()=>null,onContrast:()=>E(e)})),r.createElement(v.Base,{className:O.a.minimalTitle},e.miniCardTitle))}})(e,a,n),()=>(function(e,t){return{style:Object(o.pipe)(t,g.a.CardVisualMode.match({onRegular:()=>A(e),onContrast:()=>""})),description:r.createElement(r.Fragment,null,Object(o.pipe)(t,g.a.CardVisualMode.match({onRegular:()=>null,onContrast:()=>E(e)})),e.lensName)}})(e,a)))}const T=({label:e})=>r.createElement("span",{className:O.a.fluencyLabel},e,r.createElement(h.b,{iconWidth:10,buttonClass:O.a.fluencyInfo,iconClass:O.a.fluencyInfo,title:r.useContext(d.a.Context).card.fluency.tooltip})),N=({style:e,description:t})=>r.createElement("span",Object.assign({},Object(c.c)(O.a.lens,O.a.dot,e)),t),L=({highlightStyle:e})=>{const t=r.useContext(d.a.Context);if(e===n.none)return null;const a=e===n.new?r.createElement("div",{className:O.a.newPremiumLabel},t.premiumAlertLabel.new,r.createElement(b.d.Paid,{className:O.a.newPremiumLabelIcon,width:12})):r.createElement(b.d.Paid,{className:O.a.premiumPersistentTooltipIcon,width:10});return r.createElement(y.a,{align:"topCenter",title:t.premiumAlertLabel.tooltip.includedWithPaid},a)},B=({style:e,description:t,extraStyle:a})=>r.createElement("span",Object.assign({},Object(c.c)(a,O.a.lensMinimal,O.a.lens,O.a.dot,e)),t),P=e=>Object(o.pipe)(I(e.activeAlert,e.showCardLabel,e.layoutDensity,e.premiumAlertLabelHighlight,e.cardVisualMode,e.children),l.g.fromNullable,l.g.map(t=>r.createElement("div",{className:e.className},Object(o.pipe)(e.activeAlert.extraProperties.fluencyMessage,l.g.fold(()=>Object(o.pipe)(e.layoutDensity,g.a.Density.matchOrDefault(g.a.Density.minimal)(()=>r.createElement(B,Object.assign({},t)),()=>r.createElement(N,Object.assign({},t)))),a=>Object(o.pipe)(e.layoutDensity,g.a.Density.match(r.createElement(r.Fragment,null,r.createElement(N,Object.assign({},t)),r.createElement(T,{label:a})),r.createElement(N,Object.assign({},t)),r.createElement(B,{style:t.style,extraStyle:O.a.minimalTitle,description:e.activeAlert.miniCardTitle}))))))),l.g.fold(()=>r.createElement("div",{"data-purpose":"label-placeholder"}),t=>r.createElement(F,null,t,e.badge))),F=({children:e})=>r.createElement("div",{className:O.a.labelContainer},e)},"6r/7":function(e,t,a){e.exports=a.p+"files/c85c7276ae2b89bc5aadf1b1cb256291/inter-mediumitalic.woff2"},"8NES":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("ERkP"),i=a("9NHN"),o=a("6gXa"),s=a("F/DG"),c=a.n(s),l=a("bP7Z"),d=a.n(l),p=a("yRCP"),u=a.n(p),m=a("beGk"),g=a.n(m),h=a("N1Ys"),f=a.n(h),b=a("p88l"),y=a.n(b),v=a("C1OD"),C=a.n(v),O=a("agjt"),k=a.n(O),w=a("fK7l"),S=a.n(w),A=a("m5GR"),E=a.n(A),x=a("sgef"),I=a.n(x),j=a("Yjm5"),T=a.n(j),N=a("g7Ig"),L=a.n(N),B=a("6r/7"),P=a.n(B),F=a("qzE2"),D=a.n(F),$=a("PBv0"),R=a.n($);o.a.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:300,src:`url('${k.a}') format('woff2'), url('${C.a}') format('woff')`,fontDisplay:"swap"}),o.a.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:700,src:`url('${d.a}') format('woff2'), url('${c.a}') format('woff')`,fontDisplay:"swap"}),o.a.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:400,src:`url('${R.a}') format('woff2'), url('${D.a}') format('woff')`,fontDisplay:"swap"}),o.a.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:500,src:`url('${T.a}') format('woff2'), url('${I.a}') format('woff')`,fontDisplay:"swap"}),o.a.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:300,src:`url('${E.a}') format('woff2'), url('${S.a}') format('woff')`,fontDisplay:"swap"}),o.a.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:400,src:`url('${y.a}') format('woff2'), url('${f.a}') format('woff')`,fontDisplay:"swap"}),o.a.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:500,src:`url('${P.a}') format('woff2'), url('${L.a}') format('woff')`,fontDisplay:"swap"}),o.a.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:700,src:`url('${g.a}') format('woff2'), url('${u.a}') format('woff')`,fontDisplay:"swap"}),function(e){const t=({fontStyles:e})=>r.createElement("div",{className:e.fontsPreload},r.createElement("span",{className:e.italicBold}),r.createElement("span",{className:e.italicRegular}),r.createElement("span",{className:e.italicLight}),r.createElement("span",{className:e.normalBold}),r.createElement("span",{className:e.normalRegular}),r.createElement("span",{className:e.normalLight}));e.fontsProvider=function(e,a={withPreload:!0}){return n=>r.createElement(r.Fragment,null,a.withPreload?r.createElement(t,{fontStyles:Object.assign({},M)}):null,r.createElement(e,Object.assign({},n,Object(i.c)(n.className,Boolean(a.customFontStyle)?a.customFontStyle:M.wrapper))))}}(n||(n={}));const M=o.a.stylesheet({wrapper:[{fontWeight:"normal",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif, Arial",fontFeatureSettings:"'ss01'","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",$nest:{"@media print":{visibility:"hidden"}}}],fontsPreload:[{visibility:"hidden",fontFamily:"'Inter'"}],italicBold:[{fontWeight:700,fontStyle:"italic"}],italicRegular:[{fontWeight:400,fontStyle:"italic"}],italicLight:[{fontWeight:100,fontStyle:"italic"}],normalBold:[{fontWeight:700,fontStyle:"normal"}],normalRegular:[{fontWeight:400,fontStyle:"normal"}],normalLight:[{fontWeight:300,fontStyle:"normal"}]})},"8P+J":function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"d",(function(){return c})),a.d(t,"e",(function(){return l})),a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return p}));var n=a("ERkP"),r=a("9NHN"),i=a("Kt6o"),o=a("6gXa");const s=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;function c(e){return e.length<4?e.codePointAt(0).toString(16):e.codePointAt(0).toString(16)+"-"+e.codePointAt(2).toString(16)}function l(e){return i.b+c(e)+".svg"}const d=({children:e,emojiClassName:t,className:a})=>{const r=n.useRef(null);return n.useEffect(()=>{r.current&&(r.current.innerHTML=r.current.innerHTML.replace(s,e=>(function(e,t=u.emoji){return`<img alt="${e}" class="${t}" src="${l(e)}" onerror="this.replaceWith(this.alt)" draggable="false" />`})(e,t)))},[r,t]),n.createElement("span",{ref:r,className:a},e)},p=({id:e,className:t})=>{const[a,o]=n.useState(!1),[s,c]=n.useState(""),[l,d]=n.useState("");return n.useEffect(()=>{o(!1),d(function(e){return i.b+e+".svg"}(e)),c((e=>{try{return String.fromCodePoint(...e.map(e=>parseInt(e,16)))}catch(e){return""}})(e.split("-")))},[e]),a?n.createElement("span",Object.assign({},Object(r.c)(t,u.emojiFromIDAlt)),s):n.createElement("img",{className:t,src:l,alt:s,onError:()=>o(!0)})},u=o.a.stylesheet({emoji:[{display:"inline",marginRight:".25em",width:"1em",verticalAlign:"sub",lineHeight:1,transform:"scale(1.25)",transformOrigin:"bottom",userSelect:"none"}],emojiFromIDAlt:[{display:"flex",alignItems:"center"}]})},"8uad":function(e,t,a){"use strict";a.d(t,"a",(function(){return le}));var n=a("ERkP"),r=a("OA+g"),i=a("I7vG"),o=a("vOOZ"),s=a("uqkn"),c=a("E0zP"),l=a("XxrX"),d=a("zR/0"),p=a("0A/6"),u=a("LNSM"),m=a("lrqh"),g=a("D9EC"),h=a("PrA7"),f=a("rk+4"),b=a("+w1e"),y=a("nnns"),v=a("tZ26"),C=a("hQF/"),O=a("BugA"),k=a("aIes"),w=a("yZqL"),S=a("ax6a"),A=a("6gXa");const E=A.a.style({margin:`${A.a.rem(1)} 0`}),x=A.a.style({marginLeft:A.a.rem(.5),lineHeight:A.a.rem(1.3125),fontSize:A.a.rem(.875),color:S.a.CoreNeutral90}),I=A.a.style({display:"flex",flexDirection:"column",$nest:{"& > *:not(:last-child)":{marginBottom:A.a.rem(1)}}}),j=A.a.style({marginLeft:A.a.rem(1)}),T={color:S.a.CoreRed60,fontSize:A.a.rem(.75),lineHeight:A.a.rem(1.125)},N=A.a.style(T),L=A.a.style(T,{visibility:"hidden"}),B=A.a.style({padding:0}),P=A.a.style({paddingTop:A.a.rem(.5),display:"flex"}),F=A.a.style({marginLeft:"auto"}),D=A.a.style({paddingTop:A.a.rem(.25)}),$=A.a.style({display:"flex",flexDirection:"row",columnGap:A.a.rem(.5),alignItems:"center"}),R=A.a.style({flex:3,textAlign:"center"}),M=A.a.style({color:S.a.CoreNeutral50});var _=a("HUX/");const W=({card:e,actions:t})=>Object(i.pipe)(e.visualState.transition,m.g.fromPredicate(e=>"feedback_form"===e.type),m.g.fold(()=>(h.Monitoring.Logging.getLogger("FeedbackForm").error("Trying to render feedback form from non-feedback state",e),null),a=>"survey"===a.formType?n.createElement(H,{card:e,data:a,actions:t}):n.createElement(G,{card:e,data:a,actions:t}))),H=({card:e,data:t,actions:a})=>{const r=n.useContext(f.a.Context).card.feedbackForm,i=u.a.create(void 0),s=u.a.create(!1),c=n=>a.next(Object.assign({alertId:e.activeAlert.id,reason:n},t.submitActionType===b.b.Type.alertApplyFormSubmit?{type:b.b.Type.alertApplyFormSubmit,alertApplyActionProps:t.alertApplyActionProps}:{type:b.b.Type.alertIgnoreFormSubmit}));return n.createElement(w.a,{onFocus:()=>a.next({type:b.b.Type.alertIgnoreFeedbackFormShow,alertId:e.activeAlert.id}),theme:Object(_.b)(e.renderOptions),visualState:e.visualState,body:n.createElement(n.Fragment,null,n.createElement(O.H4,{className:E},t.survey.question||r.dismissReason),n.createElement("div",{className:I},n.createElement(C.a.Group,{selectedItemIndex:i,items:t.survey.options.map(e=>n.createElement("div",{className:x},e.text)),onChange:()=>s.set(!1)}))),mainActions:n.createElement(n.Fragment,null),footer:n.createElement(n.Fragment,null,n.createElement(o.a.div,{"aria-hidden":s,className:s.view(Object(g.c)(N,L))},r.error),n.createElement("div",null,n.createElement(y.a.Primary,{name:"submitCardFeedbackForm",onClick:()=>{const e=i.get();return void 0===e?s.set(!0):k.d.callOnce(()=>c(t.survey.options[e].key))()}},r.submit),n.createElement(y.a.Ghost,{className:j,name:"skipCardFeedbackForm",onClick:k.d.callOnce(()=>c("skipped"))},r.skip))),subActions:n.createElement(n.Fragment,null)})},G=({card:e,data:t,actions:a})=>{const r=n.useContext(f.a.Context).card.gbPrompt,i=()=>a.next({type:b.b.Type.gbPromptDismiss,alertId:e.activeAlert.id,alertApplyActionProps:t.alertApplyActionProps,gbPrompt:t.gbPrompt});return n.createElement(w.a,{onFocus:()=>a.next({type:b.b.Type.gbPromptShow,alertId:e.activeAlert.id}),theme:Object.assign(Object.assign({},Object(_.b)(e.renderOptions)),{wrapper:B}),visualState:e.visualState,header:n.createElement("div",{className:P},n.createElement(v.d.Draggable,null),n.createElement(O.H4,{className:D},t.gbPrompt.title),n.createElement(y.a,{name:"dismissGbPromptFeedbackForm",className:F,onClick:k.d.callOnce(i)},n.createElement(v.d.Close,null))),body:t.gbPrompt.description,mainActions:n.createElement(n.Fragment,null),footer:n.createElement("div",{className:$},n.createElement(y.a.Primary,{name:"submitGbPromptFeedbackForm",className:R,onClick:k.d.callOnce(()=>a.next({type:b.b.Type.gbPromptApply,alertId:e.activeAlert.id,alertApplyActionProps:t.alertApplyActionProps,gbPrompt:t.gbPrompt}))},n.createElement(v.d.StyleGuideRule,null),r.addRule),n.createElement(y.a.Flat,{name:"dismissGbPromptFeedbackForm",className:M,onClick:k.d.callOnce(i)},r.dismiss)),subActions:n.createElement(n.Fragment,null)})};var q=a("jSKJ"),V=a("oWeJ"),z=a("1gzW"),U=a("H9T+");const Y=A.a.style({marginRight:A.a.rem(-.5),marginTop:A.a.rem(.5)}),X=A.a.style({padding:`0 ${A.a.rem(1.625)} !important`,marginRight:A.a.rem(.125)}),K=A.a.style({marginRight:0}),Z=({card:e,actions:t,showLabel:a=!0})=>{const r=n.useRef(u.a.create(!1));z.a.useEffectOnWillUnmount(()=>{r.current.get()||Object(i.pipe)(e.muteCategory,m.g.map(a=>t.next({type:b.b.Type.mutedAlertSuccessDismissed,id:e.id,categoryId:a.id})))});const o=n.useContext(f.a.Context).card.mutedAlertCard;return n.createElement(w.a,{onFocus:()=>t.next({type:b.b.Type.mutedAlertSuccessShow}),theme:Object(_.b)(e.renderOptions),visualState:e.visualState,body:n.createElement(n.Fragment,null,a?n.createElement(U.j,{alert:e.activeAlert,options:e.renderOptions}):null,n.createElement(O.Base,null,o.description(Object(i.pipe)(e.muteCategory,m.g.fold(()=>"",e=>e.description))))),mainActions:n.createElement(n.Fragment,null),footer:n.createElement("div",{className:Y},n.createElement(y.a.Primary,{name:"gotIt",className:X,onClick:()=>k.d.callOnce(()=>t.next({type:b.b.Type.switchToNext}))()},o.successButtonLabel),n.createElement(y.a.Ghost,{name:"turnBackOn",onClick:k.d.callOnce(()=>{r.current.set(!0),Object(i.pipe)(e.muteCategory,m.g.map(a=>t.next({type:b.b.Type.undoMuteAlertCategory,categoryId:a.id,viewType:e.activeAlert.type,id:e.id})))})},o.undoButtonLabel,n.createElement(v.d.Undo,{color:S.a.CoreBlue50,className:K}))),subActions:n.createElement(y.a.Tertiary,{name:"manageOptionalSuggestions",onClick:()=>t.next({type:b.b.Type.mutedAlertSuggestionManagementClick})},o.settingsLabel,n.createElement(v.d.OuterLink,null))})};var Q=a("S3HV"),J=a("5vGs"),ee=a("r/bb"),te=a("IdhR"),ae=a("0PmZ");function ne(e,t,a){const{activeAlert:n,activeHighlightIndex:r}=t,i=n.getHighlightRanges(),o=(r+("left"===e?i.length-1:1))%i.length;a.next({type:b.b.Type.cardMatchesNavigationButtonClick,transitionTo:{kind:"sameAlert",card:t,highlightIndex:o},direction:e})}const re=({card:e,actions:t,selectedLabelIndex:a,isChecking:r})=>{const i=n.useContext(f.a.Context),o=u.a.create(!1);return z.a.useSubscriptionTo(r.pipe(d.a.tap(e=>o.set(e)))),n.createElement(U.r,{applyMessage:e.activeAlert.todoAction,checkingMessage:i.card.checking,title:i.card.todoAction(e.activeAlert.todoAction),checkingInProgress:o,onClick:()=>{t.next({type:b.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:a.get(),id:e.id,eligibleForSurvey:s.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:s.a.isEligibleForGbPrompt(e),cardType:b.b.getCardType(e)})}})},ie=({card:e,actions:t})=>n.createElement(ae.a,{onLeftClick:()=>ne("left",e,t),onRightClick:()=>ne("right",e,t),currentMatch:e.activeHighlightIndex,totalMatch:e.activeAlert.getHighlightRanges().length,disableOnEnd:!1,style:{}});var oe=a("eLeT");const se=({activeAlert:e,selectedLabelIndex:t,actions:a})=>{const r=n.useContext(f.a.Context);return n.createElement("div",{className:oe.a.optionsContainer},e.labels.map((e,i)=>n.createElement(n.Fragment,{key:`option-${i}`},n.createElement(C.a.Item,{className:oe.a.optionLabel,onChange:()=>{t.set(i),a.next({type:b.b.Type.alternativeReplacementRadioButtonClick,index:i})},checked:t.view(e=>e===i)},n.createElement(O.Base,{className:oe.a.optionRadio},e.label)),n.createElement(O.Small,{className:oe.a.optionExample},e.replacementTexts.join("; ")),n.createElement(O.Small,{className:oe.a.optionSecondaryAttribute},r.card.matchesNavigation.numberOfMatches(e.matches)))))},ce=({card:e,actions:t,isChecking:a,isCheckingGlobal:r})=>{const i=u.a.create(0);return n.createElement(w.a,{visualState:e.visualState,onFocus:()=>t.next({type:b.b.Type.alertCardShow,cardType:b.b.getCardType(e),alertId:e.activeAlert.id}),theme:Object.assign({wrapper:oe.a.superWrapper,content:r.pipe(d.a.map(Object(g.c)(oe.a.loadingWrapperInvisible,oe.a.loadingWrapper)))},Object(_.a)(e.renderOptions.layoutDensity)),extra:n.createElement(U.c,{isChecking:r}),body:n.createElement(n.Fragment,null,n.createElement(U.j,{alert:e.activeAlert,options:e.renderOptions}),n.createElement(U.q,{alert:e.activeAlert}),n.createElement(U.l,{card:e,isChecking:a}),n.createElement(U.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}),n.createElement(se,{activeAlert:e.activeAlert,selectedLabelIndex:i,actions:t})),mainActions:n.createElement(U.e,{card:e,feedbackActions:t}),footer:n.createElement(n.Fragment,null,n.createElement(U.h,{card:e}),n.createElement(re,{selectedLabelIndex:i,card:e,actions:t,isChecking:a})),navigation:n.createElement(ie,{card:e,actions:t}),subActions:n.createElement(te.a,{actions:t,card:e,mode:"mini"})})};var le,de;(de=le||(le={})).Full=({card:e,actions:t})=>{const{isChecking:a,isCheckingGlobal:i,transform:c}=s.a.useCardStates(e),l=e=>n.createElement(q.a,{card:e,actions:t,isChecking:a,transform:c,isCheckingGlobal:i});return n.createElement(o.a.Fragment,null,e.pipe(d.a.distinctUntilChanged((e,t)=>e.hashCode()===t.hashCode()),d.a.map(Object(r.flow)(s.a.match({super:e=>n.createElement(ce,{card:e,actions:t,isChecking:a,isCheckingGlobal:i}),takeaway:l,sentenceLevelBrandTones:l,synfony:l,shortenIt:l,toneAI:l,ethicalAI:l,sdui:e=>n.createElement("div",{className:Object(_.a)(e.renderOptions.layoutDensity).container},n.createElement(J.a,{card:e,actions:t})),suggestedSnippet:l,default:l}),s.a.foldCard))))},de.Mini=({card:e,actions:t})=>n.createElement(o.a.Fragment,null,e.pipe(d.a.map(e=>l.a.Density.matchL(()=>n.createElement(de.MiniSingleLined,{card:e,actions:t}),()=>n.createElement(de.MiniTwoLined,{card:e,actions:t}),()=>n.createElement(de.MiniTwoLined,{card:e,actions:t}))(e.renderOptions.layoutDensity)))),de.MiniSingleLined=({card:e,actions:t})=>{function a(e){return n.createElement(V.a.Standard,{card:e,actions:t})}return Object(i.pipe)(e,s.a.match({super:a,takeaway:a,sentenceLevelBrandTones:a,synfony:a,shortenIt:a,toneAI:a,ethicalAI:function(e){return n.createElement(Q.a.Mini,{card:e,actions:t})},sdui:a,suggestedSnippet:a,default:a}),s.a.foldCard)},de.MiniTwoLined=({card:e,actions:t})=>{function a(e){return n.createElement(V.a.TwoLined,{card:e,actions:t})}return Object(i.pipe)(e,s.a.match({super:a,takeaway:a,sentenceLevelBrandTones:a,synfony:a,shortenIt:a,toneAI:a,ethicalAI:function(e){return n.createElement(Q.a.Mini,{card:e,actions:t,twoLined:!0})},sdui:a,suggestedSnippet:a,default:a}),s.a.foldCard)},de.Success=({cardData:e,actions:t,isLastCard:a})=>{function r(){return n.createElement(p.a.Success,{actions:t,isLastCard:a})}return Object(i.pipe)(e,c.a.match({takeaway:r,default:r,sentenceLevelBrandTones:r,synfony:r,super:r,shortenIt:r,toneAI:r,ethicalAI:r,sdui:r,suggestedSnippet:function(e){return n.createElement(ee.a.Success,{card:e,actions:t})}}),s.a.foldCard)},de.FeedbackForm=({cardData:e,actions:t})=>{function a(e){return n.createElement(W,{card:e,actions:t})}return Object(i.pipe)(e,c.a.match({takeaway:a,default:a,sentenceLevelBrandTones:a,synfony:a,super:a,shortenIt:a,toneAI:a,ethicalAI:a,sdui:a,suggestedSnippet:a}),s.a.foldCard)},de.MutedAlert=({cardData:e,actions:t})=>{function a(e){return n.createElement(Z,{card:e,actions:t})}return Object(i.pipe)(e,c.a.match({takeaway:a,default:a,sentenceLevelBrandTones:a,synfony:a,super:a,shortenIt:a,toneAI:a,ethicalAI:a,sdui:a,suggestedSnippet:a}),s.a.foldCard)}},"9/oM":function(e,t,a){"use strict";a.d(t,"a",(function(){return x})),a.d(t,"b",(function(){return I})),a.d(t,"c",(function(){return T}));var n=a("D57K"),r=a("ERkP"),i=a("OA+g"),o=a("I7vG"),s=a("5E2i"),c=a("vOOZ"),l=a("9NHN"),d=a("LNSM"),p=a("lrqh"),u=a("6fbX"),m=a("hoSD"),g=a("x7eB"),h=a("By/D"),f=a("LXcl"),b=a("zR/0"),y=a("gy42"),v=a("SGQG"),C=a("nnns"),O=a("tZ26"),k=a("0gxC"),w=a("BugA");const S=({alignment:e,rect:t,onClose:a,className:n,children:i,icon:s,pinTargetRect:d,hideCloseButton:u,onMount:m})=>r.createElement(k.a.ByRelativeRect,Object.assign({rect:t,className:v.a.notificationContainer},k.a.Alignment.toSelector(e),{pinTargetRect:d,withPin:!0}),r.createElement(c.a.div,Object.assign({},Object(l.c)(v.a.stepWrapper,n),{mount:m}),Object(o.pipe)(s,p.g.fold(()=>r.createElement(O.d.Grammarly,{className:v.a.alertIcon}),e=>r.createElement(e,{className:v.a.alertIcon}))),i,!(null!=u&&u)&&r.createElement(C.a,{name:"onboard-close",className:v.a.closeIconWrapper,onClick:()=>a&&a()},r.createElement(O.d.Close,{className:v.a.closeIcon,width:12})))),A=e=>{var{title:t,description:a}=e,i=Object(n.__rest)(e,["title","description"]);return r.createElement(S,Object.assign({},i),r.createElement("span",{className:v.a.content},Boolean(t)?r.createElement(w.P1,{className:v.a.header},t):null,r.createElement(w.Base,{className:v.a.description},a)))},E=({className:e,onClick:t,customStyle:a})=>r.createElement(c.a.div,Object.assign({},Object(l.c)(v.a.pulseWrapper,e),{style:a,onClick:()=>t&&t()}),r.createElement("div",{className:v.a.pulseOptimized}));var x;function I(e){const t=r.useContext(I.Context),{stepId:a,onboardingViewModel:i}=e,s=Object(n.__rest)(e,["stepId","onboardingViewModel"]),c=j(a,i||t),l=r.useContext(h.a.Context).pipe(b.a.map(e=>e.rect));return Object(o.pipe)(c,p.g.fold(()=>r.Children.only(e.children),e=>r.createElement(T,Object.assign({},s,{onboardingStep:e,viewportRect:l}))))}!function(e){e.leftTop="leftTop",e.leftCenter="leftCenter",e.leftBottom="leftBottom",e.center="center",e.rightTop="rightTop",e.rightCenter="rightCenter",e.rightBottom="rightBottom"}(x||(x={}));const j=(e,t)=>(Object(u.g)(Boolean(t),"onboardingViewModel should be set either in context or in props"),t.isStepEnabled(e)?p.g.some(t.subscribeForStep(e)):p.g.none);class T extends r.Component{constructor(){super(...arguments),this._subs=[],this._wrapperElement=d.a.create(p.g.none),this._containerElement=d.a.create(p.g.none),this._exactTargetRect=d.a.create(p.g.none),this._visibilityState=d.a.create(!1),this._spotStyle=d.a.create({}),this._onEventActionTaken=(e,t=!0)=>a=>{var n;const r=e.state.get();if("popup"===r||t&&"dot"===r){const r=a.target;if(m.c.isDisabled(r))return;const i=t||m.c.hasParentWithClassName(r,v.a.containerDiv);if("findFirstButton"===(null===(n=this.props.dotPosition)||void 0===n?void 0:n.kind)&&!m.c.hasParentWithAttribute(r,"role","button"))return;i&&e.actionTaken()}else"dot"===r&&(a.preventDefault(),a.stopPropagation())}}componentWillUnmount(){const e=this.props.onboardingStep;"popup"===e.state.get()&&e.popupIgnored(),this._subs.forEach(e=>e.unsubscribe())}componentDidMount(){const e=this.props.dotPosition;e?this._subs.push(b.a.mergeStatic(this.context,this.props.onboardingStep.state.pipe(b.a.filter(e=>"dot"===e||"popup"===e))).pipe(b.a.delay(500),b.a.withLatestFrom(this._wrapperElement,this._containerElement),b.a.switchMap(([t,a,n])=>Object(o.pipe)(Object(i.tuple)(a,n),Object(i.tupled)(p.g.map2((t,a)=>{switch(e.kind){case"findFirstButton":return y.b.toObservable(e.buttonOrder).pipe(b.a.switchMap(n=>b.a.of(void 0).pipe(b.a.delay(500),b.a.map(()=>{const[r,i]=B(t,a,e.position,n);return this._exactTargetRect.set(i),r}))));case"dotAtPosition":return b.a.of(N(e.position));default:return Object(u.d)(e)}})),p.g.fold(()=>b.a.EMPTY,s.a)))).subscribe(e=>{this._spotStyle.set(e),this._visibilityState.set(!0)})):this._visibilityState.set(!0)}render(){const e=this.props.onboardingStep;return r.createElement(c.a.div,Object.assign({key:"onboarding-wrapper"},Object(l.c)(v.a.containerWrapper,this.props.themes&&this.props.themes.containerWrapperClassName),{mount:e=>this._wrapperElement.set(p.g.fromNullable(e))}),r.createElement("div",Object.assign({key:"container",ref:e=>this._containerElement.set(p.g.fromNullable(e))},Object(l.c)(v.a.containerDiv,this.props.themes&&this.props.themes.containerClassName),{onClickCapture:this._onEventActionTaken(e,"onclick"===this.props.eventType),onMouseEnter:t=>"onhover"===this.props.eventType&&this._onEventActionTaken(e,!1)(t)}),this.props.children),d.a.combine(e.state,this._visibilityState,(t,a)=>{if(!a)return null;switch(t){case"dot":const t=this.props.themes&&this.props.themes.spotClassName;return this.props.onboardingStep.dotShown(),r.createElement(E,Object.assign({customStyle:this._spotStyle,key:"spot"},Object(l.c)(v.a.onboardingSpot,t),{onClick:()=>e.dotClicked()}));case"popup":return r.createElement(A,{key:"step",title:this.props.title,alignment:this.props.alignment,rect:this._containerElement.view(p.g.fold(()=>m.c.Rect.empty,m.c.Rect.fromEl)),className:this.props.themes&&this.props.themes.notificationClassName,description:this.props.message,icon:p.g.fromNullable(this.props.icon),onClose:()=>e.popupClosed(),pinTargetRect:this._exactTargetRect.view(p.g.orUndefined)});default:return null}}))}}T.contextType=g.a.Context,T.defaultProps={alignment:"left"};const N=e=>{switch(e){case x.leftTop:return{top:0,left:0};case x.leftCenter:return{top:"50%",left:0};case x.leftBottom:return{top:"100%",left:0};case x.rightTop:return{top:0,left:"100%"};case x.rightCenter:return{top:"50%",left:"100%"};case x.rightBottom:return{top:"100%",left:"100%"};case x.center:return{top:"50%",left:"50%"};default:return Object(u.d)(e)}},L=(e,t,a)=>{switch(a){case x.rightTop:return{top:0,left:e.left-t.left+e.width};case x.center:return{top:e.top-t.top+e.height/2,left:e.left-t.left+e.width/2};default:return Object(u.d)(a)}},B=(e,t,a,n)=>{const r=t.querySelectorAll('[role="button"]'),o=r.length>0&&(void 0===n?r[r.length-1]:r[n]);if(Boolean(o)){const t=m.c.Rect.fromEl(Object(i.unsafeCoerce)(o)),n=m.c.Rect.fromEl(e);return[L(t,n,a),p.g.some(t)]}return[{top:"50%",left:"50%"},p.g.none]};var P;(P=I||(I={})).Context=r.createContext(null),P.ContextMock=({children:e})=>r.createElement(P.Context.Provider,{value:new f.a,children:e})},AK7F:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return p}));var n=a("lrqh"),r=a("D9EC"),i=a("kFFO"),o=a("973I"),s=a("XxrX");const c=n.c.fromEquals((e,t)=>e.id===t.id&&e.visibilityState===t.visibilityState&&o.a.eq.equals(e.positionState,t.positionState)),l=e=>Object(i.a)({itemId:e.id,visibilityState:e.visibilityState,positionState:Object(i.a)(e.positionState)});var d,p;!function(e){e.id="PriorityToggleHintId",e.Kind="PriorityToggleHint",e.create=(e,a)=>new t(e,a,s.a.defaultOptions),e.hidden="hidden",e.visible="visible",e.isVisible=t=>t.visibilityState===e.visible,e.changePosition=(t,a)=>e.create(t.visibilityState,a),e.isPriorityToggleHint=t=>t.id===e.id,e.transitionTo=(t,a)=>t.visibilityState!==a?e.create(a,t.positionState):t,e.clone=t=>e.create(t.visibilityState,t.positionState);class t{constructor(t,a,n){this.visibilityState=t,this.positionState=a,this.renderOptions=n,this.kind=e.Kind,this.scheduledToDispose=!1,this.id=e.id}equals(e){return c.equals(this,e)}hashCode(){return l(this)}}}(d||(d={})),function(e){e.id="PriorityToggleId",e.Kind="PriorityToggle",e.isCollapsed=e=>"collapsed"===e.visibilityState,e.isExpanded=e=>"expanded"===e.visibilityState,e.isHidden=e=>"hidden"===e.visibilityState,e.create=(e,a)=>new t(e,a,s.a.defaultOptions),e.changePosition=(t,a)=>e.create(t.visibilityState,a),e.transitionTo=(t,a)=>t.visibilityState!==a?e.create(a,t.positionState):t,e.clone=t=>e.create(t.visibilityState,t.positionState),e.isPriorityToggle=t=>t.id===e.id,e.isPriorityItem=Object(r.p)(e.isPriorityToggle,d.isPriorityToggleHint);class t{constructor(t,a,n){this.visibilityState=t,this.positionState=a,this.renderOptions=n,this.kind=e.Kind,this.scheduledToDispose=!1,this.id=e.id}equals(e){return c.equals(this,e)}hashCode(){return l(this)}}}(p||(p={}))},BT8e:function(e,t,a){"use strict";a.d(t,"b",(function(){return Y})),a.d(t,"a",(function(){return X}));var n=a("ax6a"),r=a("6gXa"),i=a("0Hf4"),o=a("ps/9");const s=e=>({$nest:{[`&[data-indent="${e}"]`]:{marginLeft:r.a.rem(.5*e)}}}),c=(e,t,a,n)=>({$nest:{[`&[data-indent="${t}"]`]:{counterIncrement:`card-list${t}`,counterReset:n,$nest:{"&:before":{content:`'${e}' '\\A\\00a0' counter(card-list${t}, ${a}) '. '`}}}}}),l=e=>[c(e,0,"decimal","card-list1 card-list2 card-list3 card-list4 card-list5 card-list6 card-list7 card-list8"),c(e,1,"lower-alpha","card-list2 card-list3 card-list4 card-list5 card-list6 card-list7 card-list8"),c(e,2,"lower-roman","card-list3 card-list4 card-list5 card-list6 card-list7 card-list8"),c(e,3,"decimal","card-list4 card-list5 card-list6 card-list7 card-list8"),c(e,4,"lower-alpha","card-list5 card-list6 card-list7 card-list8"),c(e,5,"lower-roman","card-list6 card-list7 card-list8"),c(e,6,"decimal","card-list7 card-list8"),c(e,7,"lower-alpha","card-list8"),c(e,8,"lower-roman","none")],d="cards-replacements_labels-",p={list:`${d}list`,item:`${d}item`,diff:`${d}diff`,columnList:`${d}columnList`,itemInsert:`${d}itemInsert`,deleteAll:`${d}deleteAll`,crossed:`${d}crossed`,deleteQuote:`${d}deleteQuote`,deletePunctuation:`${d}deletePunctuation`,deleteDoubleComma:`${d}deleteDoubleComma`,deleteApostrophe:`${d}deleteApostrophe`,deleteLetter:`${d}deleteLetter`,deletePunctuationBeforeLetter:`${d}deletePunctuationBeforeLetter`,itemOriginal:`${d}itemOriginal`,itemOriginalStrikeThrough:`${d}itemOriginalStrikeThrough`,itemOriginalContent:`${d}itemOriginalContent`,spacesOnlyContent:`${d}spacesOnlyContent`,removeOrContainer:`${d}removeOrContainer`,itemContext:`${d}itemContext`,itemContextShifted:`${d}itemContextShifted`,or:`${d}or`,arrowInsertsList:`${d}arrowInsertsList`,cozyArrowInsertsList:`${d}cozyArrowInsertsList`,inlineHeader:`${d}inlineHeader`,fullSentenceBackground:`${d}fullSentenceBackground`,minimalFullSentenceBackground:`${d}minimalFullSentenceBackground`,fullSentenceDelete:`${d}fullSentenceDelete`,fullSentenceDeleteCollapsed:`${d}fullSentenceDeleteCollapsed`,fullSentenceHidden:`${d}fullSentenceHidden`,fullSentenceListItem:`${d}fullSentenceListItem`,fullSentenceBulletListItem:`${d}fullSentenceBulletListItem`,fullSentenceDashedListItem:`${d}fullSentenceDashedListItem`,fullSentenceOrderedListItem:`${d}fullSentenceOrderedListItem`,fullSentenceOrderedListItemWithFormatting:d+"fullSentenceOrderedListItemWithFormatting",fullSentenceDashedListItemWithFormatting:d+"fullSentenceDashedListItemWithFormatting",fullSentenceBulletListItemWithFormatting:d+"fullSentenceBulletListItemWithFormatting",fullSentenceInsert:`${d}fullSentenceInsert`,fullSentenceInsertPunctuation:`${d}fullSentenceInsertPunctuation`,toneAIInsert:`${d}toneAIInsert`,itemRemove:`${d}itemRemove`,oneGapInsert:`${d}oneGapInsert`,oneGapInput:`${d}oneGapInput`,drilldownInsertGroup:`${d}drilldownInsertGroup`,drilldownArrowButton:`${d}drilldownArrowButton`,drilldownIcon:`${d}drilldownIcon`,drilldownOriginalRow:`${d}drilldownOriginalRow`,drilldownBackButton:`${d}drilldownBackButton`,collapsibleDelete:`${d}collapsibleDelete`,collapsibleInsert:`${d}collapsibleInsert`,collapsiblePartContent:`${d}collapsiblePartContent`},u={position:"relative",overflow:"hidden",margin:`0 ${r.a.rem(.5)} ${r.a.rem(.5)} 0`,padding:`${r.a.rem(.25)} ${r.a.rem(.5)}`,borderRadius:r.a.rem(o.s),color:n.a.CoreNeutral0,textAlign:"left",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:r.a.rem(1.5),cursor:"pointer",transitionDuration:".2s",overflowWrap:"break-word"},m={position:"relative",fontWeight:"bolder",overflow:"clip",$nest:{"&:after":{position:"absolute",top:"-8%",left:r.a.rem(.3125),width:"1px",height:"120%",background:n.a.CoreNeutral0,content:"''",opacity:.8}}},g={position:"relative",marginRight:r.a.rem(.5),whiteSpace:"nowrap"},h=e=>({overflowX:"hidden",overflowY:"auto",overflowWrap:"anywhere",margin:`${r.a.rem(1)} 0`,padding:e?0:r.a.rem(.5),maxHeight:r.a.rem(12),borderRadius:r.a.rem(o.s),background:e?n.a.CoreNeutral0:n.a.CoreNeutral10,color:n.a.CoreNeutral90,whiteSpace:"pre-wrap",fontWeight:400,fontStyle:"italic",fontFeatureSettings:`${o.e}, ${o.f}`}),f={position:"relative",marginRight:r.a.rem(.5),maxWidth:`calc(100% - ${r.a.rem(.5)})`,overflowWrap:"break-word",$nest:{"&:after":{display:"inline-block",marginLeft:r.a.rem(.5),color:n.a.CoreNeutral50,content:"''",verticalAlign:"middle"}}},b={textDecoration:"line-through",color:n.a.CoreRed40,textDecorationLine:"line-through"},y=[s(0),s(1),s(2),s(3),s(4),s(5),s(6),s(7),s(8)],v={display:"flex",alignItems:"flex-start",flexWrap:"wrap",fontFeatureSettings:`${o.e}, ${o.f}`},C=e=>({background:e?n.a.CoreBlue50:n.a.BackgroundCardApply,maxWidth:"100%",$nest:{"&[data-hovered='true']":{background:e?n.a.CoreBlue40:n.a.CoreGreen50},"&[data-disabled='true']":{background:e?n.a.CoreBlue40:n.a.CoreGreen40}}}),O={$nest:{"&:after":{transform:"rotate(-25deg)"}}},k={paddingRight:r.a.rem(.35),$nest:{"&:after":{transform:"rotate(25deg)"}}},w=e=>({color:e?n.a.CoreBlue50:n.a.CoreGreen60,fontWeight:600}),S={paddingRight:r.a.rem(.3125),$nest:{"&:before":{content:"' '"},"&:after":{transform:"rotate(25deg)"}}},A={textDecoration:"line-through",whiteSpace:"pre-wrap",$nest:{"&:before":{content:"' '"},"&:after":{background:"transparent !important",content:"' '"}}},E={display:"flex",flexBasis:"100%"},x={margin:`0 ${r.a.rem(.5)} ${r.a.rem(.5)} 2px`,color:n.a.CoreNeutral60},I={display:"flex",minWidth:"50%",flexWrap:"wrap",flexBasis:"content"},j={marginBottom:r.a.rem(.25),color:n.a.CoreNeutral60,fontWeight:400,fontSize:r.a.rem(.8),lineHeight:r.a.rem(1.2),$nest:{"&:first-letter":{textTransform:"capitalize"}}},T={color:n.a.CoreRed50,textDecoration:"line-through",fontWeight:600},N=Object.assign(Object.assign({},T),{textDecoration:"none"}),L={fontWeight:"bold",color:n.a.CorePurple50},B={background:n.a.CoreRed50,$nest:{"&[data-hovered='true'], &[data-disabled='true']":{background:n.a.CoreRed40}}},P={$nest:{"&:before":{content:"'\\A\\00a0-\\00a0'"}}},F={$nest:{"&:before":{content:"'\\A\\00a0\\2022\\00a0'"}}},D={width:"100%",marginTop:r.a.rem(.5),marginBottom:r.a.rem(.25),boxSizing:"border-box",$nest:{"&[data-disabled='true']":{background:n.a.CoreNeutral40}}},$={marginTop:r.a.rem(.5),lineHeight:`calc(${r.a.rem(2)} - ${r.a.px(2)})`,padding:`0 ${r.a.rem(.5)}`,border:r.a.important(`${r.a.px(1)} solid ${n.a.CoreNeutral50}`),color:n.a.CoreNeutral90,boxSizing:"border-box",$nest:{"&:placeholder-shown":{borderColor:r.a.important(n.a.CoreNeutral20)}}},R=i.a.style(u,C(!1)),M={margin:`0 ${r.a.rem(.5)} ${r.a.rem(.5)} 0`,$nest:{[`& .${p.itemInsert}`]:{transitionProperty:"background",margin:0},[`& > .${p.itemInsert}:first-child:not(:last-child)`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${p.drilldownArrowButton}`]:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},_={boxShadow:"inset 1px 0px 0px rgba(255, 255, 255, 0.3)",paddingLeft:r.a.rem(.1875),paddingRight:r.a.rem(.3125)},W={width:r.a.rem(1),height:r.a.rem(1),minWidth:r.a.rem(1),minHeight:r.a.rem(1),verticalAlign:"top",marginTop:r.a.rem(.25),$nest:{"& > svg":{transform:"scale(0.75)"},"& > svg *":{fill:r.a.important("white")}}},H={width:r.a.percent(100),marginBottom:r.a.rem(.5),display:"flex",$nest:{"& > *":{marginRight:r.a.rem(.5)}}},G={background:n.a.CoreNeutral10,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:n.a.CoreNeutral10}}},q={display:"inline-block",width:r.a.rem(1),lineHeight:r.a.rem(.625),height:r.a.rem(.625),margin:`0 ${r.a.rem(.25)}`,verticalAlign:"middle",cursor:"pointer",overflowWrap:"normal",textAlign:"center",borderRadius:r.a.rem(o.t)},V={lineHeight:r.a.rem(.2),verticalAlign:"super",marginLeft:"1px"},z=Object.assign(Object.assign({},q),{backgroundColor:n.a.CoreRed10}),U=Object.assign(Object.assign({},q),{backgroundColor:n.a.CoreGreen10}),Y={list:r.a.joinClasses([p.list,r.a.style(v),i.a.style(v)]),item:r.a.joinClasses([p.item,r.a.style(u),i.a.style(u)]),itemInsert:r.a.joinClasses([p.itemInsert,r.a.style(u,C(!1)),R]),deleteAll:r.a.joinClasses([p.deleteAll,r.a.style({textDecoration:"line-through"}),i.a.style({textDecoration:"line-through"})]),crossed:r.a.joinClasses([p.crossed,r.a.style(m)]),deleteQuote:r.a.joinClasses([p.deleteQuote,r.a.style(m,O),i.a.style(m,O)]),deletePunctuation:r.a.joinClasses([p.deletePunctuation,r.a.style(m,k),i.a.style(m,k)]),deleteDoubleComma:r.a.joinClasses([p.deleteDoubleComma,r.a.style({textDecoration:"line-through"}),i.a.style({textDecoration:"line-through"})]),deleteApostrophe:r.a.joinClasses([p.deleteApostrophe,r.a.style(m,S),i.a.style(m,S)]),deleteLetter:r.a.joinClasses([p.deleteLetter,r.a.style(A),i.a.style(A)]),deletePunctuationBeforeLetter:r.a.joinClasses([p.deletePunctuationBeforeLetter,r.a.style({textDecoration:"line-through"}),i.a.style({textDecoration:"line-through"})]),itemOriginal:r.a.joinClasses([p.itemOriginal,r.a.style(f),i.a.style(f)]),itemOriginalStrikeThrough:r.a.joinClasses([p.itemOriginalStrikeThrough,r.a.style(b),i.a.style(b)]),itemOriginalContent:r.a.joinClasses([p.itemOriginalContent,r.a.style({color:n.a.CoreNeutral90}),i.a.style({color:n.a.CoreNeutral90})]),spacesOnlyContent:r.a.joinClasses([p.spacesOnlyContent,r.a.style({whiteSpace:"pre"})]),removeOrContainer:r.a.joinClasses([p.removeOrContainer,r.a.style(E),i.a.style(E)]),itemContext:r.a.joinClasses([p.itemContext,r.a.style(g)]),itemContextShifted:r.a.joinClasses([p.itemContextShifted,r.a.style(g,{marginRight:"2px"}),i.a.style(g,{marginRight:"2px"})]),or:r.a.joinClasses([p.or,r.a.style(x),i.a.style(x)]),arrowInsertsList:r.a.joinClasses([p.arrowInsertsList,r.a.style(I),i.a.style(I)]),columnList:r.a.joinClasses([p.columnList,r.a.style(I,{flexDirection:"column",alignItems:"flex-start",maxWidth:"100%"}),i.a.style(I)]),cozyArrowInsertsList:r.a.joinClasses([p.arrowInsertsList,r.a.style(I,{flex:2,flexBasis:"0%"}),i.a.style(I)]),inlineHeader:r.a.joinClasses([p.inlineHeader,r.a.style(j),i.a.style(j)]),toneAIInsert:r.a.joinClasses([p.toneAIInsert,r.a.style(L),i.a.style(L)]),fullSentenceBackground:r.a.joinClasses([p.fullSentenceBackground,r.a.style(h(!1)),i.a.style(h(!1))]),minimalFullSentenceBackground:r.a.joinClasses([p.minimalFullSentenceBackground,r.a.style(h(!1),{lineHeight:r.a.rem(1.3125)}),i.a.style(h(!1),{lineHeight:r.a.rem(1.3125)})]),fullSentenceDelete:r.a.joinClasses([p.fullSentenceDelete,r.a.style(T),i.a.style(T)]),fullSentenceDeleteCollapsed:r.a.joinClasses([p.fullSentenceDeleteCollapsed,r.a.style(N),i.a.style(N)]),fullSentenceHidden:r.a.joinClasses([p.fullSentenceHidden,r.a.style({display:"none"})]),fullSentenceListItem:r.a.joinClasses([p.fullSentenceListItem,r.a.style(...y),i.a.style(...y)]),fullSentenceBulletListItem:r.a.joinClasses([p.fullSentenceBulletListItem,r.a.style({$nest:{"&:before":{content:"'\\A\\00a0\\2022\\00a0'"}}}),i.a.style({$nest:{"&:before":{content:"'\\A\\00a0\\2022\\00a0'"}}})]),fullSentenceDashedListItem:r.a.joinClasses([p.fullSentenceDashedListItem,r.a.style({$nest:{"&:before":{content:"'\\A\\00a0-\\00a0'"}}}),i.a.style({$nest:{"&:before":{content:"'\\A\\00a0-\\00a0'"}}})]),fullSentenceOrderedListItem:r.a.joinClasses([p.fullSentenceOrderedListItem,r.a.style(...l(""),...y),i.a.style(...l(""),...y)]),fullSentenceOrderedListItemWithFormatting:r.a.joinClasses([p.fullSentenceOrderedListItemWithFormatting,r.a.style(...l(""),...y,w(!1)),i.a.style(...l(""),...y,w(!1))]),fullSentenceBulletListItemWithFormatting:r.a.joinClasses([p.fullSentenceBulletListItemWithFormatting,r.a.style(...y,F,w(!1)),i.a.style(...y,F)]),fullSentenceDashedListItemWithFormatting:r.a.joinClasses([p.fullSentenceDashedListItemWithFormatting,r.a.style(...y,P,w(!1)),i.a.style(...y,P)]),fullSentenceInsert:r.a.joinClasses([p.fullSentenceInsert,r.a.style(w(!1))]),fullSentenceInsertPunctuation:r.a.joinClasses([p.fullSentenceInsertPunctuation,r.a.style(w(!1))]),diff:r.a.joinClasses([p.diff,r.a.style({fontWeight:"bolder"}),i.a.style({fontWeight:"bolder"})]),itemRemove:r.a.joinClasses([p.itemRemove,r.a.style(u,B)]),oneGapInsert:r.a.joinClasses([p.oneGapInsert,r.a.style(u,C(!1),D),R]),oneGapInput:r.a.joinClasses([p.oneGapInput,r.a.style($)]),drilldownInsertGroup:r.a.joinClasses([p.drilldownInsertGroup,r.a.style(M)]),drilldownArrowButton:r.a.joinClasses([p.drilldownArrowButton,r.a.style(_)]),drilldownIcon:r.a.joinClasses([p.drilldownIcon,r.a.style(W)]),drilldownOriginalRow:r.a.joinClasses([p.drilldownOriginalRow,r.a.style(H)]),drilldownBackButton:r.a.joinClasses([p.drilldownBackButton,r.a.style(G)]),collapsibleDelete:r.a.joinClasses([p.collapsibleDelete,r.a.style(z)]),collapsibleInsert:r.a.joinClasses([p.collapsibleInsert,r.a.style(U)]),collapsiblePartContent:r.a.joinClasses([p.collapsiblePartContent,r.a.style(V)])};r.a.cssRule(`.${p.fullSentenceDelete} + .${p.fullSentenceInsert}`,{marginLeft:r.a.rem(.25)});const X=Object.assign(Object.assign({},Y),{itemInsert:r.a.joinClasses([p.itemInsert,r.a.style(u,C(!0)),R]),oneGapInsert:r.a.joinClasses([p.oneGapInsert,R,r.a.style(u,C(!0),D)]),fullSentenceOrderedListItemWithFormatting:r.a.joinClasses([p.fullSentenceOrderedListItemWithFormatting,i.a.style(...l(""),...y,w(!1)),r.a.style(...l(""),...y,w(!0))]),fullSentenceBulletListItemWithFormatting:r.a.joinClasses([p.fullSentenceBulletListItemWithFormatting,r.a.style(...y,F,w(!0)),i.a.style(...y,F)]),fullSentenceDashedListItemWithFormatting:r.a.joinClasses([p.fullSentenceDashedListItemWithFormatting,r.a.style(...y,P,w(!0)),i.a.style(...y,P)]),fullSentenceInsert:r.a.joinClasses([p.fullSentenceInsert,r.a.style(w(!0))]),fullSentenceInsertPunctuation:r.a.joinClasses([p.fullSentenceInsertPunctuation,r.a.style(w(!0))]),fullSentenceBackground:r.a.joinClasses([p.fullSentenceBackground,r.a.style(h(!0)),i.a.style(h(!1))]),minimalFullSentenceBackground:r.a.joinClasses([p.minimalFullSentenceBackground,r.a.style(h(!0),{lineHeight:r.a.rem(1.3125)}),i.a.style(h(!0),{lineHeight:r.a.rem(1.3125)})])})},BeBM:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"i",(function(){return r})),a.d(t,"f",(function(){return i})),a.d(t,"k",(function(){return o})),a.d(t,"a",(function(){return s})),a.d(t,"l",(function(){return v})),a.d(t,"j",(function(){return C})),a.d(t,"e",(function(){return k})),a.d(t,"d",(function(){return O})),a.d(t,"h",(function(){return w})),a.d(t,"g",(function(){return S})),a.d(t,"b",(function(){return A}));var n,r,i,o,s,c=a("GRZr"),l=a("OA+g"),d=a("I7vG"),p=a("xlCj"),u=a("lrqh"),m=a("D9EC"),g=a("6fbX"),h=a("hoSD"),f=a("GUi3"),b=a("zR/0"),y=a("kFFO");!function(e){e.forceText="forceText",e.forceSidebar="forceSidebar"}(n||(n={})),function(e){e.lensview="lensview",e.advanced="advanced",e.plagiarism="plagiarism",e.draftAI="draftAI",e.closed="closed"}(r||(r={})),function(e){e.active="active",e.persistent="persistent",e.abstract="abstract"}(i||(i={})),function(e){function t(e){return Object(d.pipe)(e.cardIndex,u.g.chain(t=>e.items.getAt(t)))}e.getActiveItem=t,e.getActiveItemIndex=t=>Object(l.flow)(e.getActiveItem,u.g.chain(e=>t.get(e.id)),u.g.map(e=>e.index)),e.getActiveItemOfType=function(e){return Object(l.flow)(t,u.g.filter(e))}}(o||(o={})),function(e){e.withFilter=e=>t=>(a,n)=>t(a,Object(m.b)(e,n)),e.compose=function(e){return(t,a)=>Object(c.fold)(Object(c.getEndomorphismMonoid)())(e.map(e=>e(t,a)))}}(s||(s={}));const v=e=>"withPriorityList"in e&&e.withPriorityList;var C,O;!function(e){e.hasItems=function(e){return e.kind===i.active||e.kind===i.persistent}}(C||(C={}));class k{constructor(e){this._data=e}static create(e){return new k(e)}get alertSource(){return this._data.alertSource}get switchOrder(){return this._data.switchOrder}get currentLens(){return this._data.currentLens}patch(e){return new k(Object.assign(Object.assign({},this._data),e))}hashCode(){let e=7;return e=31*(e=31*(e=31*e+Object(y.b)(this.alertSource))+Object(y.b)(this.switchOrder))+this.currentLens.hashCode()}equals(e){return this.alertSource===e.alertSource&&this.switchOrder===e.switchOrder&&this.currentLens.equals(e.currentLens)}}!function(e){function t(e,t,a){return n=>{switch(n.currentLens.kind){case i.active:return e(n);case i.persistent:return t(n);case i.abstract:return a(n);default:return Object(g.d)(n.currentLens)}}}let a,o,s,c;function m(e){return e.currentLens.kind===i.persistent}function y(e){return f.a.isOutcomeId(e.currentLens.id)||f.a.isMainLens(e.currentLens.id)||e.currentLens.id===f.a.SpecialId.PredictionTakeaways||e.currentLens.id===f.a.SpecialId.PredictionEmogenie}e.withCardLensSnapshot=(e,t)=>a=>{const n=a.currentLens.items.size>50,r=Object(d.pipe)(a.currentLens.cardIndex,u.g.getOrElse(()=>0)),[i,o]=n?[Math.max(r-25,0),r+25]:[0,50];return{alertSource:a.alertSource,switchOrder:a.switchOrder,lens:{id:a.currentLens.id,card:Object(d.pipe)(t(a.currentLens),u.g.map(e)),items:a.currentLens.items.values().slice(i,o).map(e),sample:n}}},e.snapshot=(a,n)=>t(e.withCardLensSnapshot(a,n),e.withCardLensSnapshot(a,n),e=>({alertSource:e.alertSource,switchOrder:e.switchOrder,lens:{id:e.currentLens.id,kind:e.currentLens.kind}})),e.genericMapper=t,e.mapper=e=>t(e,e,()=>u.g.none),e.getActiveItem=t=>e.mapper(({currentLens:e})=>t(e)),e.getActiveAlertHighlight=t=>Object(l.flow)(e.getActiveItem(t),u.g.map(e=>({alert:e.activeAlert,highlightIndex:e.activeHighlightIndex}))),e.getActiveAlert=t=>Object(l.flow)(e.getActiveItem(t),u.g.map(e=>e.activeAlert)),e.getLens=e.mapper(({currentLens:e})=>u.g.some(e)),function(e){e.mapper=function(e,t){return a=>t[e(a)](a)}}(a=e.Items||(e.Items={})),e.is=function(e){return t=>t.currentLens.id===e},e.isLensview=function(e){return e.currentLens.type===r.lensview},e.isPersistent=m,e.hasCards=function(e){return e.currentLens.kind===i.active||m(e)},e.hasItems=function(e){return e.currentLens.kind===i.active||e.currentLens.kind===i.persistent},e.hasSuccess=y,e.isWithPriorityList=function(e){return y(e)&&v(e.currentLens)},e.isForceSidebar=t=>(e.isLensview(t)||t.currentLens.type===r.plagiarism)&&t.alertSource===n.forceSidebar,e.isSidebarOpened=t=>!e.is(f.a.SpecialId.Closed)(t),function(e){e.defaultFilter=h.e.pick("alertHighlight")}(o=e.FocusFirstFilter||(e.FocusFirstFilter={})),function(e){e.getLens=()=>p.a.create(e=>e.currentLens,(e,t)=>t.patch({currentLens:e})),e.getLensWithItems=()=>p.a.create(e=>e.currentLens,(e,t)=>t.patch({currentLens:e}))}(s=e.Prism||(e.Prism={})),function(e){let t,a,n,r,i,o,s,c,d;!function(e){e.SwitchLens="SwitchLens",e.SwitchAlert="SwitchAlert",e.Applicator="Applicator",e.ItemsApplicator="ItemsApplicator"}(t=e.Type||(e.Type={})),function(e){let a;e.create=function(e){return{type:t.Applicator,source:e}},function(e){e.identity=e=>e,e.override=e=>()=>e,e.empty=b.a.EMPTY}(a=e.Source||(e.Source={}))}(a=e.Applicator||(e.Applicator={})),function(e){let a;e.create=function(e){return{type:t.ItemsApplicator,source:e}},function(e){e.identity=()=>e=>e,e.override=e=>()=>e,e.empty=b.a.EMPTY}(a=e.Source||(e.Source={}))}(n=e.ItemsApplicator||(e.ItemsApplicator={})),function(e){e.create=function(e){return{type:t.SwitchAlert,source:e}}}(r=e.SwitchAlert||(e.SwitchAlert={})),function(e){e.create=function(e){return{type:t.SwitchLens,source:e}}}(i=e.SwitchLens||(e.SwitchLens={})),function(e){function t(e){return e===f.a.SpecialId.Closed}e.isSidebarClosed=t,e.isSidebarOpen=Object(l.not)(t),e.always=l.constTrue}(o=e.When||(e.When={})),function(e){e.delayed=e=>t=>{const a=b.a.delayWhen(()=>b.a.of(void 0),e),n=Object.assign(Object.assign({},t.what),{source:a(t.what.source)});return Object.assign(Object.assign({},t),{what:n})}}(s=e.Producer||(e.Producer={})),function(e){e.noFocus="noFocus",e.unFocus="unFocus",e.focusFirst="focusFirst",e.focusNext="focusNext",e.focusAlert="focusAlert"}(c=e.FocusBehaviorType||(e.FocusBehaviorType={})),function(e){e.noFocus={kind:c.noFocus},e.unFocus={kind:c.unFocus},e.focusNext={kind:c.focusNext},e.focusFirst={kind:c.focusFirst},e.focusAlert=e=>({kind:c.focusAlert,alertHighlight:e})}(d=e.FocusBehavior||(e.FocusBehavior={}))}(c=e.Effect||(e.Effect={}))}(k||(k={})),function(e){e.defaultOptions={focusBehavior:k.Effect.FocusBehavior.focusFirst}}(O||(O={}));var w,S,A;!function(e){e[e.allAlerts=0]="allAlerts",e[e.priorityAlertsOnly=1]="priorityAlertsOnly"}(w||(w={})),function(e){e.getDefault=()=>w.allAlerts}(S||(S={})),function(e){e.skip=l.constFalse,e.force=l.constTrue,e.proceed=e=>e.positionState.animationInProgress}(A||(A={}))},BwCH:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("zR/0");class r{static copy(e,t){this._clearSelection();const a=this._createHiddenSpan(e);return this.select(a),this._copy(e,t).then(()=>{a.parentElement.removeChild(a)}).catch(e=>{throw a.parentElement.removeChild(a),e})}static select(e){if(Boolean(window.getSelection)&&Boolean(document.createRange)){const t=window.getSelection(),a=document.createRange();a.selectNodeContents(e),t.removeAllRanges(),t.addRange(a)}else if("createTextRange"in document.body&&"selection"in document){const e=document.body.createTextRange();e.moveToElementText(this),e.select()}}static _clearSelection(){const e=Boolean(window.getSelection)?window.getSelection():document.selection;"removeAllRanges"in e?e.removeAllRanges():"empty"in e&&e.empty()}static _createHiddenSpan(e){const t=document.createElement("span");return t.setAttribute("style",["all: unset","position: fixed","top -999px","left -999px","opacity: 0","background transparent","white-space: pre","-webkit-user-select: text","-moz-user-select: text","-ms-user-select: text","user-select: text"].join(";")),t.textContent=e,document.body.appendChild(t),t}static _copy(e,t){return new Promise((a,n)=>{try{const r=t?window.clipboardData.setData("text",e):document.execCommand("copy");Boolean(r)?a():n(new Error("Copy API doesn't work"))}catch(e){n(e)}})}}r.copyApiAvailable=new n.a.BehaviorSubject(!0);try{n.a.fromEvent(window,"click").pipe(n.a.first()).subscribe(()=>{document.queryCommandSupported("copy")||r.copyApiAvailable.next(!1)})}catch(e){r.copyApiAvailable.next(!1)}},"By/D":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("ERkP"),i=a("lrqh"),o=a("hoSD"),s=a("PrA7"),c=a("zR/0"),l=a("gy42");!function(e){let t,a,n;!function(e){e.nextLevel=(e,t)=>({rect:e,level:t+1})}(t=e.State||(e.State={})),function(e){e.empty={top:0,bottom:0}}(a=e.Padding||(e.Padding={})),function(e){e.root="root",e.inherit="inherit"}(n=e.ContainerType||(e.ContainerType={})),e.withViewportContainer=function(t,a){return class extends r.Component{constructor(){super(...arguments),this._viewportEl=new c.a.BehaviorSubject(i.g.none),this._onMount=e=>{this._viewportEl.next(i.g.fromNullable(e)),this.props.onMount&&e&&this.props.onMount(e)}}render(){const{name:i,children:s}=this.props,d=this._viewportEl.pipe(c.b.compact,c.a.switchMap(e=>c.a.mergeStatic(l.a.windowResize,c.a.fromEvent(e,"transitionend").pipe(c.a.filter(t=>t.target===e)),c.a.of(!0).pipe(c.a.switchMap(l.b.Scheduler.rafScheduler))).pipe(c.a.mapTo(e),c.a.startWith(e),c.a.map(o.c.Rect.fromEl)))),p=a.type===n.root?e.RootVirtualContainer:e.InheritVirtualContainer;return r.createElement(t,Object.assign({},this.props,{onMount:this._onMount,name:i}),r.createElement(p,{viewport:d,name:i},s))}}},e.RootVirtualContainer=({viewport:t,viewportPadding:a=c.a.of(e.Padding.empty),name:n,children:i})=>{const o=r.useContext(e.Context);return r.createElement(e.Context.Provider,{key:p(n),value:c.a.combineLatestStatic(t,a,d).pipe(c.a.withLatestFrom(o.pipe(c.a.map(e=>e.level)),e.State.nextLevel),c.a.shareReplay({bufferSize:1,refCount:!0}))},i)},e.InheritVirtualContainer=({viewport:t,viewportPadding:a=c.a.of(o.c.Rect.empty),name:n,children:l})=>{const u=r.useContext(e.Context);return r.createElement(e.Context.Provider,{key:p(n),value:c.a.combineLatestStatic(u.pipe(c.a.map(e=>e.rect)),c.a.combineLatestStatic(t||u.pipe(c.a.map(e=>e.rect)),a,d),o.c.Rect.intersection).pipe(c.a.map(i.g.getOrElse(()=>(s.Monitoring.Logging.getLogger("InheritVirtualContainer").warn("Got an empty rect for inherit viewport",{name:n}),o.c.Rect.empty))),c.a.withLatestFrom(u.pipe(c.a.map(e=>e.level)),e.State.nextLevel),c.a.shareReplay({bufferSize:1,refCount:!0}))},l)};const u=c.a.defer(()=>l.a.windowResize.pipe(c.a.mapTo(document.body),c.a.startWith(document.body),c.a.map(o.c.Rect.fromEl),c.a.map(e=>({rect:e,level:0})))).pipe(c.a.shareReplay({bufferSize:1,refCount:!0}));e.Context=r.createContext(u)}(n||(n={}));const d=(e,t)=>({top:e.top+t.top,bottom:e.bottom-t.bottom,height:e.height-t.top-t.bottom,left:e.left,right:e.right,width:e.width}),p=e=>`viewportProvider${o.f.camelize(e)}`},C1OD:function(e,t,a){e.exports=a.p+"files/39a510c28179c25e0e4f65524d8d5394/inter-light.woff"},C53H:function(e,t,a){"use strict";a.d(t,"c",(function(){return g})),a.d(t,"a",(function(){return h})),a.d(t,"b",(function(){return f}));var n=a("a5W6"),r=a("OA+g"),i=a("I7vG"),o=a("24uI"),s=a("94k3"),c=a("lrqh"),l=a("dE97"),d=a("JSz4"),p=a("KBak"),u=a("f3nf");const m={ignoreWhitespaceRemoves:!0},g=Object(r.flow)(h,d.a);function h(e,t=m){return a=>Object(i.pipe)(a.alternatives,v(e,{isFullSentence:l.f.isFullSentence(a.cardType),isShortenIt:l.f.isShortenIt(a.cardType),isToneAI:l.f.isToneAI(a.cardType)}),c.b.chain(u.a.create(Object.assign(Object.assign({},t),{drilldown:a.drilldown}))))}const f=e=>Object(r.flow)(v(e,{isFullSentence:!1,isShortenIt:!1,isToneAI:!1}),c.b.map(c.f.map(({ops:e,text:t})=>Object(i.pipe)(e,function(e){return Object(r.flow)(n.reduce({currPos:0,diff:[]},(t,a)=>(o.a.isDelete(a)?(t.diff.push({textChunk:e.substr(t.currPos,a.delete),type:a.type===s.a.AlternativeOperation.Type.Main||a.type===s.a.AlternativeOperation.Type.Important?p.a.Type.Delete:p.a.Type.Retain}),t.currPos+=a.delete):o.a.isInsert(a)?t.diff.push({textChunk:o.a.isInsertString(a)?a.insert:"",type:a.type===s.a.AlternativeOperation.Type.Main?p.a.Type.Insert:p.a.Type.Retain}):(t.diff.push({textChunk:e.substr(t.currPos,a.retain),type:p.a.Type.Retain}),t.currPos+=a.retain),t)),e=>e.diff)}(t),function(e){return t=>Object(i.pipe)(t,n.findFirst(t=>t.type===p.a.Type.Delete&&t.textChunk===e.trim()),c.g.map(e=>[e,{textChunk:Object(i.pipe)(t,n.reduce("",(t,a)=>p.a.NoInvert.eq.equals(a,e)?t:(t+=a.textChunk,t))),type:p.a.Type.Insert}]),c.g.getOrElse(()=>t))}(t),b,y))));function b(e){return Object(i.pipe)(e,n.reduceWithIndex([],(t,a,n)=>{const r=e[t-1];return void 0!==r&&p.a.isDelete(n)&&p.a.isInsert(r)?(a.push(r),a[t-1]=n):a.push(n),a}))}function y(e){return Object(i.pipe)(e,n.reduceWithIndex([],(t,a,n)=>{const r=e[t-1];return void 0!==r&&p.a.isInsert(n)&&p.a.isDelete(r)?(a[t-1]=Object.assign(Object.assign({},r),{invertedChunk:n.textChunk}),a.push(Object.assign(Object.assign({},n),{invertedChunk:r.textChunk}))):a.push(Object.assign(Object.assign({},n),{invertedChunk:""})),a}))}function v(e,t){const a=Object(r.flow)(e,e=>e.delta.reduce((e,t)=>o.a.isInsertString(t)?e+t.insert:e,""));return Object(r.flow)(function(e,{isFullSentence:t,isShortenIt:a,isToneAI:r}){return o=>Object(i.pipe)(o,n.filterMap(n=>Object(i.pipe)(n.type,c.g.map(i=>{if(s.a.Alternative.hasOptionalContext(n.ops)){const[o,...c]=n.ops,l=s.a.AlternativeOperation.length(o);return{text:e(l,n.lengthAffected-l),ops:c,type:i,isFullSentence:t,isShortenIt:a,isToneAI:r}}return{text:e(0,n.lengthAffected),ops:n.ops,type:i,isFullSentence:t,isShortenIt:a,isToneAI:r}}))),c.f.fromArray)}(a,t),c.b.fromOption(()=>new Error("Alternative array is empty")))}},CxAE:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("ERkP"),i=a("OA+g"),o=a("I7vG"),s=a("9NHN"),c=a("vOOZ"),l=a("zR/0"),d=a("lrqh"),p=a("ax6a"),u=a("6gXa"),m=a("rk+4"),g=a("wOnQ"),h=a("uqkn"),f=a("IVzZ"),b=a("+w1e"),y=a("XxrX"),v=a("Sfi4"),C=a("kED/"),O=a("8P+J"),k=a("BugA"),w=a("1gzW"),S=a("aIes"),A=a("0A/6"),E=a("H9T+"),x=a("RWgj"),I=a("cVtq"),j=a("J/IC");!function(e){e.BundleMini=({card:e,actions:t})=>r.createElement(A.a.Mini,Object.assign({},Object(s.c)(x.b.wrapper,x.b.bundleContainer),{actions:t,cardId:e.id,getActiveAlert:()=>e.alerts[0],counter:r.createElement(k.SmallLight,{className:x.b.alertsCounter},e.alerts.length),inert:e.positionState.inert,hideDot:!0}),r.createElement(c.a.div,{className:N.content},r.createElement(O.c,{id:e.activeAlert.toneAlternatives[e.activeAlert.selectedToneAlternativeIdx].emojiID,className:N.emoji}),r.createElement("div",{className:x.b.highlightedText},f.a.bundleTitle(e)))),e.Full=({card:e,actions:t,isChecking:a,isCheckingGlobal:n})=>{const s=r.useContext(m.a.Context),p=w.a.useAtomOf(e.activeAlert.toneAlternatives),u=r.useCallback(a=>{"focused"!==e.visualState.transition.type&&"expanded"!==e.visualState.transition.type||t.next({type:b.b.Type.toneAIChangeToneAlternative,alertId:e.activeAlert.id,itemId:e.id,selectedToneAlternativeIdx:a})},[t,e.visualState.transition.type,e.activeAlert.id,e.id]);return Object(o.pipe)(e.transform,d.g.filter(g.j.isToneAI),d.g.fold(()=>null,o=>r.createElement(E.s,{card:e,actions:t,isChecking:a,isCheckingGlobal:n,cardBody:a=>r.createElement(r.Fragment,null,r.createElement(E.j,{alert:e.activeAlert,options:e.renderOptions,badge:r.createElement(C.a.Regular,{a11yContrast:e.renderOptions.features.has(y.a.Features.a11yContrast)},s.beta)}),r.createElement(c.a.Fragment,null,p.pipe(l.a.map(e=>r.createElement(j.a,{toneAlternatives:e,onSelectToneAlternative:u})))),0===e.activeAlert.selectedToneAlternativeIdx?r.createElement("div",{className:P.replacementContainer},e.activeAlert.highlightTexts[0]):r.createElement(v.b,{classes:{rendered:P.replacement,removing:P.replacementHidden},timeout:250,content:l.a.of(r.createElement(I.g,{label:o.labels[e.activeAlert.selectedToneAlternativeIdx-1],className:P.replacementContainer,a11yContrast:e.renderOptions.features.has(y.a.Features.a11yContrast)}))}),0!==e.activeAlert.selectedToneAlternativeIdx?r.createElement(E.r,{title:s.card.todoAction(o.tooltipText),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:a,onClick:S.d.callOnce(()=>t.next({type:b.b.Type.alertApply,alertId:e.activeAlert.id,id:e.id,alternativeIndex:e.activeAlert.selectedToneAlternativeIdx-1,cardType:b.b.getCardType(e),eligibleForSurvey:h.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:h.a.isEligibleForGbPrompt(e)}))}):null),mainActions:Object(i.constant)(r.createElement(E.e,{card:e,feedbackActions:t})),subActions:Object(i.constant)(r.createElement(E.n,{card:e,actions:t})),cardFooter:Object(i.constant)(r.createElement(E.h,{card:e}))})))}}(n||(n={}));const T={width:u.a.rem(1),height:u.a.rem(1),marginRight:u.a.rem(.5)},N=u.a.stylesheet({content:[{display:"flex",alignItems:"center"}],emoji:[T]}),L={transition:`opacity ${u.a.seconds(E.u)}`},B={width:u.a.percent(100),background:p.a.CoreNeutral10,borderRadius:u.a.px(4),fontSize:u.a.rem(.875),lineHeight:u.a.rem(1.5),fontFeatureSettings:"'ss03' on",padding:u.a.px(8),marginTop:u.a.px(12),boxSizing:"border-box"},P=u.a.stylesheet({replacement:[L],replacementHidden:[L,{opacity:0}],replacementContainer:[B]})},"D/5U":function(e,t,a){"use strict";a.d(t,"f",(function(){return o})),a.d(t,"c",(function(){return c})),a.d(t,"e",(function(){return k})),a.d(t,"d",(function(){return E})),a.d(t,"a",(function(){return D})),a.d(t,"b",(function(){return $}));var n=a("6gXa"),r=a("ps/9"),i=a("3bJT");const o="linear",s=n.a.keyframes({"0%":{opacity:0},"100%":{opacity:1}}),c=n.a.keyframes({from:{opacity:1,transform:"scaleY(1)"},to:{opacity:0,transform:"scaleY(.5)"}}),l=n.a.keyframes({from:{opacity:1,transform:"translateY(0) scaleY(1)"},to:{opacity:0,transform:"translateY(-75%) scaleY(.5)"}}),d=n.a.keyframes({"0%":{opacity:0,transform:"scaleY(0)"},"100%":{opacity:1,transform:"scaleY(1)"}}),p=n.a.keyframes({"0%":{opacity:0,transform:"scaleY(.2) translateY(-50%)"},"80%":{opacity:1,transform:"scaleY(.8) translateY(0%)"},"100%":{opacity:1,transform:"scaleY(1)"}}),u=n.a.keyframes({"0%":{opacity:1,transform:"scaleY(1)"},"100%":{opacity:0,transform:"scaleY(0)"}}),m=n.a.keyframes({"0%":{opacity:0,transform:"scale(.8)"},"100%":{opacity:1,transform:"scale(1)"}}),g=n.a.keyframes({"0%, 100%":{opacity:0}}),h=n.a.keyframes({"0%, 59%":{opacity:0},"60%, 100%":{opacity:1}}),f=n.a.keyframes({"0%":{opacity:0},"80%":{opacity:0},"100%":{opacity:1}}),b=n.a.keyframes({"0%":{opacity:1,transform:"scaleY(1)"},"59%":{opacity:1},"60%":{opacity:0},"100%":{opacity:0,transform:"scaleY(0)"}}),y=n.a.keyframes({"0%":{opacity:1},"30%, 100%":{opacity:0}}),v=n.a.keyframes({"0%":{transform:"scaleY(.3)"},"100%":{transform:"scaleY(1)"}}),C=n.a.keyframes({"0%, 20%":{opacity:0},"100%":{opacity:1}}),O={position:"relative",margin:`${n.a.rem(.5)} ${n.a.rem(2)} ${n.a.rem(.5)} 0`,userSelect:"none"},k={position:"absolute",width:n.a.percent(100),pointerEvents:"none"},w={opacity:0,animation:`${s} ${n.a.seconds(r.d/4/1e3)} ${o} ${n.a.seconds(r.d/1e3)} forwards`},S={transformOrigin:"top",animation:`${c} ${n.a.seconds(r.d/1e3)} ${o} forwards`},A={transformOrigin:"bottom",animation:`${l} ${n.a.seconds(r.d/1e3)} ${o} forwards`},E={transformOrigin:"top",willChange:"contents"},x={animation:`${d} ${n.a.seconds(r.d/1e3)} ${o} forwards`},I={animation:`${p} ${n.a.seconds(r.d/1e3)} ${o} forwards`},j={animation:`${u} ${n.a.seconds(r.d/1e3)} ${o} reverse forwards`},T={animation:`${u} ${n.a.seconds(r.d/1e3)} ${o} forwards`},N={animation:`${m} ${n.a.seconds(r.d/1e3)} ${o} forwards`},L={animation:`${m} ${n.a.seconds(r.d/1e3)} ${o} reverse forwards`},B={transformOrigin:"top",animation:`${h} ${n.a.seconds(r.d/1e3)} ${o} forwards`,willChange:"contents",$nest:{[`& .${i.b.successWrapperSelector} > *`]:{animation:`${f} ${n.a.seconds(r.d/1e3)} ${o} forwards`}}},P={position:"absolute",width:n.a.percent(100),transformOrigin:"top",animation:`${b} ${n.a.seconds(r.d/1e3)} ${o} forwards`,pointerEvents:"none",$nest:{[`& .${i.b.fullCardSelector} > :not(.${i.b.alignButtonHiddenSelector})`]:{animation:`${y} ${n.a.seconds(r.d/1e3)} ${o} forwards`},[`& .${i.b.fullCardSelector} > .${i.b.alignButtonHiddenSelector}`]:{animation:`${g} ${n.a.seconds(r.d/1e3)} ${o} none`},[`& .${i.b.fullCardSelector}`]:{transform:`translateY(${n.a.rem(-1)})`}}},F={transformOrigin:"top",animation:`${v} ${n.a.seconds(r.d/1e3)} ${o} forwards`,willChange:"contents",$nest:{[`& .${i.b.fullCardSelector} > :not(.${i.b.alignButtonHiddenSelector})`]:{animation:`${C} ${n.a.seconds(r.d/1e3)} ${o} forwards`},[`& .${i.b.fullCardSelector} > .${i.b.alignButtonHiddenSelector}`]:{animation:`${g} ${n.a.seconds(r.d/1e3)} ${o} none`}}},D=n.a.stylesheet({wrapper:[O],animationWrapper:[{position:"relative"}],shade:[k],focused2renderedMain:[w],focused2renderedShade:[k,S],focused2renderedShadeClockwise:[k,A],rendered2focusedMainBase:[E],rendered2focusedMain:[E,x],rendered2focusedMainClockwise:[E,I],addedMain:[j],rendered2removedShade:[k,T],openedMain:[N],closedMain:[L],focused2successMain:[B],focused2successShade:[P],success2FocusedMain:[F]}),$=new Map([[c,D.focused2renderedShade],[l,D.focused2renderedShadeClockwise],[u,D.rendered2removedShade],[b,D.focused2successShade]])},"Ei+9":function(e,t,a){"use strict";a.d(t,"b",(function(){return R})),a.d(t,"c",(function(){return U})),a.d(t,"a",(function(){return M}));var n={};a.r(n),a.d(n,"sendToSignIn",(function(){return x})),a.d(n,"sendToIdeasGallery",(function(){return I})),a.d(n,"handleGbPrompt",(function(){return j}));var r=a("7qGb"),i=a("OA+g"),o=a("I7vG"),s=a("ZTXN"),c=a("LNSM"),l=a("94k3"),d=a("lrqh"),p=a("6fbX"),u=a("D9EC"),m=a("XF5a"),g=a("PrA7"),h=a("MrnW"),f=a("eTAx"),b=a("dE97"),y=a("HqKA"),v=a("GUi3"),C=a("+w1e"),O=a("zR/0"),k=a("1huE"),w=a("aIes"),S=a("AMXJ"),A=a("K4Sz"),E=a("4GD7");const x=(e,t)=>Object(i.flow)(O.a.filter(e=>e.type===C.b.Type.toSignIn),O.a.map(()=>a=>(e.actions.openUrl(new S.a(t.funnel.signin).addParams({utm_medium:"internal",utm_source:"upHook",utm_campaign:"editorDenalianonymousUserGenericSignInPrompt"})),a))),I=(e,t)=>Object(i.flow)(O.a.filter(C.b.isOpenIdeasGallery),O.a.tap(()=>e.actions.openPopup(new S.a(t.ideas.galleryURL))),O.a.switchMapTo(O.a.EMPTY)),j=(e,t,a,n,r)=>i=>O.a.mergeStatic(Object(o.pipe)(i,O.a.filter(C.b.isGbPromptShow),O.a.tap(e=>T(e.alertId,a,n,e=>N(e,r))),O.a.switchMapTo(O.a.EMPTY)),Object(o.pipe)(i,O.a.filter(C.b.isGbPromptApply),O.a.tap(i=>T(i.alertId,a,n,a=>L(e,t,i,a,r))),O.a.switchMapTo(O.a.EMPTY)),Object(o.pipe)(i,O.a.filter(C.b.isGbPromptDismiss),O.a.tap(e=>T(e.alertId,a,n,t=>B(e,t,r))),O.a.switchMapTo(O.a.EMPTY))),T=(e,t,a,n)=>Object(o.pipe)(t.getById(e),d.g.map(e=>e),d.g.tap(n),d.g.tapLeft(()=>{a.error(`Can't find alert: ${e}`)})),N=(e,t)=>t.onShow(e.patternName),L=(e,t,a,n,r)=>b.h.isVox(a.gbPrompt)?P(e,t,a,n,r):D(e,t,a.gbPrompt,n,r),B=(e,t,a)=>b.h.isVox(e.gbPrompt)?F(t,a):$(t,a),P=(e,t,a,n,r)=>{var i;e.actions.openPopup(new S.a(t.account.styleGuide).addParams({utm_medium:"internal",utm_source:"acHook",utm_campaign:"consistencySGprompt",action:"createRule",source:Array.from(new Set(n.highlightTexts)).join(","),target:(null!==(i=n.labels[a.alertApplyActionProps.alternativeIndex])&&void 0!==i?i:{replacementTexts:[""]}).replacementTexts[0]})),r.onAccept(n.patternName)},F=(e,t)=>t.onDismiss(e.patternName),D=(e,t,a,n,r)=>{e.actions.openPopup(new S.a(t.account.writingStyle).addParams({utm_medium:"internal",utm_source:"acHook",utm_campaign:"consistencySGprompt",categoryTitle:a.categoryTitle})),r.onAccept(n.patternName)},$=(e,t)=>t.onDismiss(e.patternName);var R,M,_=a("UEGg"),W=a("uqkn"),H=a("YJiV"),G=a("W39u"),q=a("TC4P"),V=a("BeBM"),z=a("bFfh");!function(e){const t=(e,t,a,n)=>{return Object(o.pipe)(n(t=>(t.lensId===e.id||v.a.isMainLens(e.id))&&!b.a.isPremium(t),"middleOfTheViewport"),d.g.fold(()=>O.a.EMPTY,n=>Object(o.pipe)(a(e),d.g.filter(e=>e.activeAlert.id===n.alert.id),d.g.fold(()=>O.a.of(n),e=>((e,a)=>Object(o.pipe)(t,d.g.map(t=>t.alignMarkToCard(e,E.a.Animation.ANIMATE_ALL,d.g.none).pipe(O.a.switchMapTo(O.a.EMPTY))),d.g.getOrElse(()=>O.a.of(a))))(Object(i.unsafeCoerce)(e),n)))))};e.changeAlertEffect=(e,a,n,r,i,s,c,l)=>({id:"changeAlertEffect",when:v.a.isWithAlertsId,what:V.e.Effect.SwitchAlert.create(a.actionEvents.pipe(O.a.switchMap(a=>{const u=e.get();if(!V.e.hasCards(u))return O.a.throwError(new p.b("Cannot update state without cards"));switch(a.type){case C.b.Type.alertMinicardButtonClick:return Object(o.pipe)(i.getRegistered(a.alertHighlight.alert.id),d.g.fold(()=>(l.error("somehow we got click on non registered alert",{alert:_.a.snapshot(a.alertHighlight.alert),alertInRepo:Object(o.pipe)(i.getById(a.alertHighlight.alert.id),d.g.map(_.a.fromModel),d.g.map(_.a.snapshot)),state:V.e.snapshot(H.a.snapshot,r)(u)}),O.a.EMPTY),()=>O.a.of(a.alertHighlight)));case C.b.Type.cardMatchesNavigationButtonClick:const e=a.transitionTo;switch(e.kind){case"anotherAlert":return Object(o.pipe)("right"===a.direction?n.nextAlert(e.card):Object(o.pipe)(n.prevAlert(e.card),d.g.orElse(n.anyRegisteredAlert(e.card))),d.g.fold(()=>O.a.EMPTY,e=>O.a.of({alert:e,highlightIndex:0})));case"sameAlert":return Object(o.pipe)(i.getRegistered(e.card.activeAlert.id),d.g.fold(()=>O.a.EMPTY,()=>O.a.of({alert:e.card.activeAlert,highlightIndex:e.highlightIndex})));default:return Object(p.d)(e)}case C.b.Type.switchToClosestByViewport:return t(u.currentLens,s,r,c);default:return O.a.EMPTY}}),O.a.map(e=>({alertHighlight:e,alertSource:b.b.sidebar,options:{order:"lensOrder"}}))))}),e.createSendActiveAlertFeedbacksEffect=function(e,t,a,n,r){const s=e.pipe(O.a.map(V.e.getActiveAlert(t)),O.a.distinctUntilChanged(d.g.getEq(d.c.fromEquals((e,t)=>_.a.eq.equals(e,t)&&e.patternName===t.patternName)).equals),O.a.map(d.g.filter(e=>d.g.isSome(n.getRegistered(e.id))&&!b.a.isInPremiumLens(e))),O.a.switchMap(d.g.fold(()=>O.a.EMPTY,t=>O.a.Observable.create(()=>(Object(o.pipe)(a.applyFeedback(t.id,{kind:l.a.AlertFeedbackType.LOOKED,subtype:y.b.getSubTypeFromLens(e.get().currentLens.id)},b.b.sidebar),d.b.fold(r.handler("Failed to send LOOKED feedback").error,u.e)),()=>{d.g.isSome(n.getRegistered(t.id))&&Object(o.pipe)(a.applyFeedback(t.id,{kind:l.a.AlertFeedbackType.CLOSED,subtype:y.b.getSubTypeFromLens(e.get().currentLens.id)},b.b.sidebar),d.b.fold(r.handler("Failed to send CLOSED feedback: ").error,u.e))})))));return{id:"sendActiveAlertFeedbacksEffect",when:i.constTrue,what:V.e.Effect.Applicator.create(s.pipe(O.a.switchMapTo(O.a.NEVER)))}}}(R||(R={}));class U{constructor(e,t,a,n,r,c,m,v,S,E,x,I,j,T=new f.b,N={bufferTransitions:!0,showGbPrompt:!1}){this._ops=e,this._navigationEvents=t,this._cardFactory=a,this._alertsService=n,this._sduiService=r,this._markOnboardingAsSeen=c,this._markMuteQuotedAdviceAsDismissed=m,this._sendToUrlExperiment=S,this._getActiveItemWithAlert=x,this._checksFeedCapabilities=I,this._lensState=j,this._platformEnvironment=T,this._settings=N,this._log=g.Monitoring.Logging.getLogger("CardsViewModelImpl",g.Logging.LogLevel.DEBUG),this._subs=new k.a.Keeper,this._flushCompleteTransition=new O.a.Subject,this._flushPositionAnimation=new O.a.Subject,this.actionEvents=new O.a.Subject,this.completePositionAnimation=new O.a.Subject,this.changePosition=new O.a.Subject,this._transitionBuffer=O.a.interval(100).pipe(O.a.startWith(0),O.a.merge(this._flushCompleteTransition)),this._positionAnimationBuffer=O.a.interval(100).pipe(O.a.startWith(0),O.a.merge(this._flushPositionAnimation)),this._startTransitionStateChanges=this.actionEvents.pipe(O.a.filter(C.a.isStartTransitionTo),O.a.map(e=>t=>M.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,e.transition]]),t))),this._completeTransitionStateChanges=this.actionEvents.pipe(O.a.filter(C.a.isCompleteTransitionTo),this._settings.bufferTransitions?O.a.buffer(this._transitionBuffer):O.a.map(e=>[e]),O.a.filter(u.n),O.a.map(e=>t=>{const a=t.currentLens,n=this._applyCompleteVSChange(a,e.map(e=>[e.id,e.transitionId]));return this._log.isEnabled(g.Logging.LogLevel.TRACE)&&this._log.trace("batch transition complete",{events:e,diff:w.a.Sorted.diff(a.items,n.items)}),V.e.Prism.getLens().set(n,t)})),this._changePositionEffect=this.changePosition.pipe(O.a.map(({id:e,height:t})=>a=>{const n=Object(o.pipe)(A.a.update(a.currentLens.items,e,e=>this._checksFeedCapabilities.changePosition(G.a.PositionState.changeHeight(e.positionState,t))(e)),d.b.fold(()=>a.currentLens.items,i.identity));return M.itemsLens.set(n,a)})),this._transitionEndStateChanges=this.completePositionAnimation.pipe(O.a.buffer(this._positionAnimationBuffer),O.a.filter(u.n),O.a.map(e=>t=>{const a=t.currentLens.items,n=e.map(e=>[e,!1]).reduce((e,[t,a])=>Object(o.pipe)(A.a.update(e,t,e=>this._checksFeedCapabilities.changePosition(G.a.PositionState.changeAnimationInProgress(e.positionState,a))(e)),d.b.fold(()=>e,i.identity)),a);return M.itemsLens.set(n,t)})),this._switchToNextChanges=this.actionEvents.pipe(O.a.filter(e=>e.type===C.b.Type.switchToNext),O.a.map(()=>e=>e.patch({currentLens:Object(o.pipe)(V.e.hasItems(e)?this._checksFeedCapabilities.findNextAlert(e.currentLens):d.g.none,d.g.fold(()=>Object(o.pipe)(V.e.getActiveAlert(this._getActiveItemWithAlert)(e),d.g.fold(()=>{throw new p.b("Can not switch from non-existing card")},t=>this._checksFeedCapabilities.release(t)(e.currentLens))),t=>V.e.hasItems(e)?this._checksFeedCapabilities.selectItemByAlert(t,[])(e.currentLens):e.currentLens)),switchOrder:"lensOrder",alertSource:b.b.sidebar}))),this._dismissMuteQuotedAdvice=this.actionEvents.pipe(O.a.filter(C.b.isDismissMuteQuotedAdvice),O.a.tap(this._markMuteQuotedAdviceAsDismissed),O.a.map(()=>e=>{const t=e.currentLens.items.filter(Object(i.flow)(this._checksFeedCapabilities.hasActiveAlert,d.g.map(e=>e.alert),d.g.exists(_.a.isInQuotes))).keys().map(e=>[e,!1]).reduce((e,[t])=>Object(o.pipe)(A.a.update(e,t,this._cardFactory.hideMuteQuotedAdvice),d.b.fold(()=>e,i.identity)),e.currentLens.items);return M.itemsLens.set(t,e)})),this._changeUserInput=this.actionEvents.pipe(O.a.filter(C.b.isChangeUserInput),O.a.tap(({alertId:e,userInput:t})=>{this._alertsService.changeGapValue(e,t)}),O.a.map(({cardId:e,userInput:t})=>a=>{const n=Object(o.pipe)(a.currentLens.items.update(e,this._checksFeedCapabilities.updateUserInput(Boolean(t)?d.g.some(t):d.g.none)),d.b.fold(()=>a.currentLens.items,i.identity));return M.itemsLens.set(n,a)})),this._shortenItDismissEdit=this.actionEvents.pipe(O.a.filter(C.d.isDismissEdit),O.a.map(({alertId:e,group:t,itemId:a})=>n=>Object(o.pipe)(this._alertsService.dismissShortenItTransformGroup(e,t),d.b.map(e=>({newAlert:e,itemId:a})),d.b.chainW(({newAlert:e,itemId:t})=>A.a.update(n.currentLens.items,t,this._checksFeedCapabilities.updateWithAlerts([e]))),d.b.fold(e=>(this._log.error("Error updating card/alert with dismissed transform groups.",e),n),e=>M.itemsLens.set(e,n))))),this._focusChecksFeedItem=this.actionEvents.pipe(O.a.filter(C.b.isMiniItemClick),O.a.map(e=>t=>t.patch({currentLens:Object(o.pipe)(t.currentLens.items.find(t=>t.id===e.id),d.g.fold(()=>(this._log.error("Can not switch from non-existing item"),t.currentLens),()=>Object(i.unsafeCoerce)(Object(o.pipe)(t.currentLens,this._checksFeedCapabilities.selectItemById(e.id,[]))))),switchOrder:"lensOrder",alertSource:b.b.sidebar}))),this._collapseChecklistItem=this.actionEvents.pipe(O.a.filter(C.b.isChecklistItemCollapseButtonClick),O.a.map(()=>e=>e.patch({currentLens:V.e.hasItems(e)?this._checksFeedCapabilities.unselectItem()(e.currentLens):e.currentLens,switchOrder:"lensOrder",alertSource:b.b.sidebar}))),this._toneAIChangeToneAlternative=this.actionEvents.pipe(O.a.filter(C.b.isToneAIChangeToneAlternativeAction),O.a.map(({itemId:e,alertId:t,selectedToneAlternativeIdx:a})=>Object(o.pipe)(this._alertsService.changeToneAIToneAlternative(t,a),d.b.map(t=>({newAlert:t,itemId:e})))),O.a.map(e=>this._updateToneAICard(e))),this._synfonyDrilldown=this.actionEvents.pipe(O.a.filter(C.e.isDrilldown),O.a.map(({cardId:e,wordIndex:t})=>a=>Object(o.pipe)(A.a.update(a.currentLens.items,e,e=>{const a=e;return W.a.changeSynfonySelection(Object(o.pipe)(a.synfonySelection,d.g.getOrElse(()=>[]),e=>d.g.some(e.concat([t]))))(a)}),d.b.fold(()=>a,e=>V.e.Prism.getLens().compose(z.a.Prism.items).set(e,a))))),this._synfonyBack=this.actionEvents.pipe(O.a.filter(C.e.isBack),O.a.map(({cardId:e})=>t=>Object(o.pipe)(A.a.update(t.currentLens.items,e,e=>{const t=e;return W.a.changeSynfonySelection(Object(o.pipe)(t.synfonySelection,d.g.map(e=>e.slice(0,-1))))(t)}),d.b.fold(()=>t,e=>V.e.Prism.getLens().compose(z.a.Prism.items).set(e,t))))),this._sendToUrl=Object(o.pipe)(this._sendToUrlExperiment,d.g.map(e=>Object.entries(e).filter(([e])=>"handleGbPrompt"!==e||this._settings.showGbPrompt).map(([e,t])=>[t(this.actionEvents),e]))),this._sendFeedback=Object(i.flow)((e,t)=>this._alertsService.applyFeedback(e,Object.assign(Object.assign({},t),{subtype:y.b.getSubTypeFromLens(this._lensState.get().currentLens.id)}),b.b.sidebar),d.b.fold(this._log.handler("error calling alert service to send a feedback").error,u.e)),this._showSurveyForm=new s.a,this._showSurveyFormEffect=Object(o.pipe)(this._showSurveyForm,O.a.map(e=>t=>M.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,"survey"===e.formType?Object.assign({type:"feedback_form",formType:"survey",clockwise:!0,survey:e.survey},e.submitActionType===C.b.Type.alertApplyFormSubmit?{submitActionType:C.b.Type.alertApplyFormSubmit,alertApplyActionProps:e.alertApplyActionProps}:{submitActionType:C.b.Type.alertIgnoreFormSubmit}):{type:"feedback_form",formType:"gbPrompt",clockwise:!0,gbPrompt:e.gbPrompt,alertApplyActionProps:e.alertApplyActionProps}]]),t))),this._showMutedAlertSuccessEffect=this.actionEvents.pipe(O.a.filter(C.b.isMuteCategoryAction),O.a.map(e=>t=>M.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,{type:"muted",clockwise:!0}]]),t))),this._undoMutedAlertEffect=this.actionEvents.pipe(O.a.filter(C.b.isUndoMuteCategoryAction),O.a.map(e=>t=>M.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,{type:"focused",clockwise:!0}]]),t))),this._handleAlertIgnore=Object(i.flow)(Y(({alertId:e,drilldownSuggestionIds:t})=>()=>this._sendFeedback(e,{kind:l.a.AlertFeedbackType.IGNORE,drilldownSuggestionIds:t}),e=>()=>this._showSurveyForm.next(e),this._settings.showGbPrompt),e=>this.actionEvents.pipe(O.a.filter(C.b.isAlertIgnoreAction)).subscribe(t=>e(t)())),this._handleApplyAlerts=Object(i.flow)(Y(e=>()=>this._applyAlert(e),e=>()=>this._showSurveyForm.next(e),this._settings.showGbPrompt),e=>this.actionEvents.pipe(O.a.filter(C.b.isAlertApplyAction)).subscribe(t=>e(t)())),this._sduiActionsHandler=this.actionEvents.pipe(O.a.filter(C.b.isSDUICardAction),O.a.skipBy(C.b.SDUICardAction.eq),O.a.map(({cardId:e,actions:t})=>a=>(this._log.info("sdui card action:",{cardId:e,actions:t}),Object(p.g)(d.g.isSome(this._sduiService),"sduiService must be initialized to handle sdui actions"),Object(o.pipe)(t,d.a.reduce(a,(a,n)=>{switch(n.type){case"notify":return d.g.unsafeGet(this._sduiService).sendUserAction(n.id,n.userAction),a;case"removeCard":const r=t.some(h.d.Action.isApplyAlternativeAction)?a:M.itemsLens.set(Object(o.pipe)(A.a.update(a.currentLens.items,e,e=>this._checksFeedCapabilities.remove(i.constTrue,i.constTrue)(e)),d.b.fold(()=>a.currentLens.items,i.identity)),a);return Object(o.pipe)(a.currentLens.items.get(e),d.g.filterMap(e=>Object(o.pipe)(this._checksFeedCapabilities.hasActiveAlert(e.value),d.g.map(e=>e.alert),d.g.filter(e=>!_.a.isPremium(e)&&!t.some(h.d.Action.isApplyAlternativeAction)),d.g.map(t=>Object(i.tuple)(e.value,t)))),d.g.fold(()=>r,([e,t])=>(requestAnimationFrame(()=>this.actionEvents.next({type:C.b.Type.alertIgnore,alertId:t.id,id:e.id,eligibleForSurvey:t.dismissSurvey,drilldownSuggestionIds:t.alertType===b.a.Type.Synfony?Object(o.pipe)(e.synfonySelection,d.g.getOrElse(()=>[])):void 0})),a)));case"applyAlternative":return Object(o.pipe)(a.currentLens.items.get(e),d.g.map(e=>e.value),d.b.fromOption(()=>new Error(`unknown cardId: ${e}`)),d.b.bimap(e=>this._log.error("error in processing applyAlternative action",e),e=>{const t=Object(o.pipe)(this._checksFeedCapabilities.hasActiveAlert(e),d.g.map(e=>e.alert));d.g.isNone(t)?this._log.error("error in processing applyAlternative action: card must have active alert"):requestAnimationFrame(()=>this.actionEvents.next({type:C.b.Type.alertApply,id:e.id,eligibleForSurvey:t.value.acceptSurvey,eligibleForGbPrompt:t.value.gbPrompt,alertId:t.value.id,alternativeIndex:n.alternativeIndex,cardType:C.b.getCardType({activeAlert:t.value})}))}),()=>a);case"closeCard":return a.patch({currentLens:V.e.hasItems(a)?this._checksFeedCapabilities.unselectItem()(a.currentLens):a.currentLens,switchOrder:"lensOrder",alertSource:b.b.sidebar});case"nextCard":case"prevCard":case"transition":case"openSettings":case"openToneDetector":case"openFeedback":case"upgradeToPremium":case"transition":case"removeAlert":case"selectAlternative":return a;default:return Object(p.e)(n),a}}),e=>e.patch({alertSource:b.b.sidebar}))))),this.hovered=this.actionEvents.pipe(O.a.filter(C.b.isHoverAction),O.a.tap(()=>this._ops.flush()),O.a.scan((e,t)=>"hover"===t.kind?d.g.some(t.id):Object(o.pipe)(e,d.g.filter(e=>e!==t.id)),d.g.none),O.a.share()),this.flushTransitionTo=()=>this._flushCompleteTransition.next(),this.flushPositionAnimation=()=>this._flushPositionAnimation.next(),this._subs.push(this._handleAlertFeedbacks(),this._applyTakeawayFeedbacks(),this._sendTakeawayFeedbacks(),this._handleIgnoreFormSubmit(),this._handleApplyFormSubmit(),this._handleGbPromptDismiss(),this._handleGbPromptApply(),this._handleAlertIgnore(E),this._handleAlertResolve(),this._handleApplyAlerts(E),this._dismissAlertsBatch(),this._newFeatureSeen(),this._handleSentenceLevelBrandTonesFeedback(),this._handleDrilldown(),this._handleSnippetsOpenExternalLink()),Object(o.pipe)(v,d.g.tap(({model:e,openSuggestionsManagement:t})=>this._subs.push(this._handleCommitMuteCategories(e),this._handleSuggestionsManagementClick(t))))}_applyStartVSChange(e,t){return t.reduce((e,[t,a])=>Object(o.pipe)(A.a.update(e,t,e=>this._checksFeedCapabilities.transitionTo(a)(e)),d.b.fold(()=>e,i.identity)),e)}_applyCompleteVSChange(e,t){return t.reduce((e,[t,a])=>Object(o.pipe)(e.items.get(t),d.g.map(({value:e})=>e),d.g.fold(()=>e,n=>q.a.isAnimatable(n)&&"removed"===n.visualState.transition.type?this._checksFeedCapabilities.removeItemById(t)(e):Object(o.pipe)(A.a.update(e.items,t,e=>q.a.isAnimatable(e)&&e.visualState.transitionId===a?this._checksFeedCapabilities.completeTransition(a)(e):e),d.b.fold(()=>e,t=>z.a.Prism.items.set(t,e))))),e)}_handleSentenceLevelBrandTonesFeedback(){return this.actionEvents.pipe(O.a.filter(C.b.isSentenceLevelBrandTonesFeedbackAction)).subscribe(({alertId:e,feedbackType:t})=>(this._alertsService.changeSentenceLevelBrandTonesFeedback(e,t),this._sendFeedback(e,{kind:t===b.l.accurate?l.a.EmotionSentenceFeedbackType.EMOTION_SENTENCE_LIKE:l.a.EmotionSentenceFeedbackType.EMOTION_SENTENCE_DISLIKE})))}_handleSnippetsOpenExternalLink(){return this.actionEvents.pipe(O.a.filter(C.b.isSnippetsOpenExternalLink)).subscribe(({externalLink:e})=>this._platformEnvironment.actions.openPopup(new S.a(e)))}_updateToneAICard(e){return t=>Object(o.pipe)(e,d.b.chainW(({newAlert:e,itemId:a})=>A.a.update(t.currentLens.items,a,this._checksFeedCapabilities.updateWithAlerts([e]))),d.b.fold(e=>(this._log.error("Error updating card with ToneAI alert.",e),t),e=>V.e.Prism.getLens().compose(z.a.Prism.items).set(e,t)))}_handleAlertFeedbacks(){return this.actionEvents.pipe(O.a.filter(C.b.isAlertFeedbackAction)).subscribe(({alertId:e,feedbackType:t})=>this._sendFeedback(e,{kind:t}))}_applyTakeawayFeedbacks(){return this.actionEvents.pipe(O.a.filter(C.b.isTakeawayDetectionFeedbackAction)).subscribe(({alertId:e,type:t})=>this._alertsService.changeTakeawayFeedback(e,t===C.b.Type.takeawayCorrectlyDetected?b.q.correctlyDetected:t===C.b.Type.takeawayIncorrectlyDetected?b.q.incorrectlyDetected:Object(p.d)(t)))}_sendTakeawayFeedbacks(){return this.actionEvents.pipe(O.a.filter(C.b.isTakeawayAction)).subscribe(e=>{switch(e.type){case C.b.Type.takeawayCorrectlyDetected:return e.isLikelyToBeRead?this._sendFeedback(e.alertId,{kind:l.a.AlertFeedbackType.ACKNOWLEDGED,text:e.takeawayText}):this._sendFeedback(e.alertId,{kind:l.a.AlertFeedbackType.ACCEPTED,replacementText:e.takeawayText});case C.b.Type.takeawayIncorrectlyDetected:return this._sendFeedback(e.alertId,{kind:l.a.AlertFeedbackType.IGNORE});case C.b.Type.takeawayDismiss:return this._sendFeedback(e.alertId,{kind:l.a.AlertFeedbackType.IGNORE,pnameQualifier:e.isLikelyToBeRead?l.a.PNameQualifier.likelyToBeReadTakeaway:l.a.PNameQualifier.unlikelyToBeReadTakeaway});case C.b.Type.takeawayResolve:return this._sendFeedback(e.alertId,{kind:l.a.AlertFeedbackType.ACKNOWLEDGED,pnameQualifier:e.isLikelyToBeRead?l.a.PNameQualifier.likelyToBeReadTakeaway:l.a.PNameQualifier.unlikelyToBeReadTakeaway});default:Object(p.d)(e)}})}_handleAlertResolve(){return this.actionEvents.pipe(O.a.filter(C.b.isAlertResolveAction)).subscribe(({alertId:e})=>this._sendFeedback(e,{kind:l.a.AlertFeedbackType.ACKNOWLEDGED}))}_handleIgnoreFormSubmit(){return this.actionEvents.pipe(O.a.filter(C.b.isAlertIgnoreFeedbackFormSubmit)).subscribe(({alertId:e,reason:t})=>{this._sendFeedback(e,{kind:l.a.AlertFeedbackType.IGNORE,reason:t})})}_handleApplyFormSubmit(){return this.actionEvents.pipe(O.a.filter(C.b.isAlertApplyFeedbackFormSubmit)).subscribe(e=>{this._applyAlert(Object.assign(Object.assign({},e.alertApplyActionProps),{reason:e.reason})),e.alertApplyActionProps.actionsToDispatchAfterSurvey&&e.alertApplyActionProps.actionsToDispatchAfterSurvey.forEach(e=>this.actionEvents.next(e))})}_handleGbPromptDismiss(){return this.actionEvents.pipe(O.a.filter(C.b.isGbPromptDismiss)).subscribe(e=>this._applyAlert(Object.assign(Object.assign({},e.alertApplyActionProps),{gbPrompt:l.a.GbPromptFeedbackType.DISMISSED})))}_handleGbPromptApply(){return this.actionEvents.pipe(O.a.filter(C.b.isGbPromptApply)).subscribe(e=>this._applyAlert(Object.assign(Object.assign({},e.alertApplyActionProps),{gbPrompt:l.a.GbPromptFeedbackType.ACCEPTED})))}_handleCommitMuteCategories(e){return this.actionEvents.pipe(O.a.filter(C.b.isMutedAlertCardDismissedAction)).subscribe(t=>Object(o.pipe)(e.muteCategories([t.categoryId]),d.b.fold(this._log.handler("error calling categories model to commit muted category").error,u.e)))}_handleSuggestionsManagementClick(e){return this.actionEvents.pipe(O.a.filter(C.b.isMutedAlertSuggestionsManagementClick)).subscribe(e)}_applyAlert(e){return Object(o.pipe)(this._alertsService.apply(e.alertId,{alternativeIndex:e.alternativeIndex,source:b.b.sidebar,feedbackSubtype:y.b.getSubTypeFromLens(this._lensState.get().currentLens.id),drilldownSuggestionIds:e.drilldownSuggestionIds,reason:e.reason,gbPrompt:e.gbPrompt}),d.b.fold(this._log.handler("error calling alert service to apply an alert").error,u.e))}_handleDrilldown(){return this.actionEvents.pipe(O.a.filter(C.e.isDrilldown)).subscribe(e=>this._sendFeedback(e.alertId,{kind:l.a.DrilldownFeedbackType.DRILLDOWN,drilldownSuggestionIds:e.drilldownSuggestionIds,alternativeIndex:e.alternativeId}))}_dismissAlertsBatch(){return this.actionEvents.pipe(O.a.filter(C.c.isDismissAlertsBatchAction)).subscribe(e=>Object(o.pipe)(this._alertsService.dismissBatch(e.alerts,y.b.getSubTypeFromLens(this._lensState.get().currentLens.id)),d.b.fold(this._log.handler("error calling alert service to dismiss alerts batch").error,u.e)))}_newFeatureSeen(){return this.actionEvents.pipe(O.a.filter(C.b.isOnboardingClose)).subscribe(e=>Object(o.pipe)(this._markOnboardingAsSeen(e.value)))}getApplicatorEffects(){return Object(o.pipe)([[this._startTransitionStateChanges,"startTransitionStateChanges"],[this._completeTransitionStateChanges,"completeTransitionStateChanges"],[this._changePositionEffect,"changePositionEffect"],[this._transitionEndStateChanges,"transitionEndStateChanges"],[this._switchToNextChanges,"switchToNextChanges"],[this._dismissMuteQuotedAdvice,"dismissMuteQuotedAdvice"],[this._changeUserInput,"changeUserInput"],[this._toneAIChangeToneAlternative,"toneAIChangeToneAlternative"],[this._synfonyDrilldown,"synfonyDrilldown"],[this._synfonyBack,"synfonyBack"],[this._focusChecksFeedItem,"focusChecksFeedItem"],[this._collapseChecklistItem,"collapseChecklistItem"],[this._shortenItDismissEdit,"shortenItDismissEdit"],[this.actionEvents.pipe(O.a.filter(C.b.isNavigation),O.a.tap(this._navigationEvents),O.a.switchMapTo(O.a.EMPTY)),"navigationEvents"],...Object(o.pipe)(this._sendToUrl,d.g.getOrElse(Object(i.constant)([]))),[this._showSurveyFormEffect,"showIgnoreFormEffect"],[this._showMutedAlertSuccessEffect,"showMutedAlertSuccessEffect"],[this._undoMutedAlertEffect,"undoMutedAlertEffect"],[this._sduiActionsHandler,"sduiActions"]],d.a.map(([e,t])=>({id:`cardsViewModel.effects.${t}`,when:v.a.isWithAlertsId,what:V.e.Effect.Applicator.create(e)})))}dispose(){this._subs.dispose()}}!function(e){e.itemsLens=V.e.Prism.getLens().compose(z.a.Prism.items);e.Mock=class{constructor(){this.animate=c.a.create(!0),this.clockwise=c.a.create(!0),this.toggleAnimations=()=>this.animate.modify(e=>!e),this.completePositionAnimation=new O.a.Subject,this.actionEvents=new O.a.Subject,this.flushTransitionTo=u.e,this.sideEffect={id:"cardsViewModelMock",when:v.a.isWithAlertsId,what:V.e.Effect.Applicator.create(O.a.EMPTY)},this.changePosition=new O.a.Subject,this.dispose=u.e}},e.Experiments=n}(M||(M={}));const Y=(e,t,a)=>n=>i=>Object(o.pipe)(X(i,a),r.of,m.a.chain(e=>Object(o.pipe)(n,r.map(t=>t?d.g.none:d.g.some(e)))),m.a.fold(()=>e(i),e=>t(e))),X=(e,t)=>C.b.isAlertApplyAction(e)?K(e,t):Z(e),K=(e,t)=>Object(o.pipe)(e.eligibleForGbPrompt,d.g.filter(Object(i.constant)(t)),d.g.map(t=>({id:e.id,formType:"gbPrompt",alertApplyActionProps:e,gbPrompt:t})),d.g.orElse(Object(o.pipe)(e.eligibleForSurvey,d.g.map(t=>({id:e.id,formType:"survey",submitActionType:C.b.Type.alertApplyFormSubmit,alertApplyActionProps:e,survey:t}))))),Z=e=>Object(o.pipe)(e.eligibleForSurvey,d.g.map(t=>({id:e.id,formType:"survey",submitActionType:C.b.Type.alertIgnoreFormSubmit,survey:t})))},EjiM:function(e,t,a){"use strict";a.d(t,"d",(function(){return f})),a.d(t,"b",(function(){return y})),a.d(t,"a",(function(){return C})),a.d(t,"e",(function(){return O})),a.d(t,"g",(function(){return k})),a.d(t,"c",(function(){return w})),a.d(t,"f",(function(){return S}));var n=a("93Qa"),r=a("8Js9"),i=a("OA+g"),o=a("I7vG"),s=a("lrqh"),c=a("hoSD"),l=a("aIes"),d=a("zR/0"),p=a("gy42"),u=a("W39u"),m=a("BeBM"),g=a("bFfh"),h=a("NW9S");const f=e=>t=>t.isCardsHeightValid&&Object(o.pipe)(m.k.getActiveItem(t),s.g.forAll(t=>!e.isScheduledToDispose(t))),b=e=>t=>t.isCardsHeightValid&&Object(o.pipe)(m.k.getActiveItem(t),s.g.forAll(t=>!e.isScheduledToDispose(t)));function y({cardTop:e,cardHeight:t,viewportHeight:a,padding:n}){const r=h.a.FromViewportTop.ISO.unwrap(e),i=r+t;return t>a?r:r<0?t+n.before<a?r-n.before:r:i>a?t+n.after<a?i-a+n.after:i-a:r<n.before?t+n.after+n.before<a?r-n.before:t+n.after<a?r-n.after:n.before:a-i<n.after&&t+n.after<a?n.after-(a-i):0}const v=(e,t,a,n)=>({from:Math.max(0,l.a.Sorted.lowerBound(e,e=>e.positionState.absTop+e.positionState.height<a)-n),to:Math.min(e.size,l.a.Sorted.lowerBound(e,e=>e.positionState.absTop<a+t.height)+n)}),C=e=>t=>t.pipe(O(e),d.a.map(s.g.map(e=>e.currentLens)),d.a.pairwise(),d.a.filter(([e,t])=>Object(o.pipe)(Object(i.tuple)(e,t),Object(i.tupled)(s.g.map2((e,t)=>e.id===t.id&&Object(o.pipe)(Object(i.tuple)(m.k.getActiveItem(e),e.cardIndex,m.k.getActiveItem(t),t.cardIndex),Object(i.tupled)(n.sequenceT(s.g.option)),s.g.map(([e,t,a,n])=>e.id===a.id&&t!==n)))),s.g.getOrElse(()=>!1))),d.a.map(Object(i.flow)(r.a(s.g.chain(m.k.getActiveItem),s.g.chain(m.k.getActiveItem)),Object(i.tupled)(s.g.map2((e,t)=>t.positionState.absTop-e.positionState.absTop)),s.g.getOrElse(()=>0)))),O=e=>t=>t.pipe(d.a.map(s.g.filter(({currentLens:t})=>b(e)(t)))),k=e=>(t,a,n,r,i)=>{const l=(e=>s.g.getEq(s.c.fromEquals((t,a)=>{const n=m.k.getActiveItem(t),r=m.k.getActiveItem(a);return s.g.getEq(e.visualStateEq).equals(n,r)&&t.items.size===a.items.size&&c.a.compareInPairs(t.items.keys(),a.items.keys(),(e,t)=>e===t)})))(e);return t.pipe(d.a.map(s.g.map(e=>e.currentLens.id)),d.a.distinctUntilChanged(s.c.eqStrict.equals),d.a.map(s.g.isSome),d.a.switchMap(p.b.orEmpty(d.a.combineLatestStatic(a,n,r,O(e)(t).pipe(d.a.map(s.g.map(e=>e.currentLens)),d.a.distinctUntilChanged(l.equals),d.a.switchMap(i))))),d.a.filter(([t,a,n,r])=>Object(o.pipe)(r,s.g.exists(b(e)))),d.a.map(([e,t,a])=>({viewport:e,scrollTop:t,paddingTop:a})))},w=e=>({viewport:t,scrollTop:a,paddingTop:n})=>r=>{const i=r.currentLens,o=v(i.items,t,a-n,0);let s=!1;const c=i.items.map((t,a,n)=>{const r=((e,t)=>a=>a.positionState.inert!==t?e.changePosition(u.a.PositionState.changeInert(a.positionState,t))(a):a)(e,!(e=>o.from<=e)(n))(t);return r!==t?(s=!0,r):t});return s?m.e.Prism.getLens().compose(g.a.Prism.items).set(c,r):r},S=({cardsBeyondViewport:e,cardsAroundActive:t,changePosition:a})=>({viewport:n,scrollTop:r,paddingTop:c,completeTransition:l})=>d=>{const p=d.currentLens,h=((e,t,a,n)=>e.size<2||Math.floor(t.height/Math.min(s.g.unsafeGet(e.getAt(0)).positionState.height,s.g.unsafeGet(e.getAt(1)).positionState.height))>=e.size?{from:0,to:e.size}:v(e,t,a,n))(p.items,n,r-c,e);let f=!1;const b=p.items.map((e,n,r)=>{const c=Object(i.flow)(((e,t)=>a=>a.positionState.visible!==t?e.changePosition(u.a.PositionState.changeVisible(a.positionState,t))(a):a)(a,e.positionState.watched||(e=>h.from<=e&&h.to>e||Object(o.pipe)(p.cardIndex,s.g.exists(a=>e>=a-t&&e<=a+t)))(r)),(e=>t=>!t.positionState.visible&&t.positionState.animationInProgress?e.changePosition(u.a.PositionState.changeAnimationInProgress(t.positionState,!1))(t):t)(a),l)(e);return c!==e?(f=!0,c):e});return f?m.e.Prism.getLens().compose(g.a.Prism.items).set(b,d):d}},"F/DG":function(e,t,a){e.exports=a.p+"files/b788e8a0ec2b2ab3fe6f0d17e4508835/inter-bold.woff"},FieF:function(e,t,a){"use strict";a.d(t,"a",(function(){return h})),a.d(t,"d",(function(){return f})),a.d(t,"b",(function(){return y})),a.d(t,"c",(function(){return v}));var n=a("ERkP"),r=a("OA+g"),i=a("9NHN"),o=a("ax6a"),s=a("6gXa"),c=a("WIwS"),l=a("ps/9"),d=a("Urso"),p=a("BugA");function u(e){return Boolean(e)?t=>`${e}/${t}`:r.identity}function m(e){const{name:t}=n.useContext(d.a.Context);return void 0===e?e:"string"==typeof e?u(t)(e):e.view(u(t))}const g=e=>n.createElement(p.Typography,Object.assign({},O(e),Object(i.b)({value:e.value}))),h=e=>n.createElement(g,Object.assign({},e,{nodeType:"input"})),f=e=>n.createElement(g,Object.assign({},e,Object(i.c)(w.textArea,e.className),{nodeType:"textarea"})),b=e=>n.createElement(p.Typography,Object.assign({},O(e),{value:e.value,onChange:e.onChange})),y=e=>n.createElement(b,Object.assign({},e,{nodeType:"input"})),v=e=>n.createElement(b,Object.assign({},e,Object(i.c)(w.textArea,e.className),{nodeType:"textarea"})),C=e=>!0===e?e=>e&&requestAnimationFrame(()=>e.focus()):void 0,O=e=>Object.assign({"data-name":m(e.name),"data-block-extension":e.blockExtension,mount:C(e.autofocus),styleType:p.Typography.Type.P1,nodeType:e.nodeType,placeholder:e.placeholder,onFocus:e.onFocus,onBlur:e.onBlur,onKeyPress:e.onKeyPress},Object(i.c)(w.inputField,e.className)),k={width:s.a.percent(100),outline:"none",border:`1px solid ${c.j}`,borderRadius:s.a.rem(l.s),background:o.a.CoreNeutral0,$nest:{"&::placeholder":{color:c.k,opacity:1},"&:focus":{borderColor:o.a.CoreBlue50}}},w=s.a.stylesheet({inputField:[k],textArea:[{resize:"none"}]})},"H9T+":function(e,t,a){"use strict";a.d(t,"f",(function(){return te})),a.d(t,"l",(function(){return ae})),a.d(t,"g",(function(){return re})),a.d(t,"e",(function(){return ie})),a.d(t,"r",(function(){return pe})),a.d(t,"h",(function(){return ue})),a.d(t,"n",(function(){return me})),a.d(t,"m",(function(){return he})),a.d(t,"o",(function(){return fe})),a.d(t,"p",(function(){return be})),a.d(t,"q",(function(){return ye})),a.d(t,"j",(function(){return ve})),a.d(t,"i",(function(){return Ce})),a.d(t,"w",(function(){return Oe})),a.d(t,"c",(function(){return we})),a.d(t,"d",(function(){return Se})),a.d(t,"b",(function(){return Ae})),a.d(t,"a",(function(){return xe})),a.d(t,"k",(function(){return Ie})),a.d(t,"A",(function(){return $e})),a.d(t,"s",(function(){return Re})),a.d(t,"t",(function(){return Me})),a.d(t,"v",(function(){return _e})),a.d(t,"y",(function(){return We})),a.d(t,"z",(function(){return He})),a.d(t,"u",(function(){return yt})),a.d(t,"x",(function(){return vt}));var n=a("ERkP"),r=a("OA+g"),i=a("I7vG"),o=a("9NHN"),s=a("vOOZ"),c=a("LNSM"),l=a("94k3"),d=a("D9EC"),p=a("lrqh"),u=a("hoSD"),m=a("ax6a"),g=a("PrA7"),h=a("6gXa"),f=a("WIwS"),b=a("ps/9"),y=a("eTAx"),v=a("rk+4"),C=a("dE97"),O=a("UEGg"),k=a("uqkn"),w=a("IVzZ"),S=a("+w1e"),A=a("E0zP"),E=a("XxrX"),x=a("lRnN"),I=a("9/oM"),j=a("kED/"),T=a("nnns"),N=a("vtAC"),L=a("dgw0"),B=a("tZ26"),P=a("Z5Rd"),F=a("/i6n"),D=a("mvgk"),$=a("SN1b"),R=a("Xi00"),M=a("BugA"),_=a("1gzW"),W=a("zR/0"),H=a("Z0Em"),G=a("aIes"),q=a("3bJT"),V=a("5z3N"),z=a("0mPX"),U=a("IdhR"),Y=a("yZqL"),X=a("eLeT"),K=a("HTie"),Z=a("cVtq"),Q=a("HUX/");const J=Object(d.l)(g.Monitoring.Logging.getLogger);var ee;!function(e){e.actionRegex=/^#([\w\d_-]+)$/,e.parse=t=>Object(i.pipe)(p.g.fromNullable(t.match(e.actionRegex)),p.g.chain(e=>{switch(e[1]){case"set-goals":return p.g.some(S.b.Type.openSetGoals);case"ideas-gallery":return p.g.some(S.b.Type.openIdeasGallery);default:return p.g.none}}))}(ee||(ee={}));const te=({description:e,actions:t,layoutDensity:a,className:r})=>{const s=n.useContext(v.a.Context),c=n.useContext(R.a.Context),{ref:l,onMount:d}=_.a.useElWatcher();_.a.useSubscriptionTo(l.pipe(W.b.compact,W.a.switchMap(e=>Array.from(e.getElementsByTagName("a")).reduce((e,a)=>{const n=W.a.fromEvent(a,"click").pipe(W.a.tap(e=>e.preventDefault()));return Object(i.pipe)(p.g.fromNullable(a.getAttribute("href")),p.g.chain(ee.parse),p.g.fold(()=>(J("Description").error("Invalid action",a),e.pipe(W.a.merge(n))),r=>W.a.mergeStatic(e,r in s.card.actionDescription&&r!==S.b.Type.openIdeasGallery?c.getTooltipObservable(a,s.card.actionDescription[r],"auto",p.g.none):W.a.EMPTY,n.pipe(W.a.mapTo({type:r}),W.a.tap(t)))))},W.a.EMPTY))));const u=Object(i.pipe)(a,E.a.Density.matchOrDefault(E.a.Density.minimal)(()=>Ot.minimalDescription,()=>Ot.description));return n.createElement(M.Base,Object.assign({mount:d},Object(o.c)(u,r),z.a.renderToHtml(e,ee.actionRegex)))},ae=({card:e,isChecking:t})=>C.a.isRated(e.activeAlert)?n.createElement(N.a,{value:k.a.isCardPresuccess(e.visualState)?H.a.MAX:e.meta.percentile,initValue:k.a.isCardPresuccess(e.visualState)?e.meta.percentile:H.a.MIN,isLoading:t}):null,ne=({card:e})=>{const t=Object(N.b)(k.a.isCardPresuccess(e.visualState)?H.a.MAX:e.meta.percentile,k.a.isCardPresuccess(e.visualState)?e.meta.percentile:H.a.MIN);return n.createElement(s.a.Fragment,null,t.pipe(W.a.map(H.a.prism.reverseGet),W.a.map(e=>n.createElement(F.a,{percentage:e,colorType:F.a.ColorType.neoBlue,iconSize:F.a.IconSize.extraSmall,theme:{radialProgressBar:Ot.circleProgress,radialProgressText:Ot.circleText}}))))},re=({card:e,feedbackActions:t,onClick:a,disabled:r})=>{const o=n.useContext(v.a.Context);return n.createElement(T.a.Ghost,{name:"ignore",title:o.dismiss,ariaLabel:o.dismiss,onClick:G.d.callOnce(()=>{t.next({type:S.b.Type.alertIgnore,alertId:e.activeAlert.id,id:e.id,eligibleForSurvey:k.a.isEligibleForDismissSurvey(e),drilldownSuggestionIds:A.a.isSynfonyItem(e)?Object(i.pipe)(e.synfonySelection,p.g.getOrElse(()=>[])):void 0}),a&&a()}),disabled:r},n.createElement(B.d.Ignore,null))},ie=({card:e,feedbackActions:t,disabled:a,onClickDismissButton:r,alwaysShowWrongAndOffensiveButtons:o})=>n.createElement(n.Fragment,null,n.createElement(re,{card:e,feedbackActions:t,onClick:r,disabled:a}),n.createElement(le,{activeAlert:e.activeAlert,onMute:Object(i.pipe)(e.muteCategory,p.g.map(a=>G.d.callOnce(()=>t.next({type:S.b.Type.muteAlertCategory,categoryId:a.id,id:e.id,viewType:e.activeAlert.type})))),onWrong:G.d.callOnce(G.d.callOnce(()=>t.next({type:S.b.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:l.a.AlertFeedbackType.WRONG_SUGGESTION}))),onOffensive:G.d.callOnce(G.d.callOnce(()=>t.next({type:S.b.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:l.a.AlertFeedbackType.OFFENSIVE_CONTENT}))),onVisibilityChange:e=>t.next({type:S.b.Type.moreActionsButtonToggle,mode:e?"open":"closed"}),disabled:a,alwaysShowWrongAndOffensiveButtons:o})),oe=({onClick:e})=>{const t=n.useContext(v.a.Context);return n.createElement(T.a.Flat,{name:"mute",onClick:e},n.createElement(B.d.Mute,null),t.card.mute)},se=({onClick:e})=>{const t=n.useContext(v.a.Context);return n.createElement(T.a.Flat,{name:"incorrect",onClick:e},n.createElement(B.d.Report,null),t.card.wrong)},ce=({activeAlert:e,onClick:t})=>{const a=n.useContext(v.a.Context);return Object(i.pipe)(e.extraProperties.vox,p.g.mapOrDefault(()=>null,n.createElement(T.a.Flat,{name:"offensive",onClick:t},n.createElement(B.d.Report,null),a.card.offensive)))},le=({activeAlert:e,onMute:t,onWrong:a,onOffensive:o,onVisibilityChange:s,disabled:c,alwaysShowWrongAndOffensiveButtons:l=!1})=>{const d=p.g.isSome(e.getTransform()),u=p.g.isSome(t),m=n.createElement(n.Fragment,null,u&&n.createElement(L.a.Delimiter,null),n.createElement(se,{onClick:a}),n.createElement(ce,{activeAlert:e,onClick:o}));return u||d||l?n.createElement(L.a,{label:n.createElement(T.a.Ghost,{name:"moreActions",disabled:c},n.createElement(B.f.MoreVertical,null)),align:"right",theme:{dropdownContainer:Ot.dropdownContainer},name:"moreActions",onVisibilityChange:s},Object(i.pipe)(t,p.g.map(e=>n.createElement(oe,{onClick:e})),p.g.orNull),Object(i.pipe)(d,p.g.fromPredicate(r.identity),p.g.map(()=>m),p.g.orElse(Object(i.pipe)(l,p.g.fromPredicate(r.identity),p.g.map(()=>m))),p.g.orNull)):null},de=({card:e,onClick:t,mode:a="default"})=>{const r=n.useContext(v.a.Context),i=n.useContext(y.a.Context),o=n.useCallback(e=>{i.has(y.a.Flag.onlyTrustedEvents)&&!e.isTrusted||t()},[]),s=e.renderOptions.features.has(E.a.Features.showAnonymousUserFooters)?{disabled:!0,title:r.card.disabledForAnonymous}:{title:"mini"===a?r.card.addToDict:""};return e.activeAlert.extraProperties.hasAddToDictionary?n.createElement(T.a.Tertiary,Object.assign({},s,{name:"add-to-dict",onClick:o}),n.createElement(B.d.Dict,null),r.card.addToDict):null},pe=({title:e,checkingInProgress:t,checkingMessage:a,applyMessage:r,onClick:i,disabled:s,className:c,spinnerClassName:l,messageClassName:p})=>n.createElement(T.a.Primary,Object.assign({key:"update-all",name:"update-all",title:e},Object(o.c)(t.pipe(W.a.map(Object(d.c)(X.a.updateAllBtnLoading,X.a.updateAllBtn))),c),{disabled:t.view(e=>e||!0===s),children:t.pipe(W.a.map(Object(d.c)(n.createElement(n.Fragment,{key:"update-all-checking"},n.createElement("span",{className:p},u.f.capitalize(a)),n.createElement(D.a,{size:18,strokeWidth:2,wrapperClassName:Object(o.c)(X.a.updateBtnSpinner,l).className,variation:"white"})),n.createElement(n.Fragment,{key:"update-all-checked"},u.f.capitalize(r))))),onClick:G.d.callOnce(i)})),ue=({card:e})=>Object(i.pipe)(ke(e.activeAlert,e.renderOptions.layoutDensity),p.g.map(t=>n.createElement(U.b,{key:"card-actions-details",visualState:e.visualState,className:Ot.more},t)),p.g.toNullable),me=({card:e,actions:t})=>Oe(e.activeAlert,e.renderOptions.layoutDensity)?n.createElement(U.a,{key:"card-actions-button",mode:"default",actions:t,card:e}):A.a.isDefaultItem(e)?n.createElement(de,{key:"card-actions-button",card:e,mode:"default",onClick:G.d.callOnce(()=>t.next({type:S.b.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:l.a.AlertFeedbackType.ADD_TO_DICTIONARY}))}):null,ge=e=>n.createElement(I.b,{alignment:"bottom",eventType:"onclick",stepId:x.a.StepId.Step4,title:"Accept a correction",message:"Click on a suggestion to apply it to your text.",dotPosition:{kind:"findFirstButton",position:I.a.rightTop},themes:{containerWrapperClassName:Ot.onboardingNotification}},e.children),he=({onClick:e,rl:t,layoutDensity:a,a11yContrast:r})=>n.createElement(ge,null,n.createElement(Z.f,{replacementsLabels:t,onClick:e,layoutDensity:a,a11yContrast:r})),fe=({text:e})=>n.createElement(M.P1,Object.assign({className:Ot.title},z.a.renderToHtml(e))),be=({text:e})=>n.createElement(M.P1,Object.assign({className:Ot.titleMinimal},z.a.renderToHtml(e))),ye=({alert:e})=>n.createElement(M.H4,Object.assign({className:Ot.title},z.a.renderToHtml(e.title))),ve=({alert:e,options:t,children:a,className:r,badge:i})=>{const c=n.useContext(v.a.Context);return n.createElement(s.a.Fragment,null,t.cardVisualMode.pipe(W.a.map(s=>n.createElement(V.a,Object.assign({activeAlert:e,cardVisualMode:s,showCardLabel:t.features.has(E.a.Features.showLabel),premiumAlertLabelHighlight:t.features.has(E.a.Features.showNewPremiumCardLabels)?V.b.new:t.features.has(E.a.Features.showPersistentPremiumCardLabels)?V.b.persistent:V.b.none,layoutDensity:t.layoutDensity},Object(o.c)(Ot.label,r),{badge:e.extraProperties.isBeta?n.createElement(j.a.Regular,{a11yContrast:t.features.has(E.a.Features.a11yContrast)},c.beta):i}),a))))},Ce=({text:e,layoutDensity:t})=>n.createElement("div",{className:Ot.highlightedTextBox},n.createElement(M.Base,{className:Object(i.pipe)(t,E.a.Density.matchOrDefault(E.a.Density.minimal)(()=>Ot.minimalHighlightedTextInnerBox,()=>Ot.highlightedTextInnerBox))},e));function Oe(e,t){return!e.extraProperties.hasAddToDictionary&&(!O.a.isSentenceLevelBrandTones(e)&&(!(!p.g.isSome(e.examples)&&!p.g.isSome(e.details))||!(t!==E.a.Density.minimal||!p.g.isSome(e.getTransform())||void 0===e.explanation||null===e.explanation||""===e.explanation)))}const ke=(e,t)=>{if(!Oe(e,t))return p.g.empty();const a=Object(i.pipe)(t,E.a.Density.matchOrDefault(E.a.Density.minimal)(()=>Ot.minimalDescription,()=>Ot.description));return p.g.some(n.createElement(n.Fragment,null,Object(i.pipe)(t,E.a.Density.matchOrDefault(E.a.Density.minimal)(()=>p.g.isNone(e.details)?n.createElement(M.Base,Object.assign({className:a},z.a.renderToHtml(e.explanation,ee.actionRegex))):null,()=>null)),Object(i.pipe)(e.details,p.g.map(e=>n.createElement(M.Base,Object.assign({className:a},z.a.renderToHtml(e)))),p.g.toNullable),Object(i.pipe)(e.examples,p.g.map(e=>n.createElement(K.a,{layoutDensity:t,examples:e})),p.g.toNullable)))},we=({isChecking:e})=>n.createElement(s.a.Fragment,null,e.pipe(W.a.map(e=>n.createElement(D.a,{className:e?Ot.spinner:Ot.spinnerInvisible,variation:"blue",isIdle:!e,size:32,strokeWidth:2})))),Se=e=>{const[t,a]=n.useState(!0);return t?n.createElement(je,{type:e.type,actions:e.actions,onClose:()=>a(!1)}):null},Ae=({card:e,actions:t})=>{if(A.a.isSentenceLevelBrandTonesItem(e)||A.a.isEthicalAIItem(e)||A.a.isSuggestedSnippetItem(e))return null;if(Object(i.pipe)(e.activeAlert.extraProperties.freePremium,p.g.contains("unlocked")))return n.createElement(Be,null);if(!O.a.isFree(e.activeAlert)&&e.renderOptions.features.has(E.a.Features.showPremiumOnboarding))return n.createElement(Pe,null);if(!O.a.isFree(e.activeAlert)&&e.renderOptions.features.has(E.a.Features.showPremiumTrialFooters))return n.createElement(Le,{actions:t});if(e.renderOptions.features.has(E.a.Features.showAnonymousUserFooters))return n.createElement(Ne,{actions:t,card:e});const a=e.renderOptions.isPremiumOnboarding||c.a.create(!1);return n.createElement(s.a.Fragment,null,a.view(a=>!O.a.isFree(e.activeAlert)&&Boolean(a)?n.createElement(Pe,null):Object(i.pipe)(e.renderOptions.layoutDensity,E.a.Density.matchOrDefault(E.a.Density.cozy)(()=>n.createElement(Te,{card:e,actions:t}),()=>Object(i.pipe)(e.activeAlert.extraProperties.fluencyMessage,p.g.fold(()=>n.createElement(Te,{card:e,actions:t}),e=>n.createElement(Fe,{fluencyLabel:e})))))))};function Ee(e,t,a){a.next({type:S.b.Type.cardMatchesNavigationButtonClick,transitionTo:{kind:"anotherAlert",card:t},direction:e})}const xe=({card:e,actions:t})=>{const a=n.useContext(v.a.Context).card.matchesNavigation;return(n.createElement(s.a.Fragment,null,Object(i.pipe)(e,W.a.map(e=>n.createElement("div",{key:e.activeAlert.id,className:Ot.bundleNavWrapper},n.createElement(M.Base,{className:Ot.bundleTitle},w.a.bundleTitle(e)),n.createElement("div",{className:Ot.bundleNavMatchesRow},n.createElement(T.a.Ghost,{title:0!==e.activeAlertIndex?"Previous suggestion":void 0,className:Ot.bundleNavButtonGhost,disabled:0===e.activeAlertIndex,name:"left",onClick:()=>Ee("left",e,t)},n.createElement(B.d.Arrow,{className:Ot.bundleNavLeftButtonIcon})),n.createElement(M.Lawyer,{className:Ot.bundleNavCount},a.currentMatchPosition(e.activeAlertIndex+1,e.alerts.length)),n.createElement(T.a.Ghost,{title:e.activeAlertIndex!==e.alerts.length-1?"Next suggestion":void 0,className:Ot.bundleNavButtonGhost,disabled:e.activeAlertIndex===e.alerts.length-1,name:"right",onClick:()=>Ee("right",e,t)},n.createElement(B.d.Arrow,{className:Ot.bundleNavRightButtonIcon}))))))))},Ie=({card:e,actions:t,isChecking:a})=>n.createElement(n.Fragment,null,Object(i.pipe)(e.renderOptions.layoutDensity,E.a.Density.matchOrDefault(E.a.Density.minimal)(()=>C.a.isRated(e.activeAlert)?n.createElement(n.Fragment,null,n.createElement(ne,{card:e}),n.createElement(be,{text:e.activeAlert.miniCardTitle})):n.createElement(ve,{alert:e.activeAlert,options:e.renderOptions},n.createElement(be,{text:e.activeAlert.miniCardTitle})),()=>n.createElement(n.Fragment,null,n.createElement(ve,{alert:e.activeAlert,options:e.renderOptions}),n.createElement(fe,{text:e.activeAlert.title}),n.createElement(ae,{card:e,isChecking:a})))),n.createElement(te,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})),je=e=>{const t=n.useContext(v.a.Context),{title:a,content:r}=t.card.onboarding[e.type];return n.useLayoutEffect(()=>()=>e.actions.next({type:S.b.Type.onboardingClose,value:e.type})),n.createElement(P.b.AdHoc,{key:"new-notification",title:n.createElement(n.Fragment,null,a,n.createElement(j.a.Regular,{className:Ot.newLabel},t.new)),className:Ot.newCheckNotification,onClose:e.onClose},r)},Te=({actions:e,card:t})=>{const a=n.useContext(v.a.Context);return _.a.useEffectOnDidMount(()=>{t.meta.showMuteQuotedAdvice&&e.next({type:S.b.Type.muteQuotedAdviceShow})}),t.meta.showMuteQuotedAdvice?n.createElement(De.Base,{className:tt},n.createElement("span",null,a.card.muteCitedText(n.createElement("button",{"data-name":"open-preferences-link",onClick:()=>e.next({type:S.b.Type.openPreferences})},a.documentSettings.editorSettings))),n.createElement(T.a,{name:"dismiss-mute-quoted-advice",onClick:()=>e.next({type:S.b.Type.dismissMuteQuotedAdvice})},n.createElement(B.d.Close,null))):null},Ne=({actions:e,card:t})=>{const a=n.useContext(v.a.Context),r=t.activeAlert.extraProperties.hasAddToDictionary?a.anonymousUserAddToDictionarySignInPrompt:a.anonymousUserGenericSignInPrompt;return n.createElement(De.Base,{className:Ot.anonymousUserNotice},r(()=>{e.next({type:S.b.Type.toSignIn})}))},Le=({actions:e})=>n.createElement(De.Small,{className:at},n.createElement(B.d.PaidLink,{className:Ot.iconWrapper,width:12}),n.useContext(v.a.Context).premiumFreeTrial(()=>{e.next({type:S.b.Type.premiumTrialFooterCtaClick})})),Be=()=>{const{beforeIcon:e,afterIcon:t}=n.useContext(v.a.Context).freePremiumAlertFooter;return n.createElement(De.Small,{className:rt},e,n.createElement(B.d.PaidLink,{width:12}),t)},Pe=()=>{const{premiumOnboardingFooter:e}=n.useContext(v.a.Context);return n.createElement(De.Small,{className:nt},n.createElement(B.d.PaidLink,{width:12}),e)},Fe=({fluencyLabel:e})=>{const t=n.useContext(v.a.Context).card.fluency;return n.createElement(M.Small,{className:Ot.fluencyNotice},e,n.createElement($.a,{title:t.tooltip},n.createElement(B.d.Info,{width:10,className:Ot.fluencyInfo})))};var De;!function(e){function t(e){return({children:t,className:a})=>n.createElement(e,Object.assign({},Object(o.c)(Ot.cardFooter,a)),t)}e.Small=t(M.Small),e.Base=t(M.Base)}(De||(De={}));function $e(e){const{transformHidden:t,isMouseInside:a,transformHiddenObservable:n}=_.a.useMemoOnDidMount(()=>{const t=c.a.create(!1),a=new W.a.Subject,n=W.a.mergeStatic(W.a.combineLatestStatic([a,e]).pipe(W.a.map(([e,t])=>e&&t),W.a.filter(e=>!0===e),W.a.tap(()=>t.set(!0))),e.pipe(W.a.skip(1),W.a.filter(e=>!e),W.a.tap(()=>t.set(!1))));return{transformHidden:t,isMouseInside:a,transformHiddenObservable:n}});return _.a.useSubscriptionTo(n),{transformHidden:t,isMouseInside:a}}const Re=({card:e,actions:t,isChecking:a,isCheckingGlobal:r,cardTheme:i,cardBody:o,cardFooter:s,mainActions:c,subActions:l,cardExtra:p})=>{const{transformHidden:u,isMouseInside:m}=$e(a);return n.createElement(Y.a,{visualState:e.visualState,onFocus:()=>t.next({type:S.b.Type.alertCardShow,cardType:S.b.getCardType(e),alertId:e.activeAlert.id}),onMouseOver:()=>{t.next({type:S.b.Type.hover,kind:"hover",id:e.id}),m.next(!0)},onMouseOut:()=>{t.next({type:S.b.Type.hover,kind:"unhover",id:e.id}),m.next(!1)},theme:Object.assign(Object.assign({content:r.pipe(W.a.map(Object(d.c)(Ot.loadingWrapperInvisible,Ot.loadingWrapper)))},Object(Q.b)(e.renderOptions)),i),extra:n.createElement(n.Fragment,null,n.createElement(we,{isChecking:r}),null==p?void 0:p()),body:o(u),mainActions:null==c?void 0:c(),footer:null==s?void 0:s(u),subActions:null==l?void 0:l()})},Me=({card:e,actions:t,isChecking:a,body:r,footer:i,alwaysShowWrongAndOffensiveButtons:o})=>n.createElement(Y.a,{visualState:e.visualState,onFocus:()=>t.next({type:S.b.Type.alertCardShow,cardType:S.b.getCardType(e),alertId:e.activeAlert.id}),theme:Object(Q.b)(e.renderOptions),body:null!=r?r:n.createElement(Ie,{card:e,actions:t,isChecking:a}),mainActions:n.createElement(ie,{card:e,feedbackActions:t,alwaysShowWrongAndOffensiveButtons:o}),footer:null!=i?i:n.createElement(ue,{card:e}),subActions:n.createElement(me,{card:e,actions:t}),extra:n.createElement(Ae,{card:e,actions:t})}),_e={wordWrap:"break-word",overflowWrap:"break-word",$nest:{"& a":{borderBottom:"1px solid",textDecoration:"none",$nest:{"&:link, &:visited":{color:m.a.CoreBlue50}}},"& b":{fontStyle:"italic",fontFeatureSettings:`${b.e}, ${b.f}`},"& ul":{margin:`${h.a.rem(.75)} 0 0`,padding:0,listStyle:"none"},"& li":{position:"relative",paddingLeft:h.a.rem(1.5),$nest:{"&:before":{position:"absolute",left:0,content:"'\\2022'"}}},"& li + li":{marginTop:h.a.rem(.5)}}},We={lineHeight:h.a.rem(1.3125),$nest:{"& a":{display:"initial"}}},He={$nest:{"& i":{color:m.a.CoreNeutral50},"& > * + *":{marginTop:h.a.rem(.75)}}},Ge={fontWeight:"bold",textTransform:"none",$nest:{"&:first-letter":{textTransform:"uppercase"},"& i":{color:f.e}}},qe={marginTop:h.a.important(0),lineHeight:h.a.rem(1.125)},Ve={fontSize:h.a.rem(m.h.SubheadingSize),lineHeight:h.a.rem(m.h.SubheadingLineHeight)},ze={width:h.a.rem(2),height:h.a.rem(2)},Ue={position:"absolute",top:`calc(50% - ${h.a.rem(1)})`,left:`calc(50% - ${h.a.rem(1)})`,width:h.a.rem(2),height:h.a.rem(2),transition:"opacity .2s"},Ye={marginLeft:h.a.rem(.5),backgroundColor:m.a.CoreGreen50,color:m.a.CoreNeutral0,fontWeight:600},Xe={position:"absolute",marginTop:h.a.rem(-8.5),marginLeft:h.a.rem(-2),$nest:{"&:after":{position:"absolute",bottom:h.a.rem(-.525),left:h.a.rem(.7),borderTop:`${h.a.rem(.625)} solid ${m.a.BackgroundNotification}`,borderRight:`${h.a.rem(.5)} solid transparent`,borderLeft:`${h.a.rem(.5)} solid transparent`,content:"' '"}}},Ke={background:"linear-gradient(269.88deg, rgba(228, 244, 247, .6) .02%, rgba(215, 248, 240, .6) 50.81%, rgba(202, 227, 250, .6) 99.98%)"},Ze={position:"absolute",top:h.a.rem(.75),left:h.a.rem(.4)},Qe={color:m.a.CoreNeutral90,$nest:{"& a":{fontWeight:800,color:m.a.CoreBlue50,$nest:{"&:link, &:visited":{color:m.a.CoreBlue50},"&:hover":{borderBottom:`1px solid ${m.a.CoreBlue40}`,color:m.a.CoreBlue40}}}}},Je={display:"flex",borderRadius:`${b.q} ${b.q} ${h.a.rem(b.r)} ${h.a.rem(b.r)}`,color:m.a.CoreNeutral50,padding:`${h.a.rem(.5)} ${h.a.rem(.75)} ${h.a.rem(.5)} ${h.a.rem(1)}`,fontSize:h.a.rem(.6875),lineHeight:h.a.rem(1.125)},et={padding:`0 ${h.a.rem(.6)}`,minWidth:h.a.rem(.625),minHeight:h.a.rem(.625)},tt=h.a.joinClasses(["muteQuotedAdvice",h.a.style({$nest:{"& button":{border:0,textDecoration:"underline",textUnderlineOffset:2,color:m.a.CoreBlue50,background:"none",padding:0,$nest:{"&:link, &:visited":{color:m.a.CoreBlue50},"&:hover":{color:m.a.CoreBlue40}}},"& i:hover":{strokeWidth:h.a.px(2)}}})]),at=h.a.joinClasses(["premiumFreeTrial",h.a.style({$nest:{"& svg":{fill:m.a.CoreYellow80},"& a":{fontWeight:800,color:m.a.CoreYellow70,$nest:{"&:link, &:visited":{color:m.a.CoreYellow80},"&:hover":{borderBottom:`1px solid ${m.a.CoreYellow60}`,color:m.a.CoreYellow60}}}}})]),nt=h.a.joinClasses(["premiumAlertFooter",h.a.style({justifyContent:"center"})]),rt=h.a.joinClasses(["premiumAlertFooter",h.a.style({justifyContent:"start",padding:h.a.important(`${h.a.rem(.5)} ${h.a.rem(1)}`)})]),it={display:"block",boxSizing:"border-box",padding:`${h.a.rem(1)} ${h.a.rem(1)} ${h.a.rem(1)} ${h.a.rem(1.5)}`,width:h.a.percent(100),borderRadius:`${b.q} ${b.q} ${h.a.rem(b.r)} ${h.a.rem(b.r)}`,$nest:{"& a":{cursor:"pointer",transition:"color .2s"},"&.muteQuotedAdvice":{display:"flex",padding:`${h.a.rem(1)} ${h.a.rem(1)} ${h.a.rem(1)} ${h.a.rem(2)}`,background:m.a.CoreNeutral10,color:m.a.CoreNeutral90,justifyContent:"space-between",alignItems:"center"},"&.premiumFreeTrial":{padding:`${h.a.rem(1)} ${h.a.rem(1)} ${h.a.rem(1)} ${h.a.rem(2)}`,position:"relative",background:m.a.CoreYellow20,color:m.a.CoreNeutral90},"&.premiumAlertFooter":{display:"flex",alignItems:"center",padding:h.a.rem(.5),background:m.a.CoreYellow20,color:m.a.CoreYellow80,$nest:{"& svg":{margin:`0 ${h.a.rem(.25)}`,fill:m.a.CoreYellow80}}}}},ot={position:"absolute",top:h.a.rem(.8),left:h.a.rem(.5),minWidth:h.a.rem(1),minHeight:h.a.rem(1)},st={fontWeight:"bold",fontSize:h.a.rem(.875),lineHeight:h.a.rem(1.125),flex:2},ct={padding:`${h.a.rem(.625)} 0 ${h.a.rem(.1875)} ${h.a.rem(.5)}`,marginBottom:h.a.rem(.25),display:"flex",justifyContent:"space-between",alignItems:"center"},lt={fontSize:h.a.rem(.75),lineHeight:h.a.rem(1.125),color:m.a.CoreNeutral90},dt={display:"flex",justifyContent:"flex-end",alignItems:"center",height:h.a.rem(1.5),$nest:{"& > * + *":{marginLeft:h.a.rem(.25)},"& > *":{borderRadius:h.a.rem(b.s)}}},pt={height:h.a.rem(2),minHeight:h.a.rem(2),width:h.a.rem(2),fill:m.a.CoreNeutral90,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{cursor:"pointer",fill:m.a.CoreBlue50},"&[data-disabled='true']":{fill:m.a.CoreNeutral30}}},ut={borderRadius:h.a.rem(.75),background:m.a.CoreNeutral20,margin:`${h.a.rem(-.25)} ${h.a.rem(-.25)}`,padding:`${h.a.rem(.25)} ${h.a.rem(.25)}`,$nest:{[`& .${q.b.cozyCardContainerSelector}`]:{margin:0,boxShadow:"none"},[`& .${q.b.fullCardSelector}`]:{padding:`${h.a.rem(.75)} ${h.a.rem(.5)} ${h.a.rem(.5)} ${h.a.rem(1)}`},"& [data-role=dropdown-list]":{transform:`translateY(${h.a.rem(-.5)})`}}},mt={paddingTop:h.a.rem(.25),paddingBottom:h.a.rem(.5),paddingLeft:h.a.rem(.5),paddingRight:h.a.rem(.5),fontWeight:"bold",fontSize:h.a.rem(.875),lineHeight:h.a.rem(1.125)};function gt(e,t){return{display:["block","-webkit-box"],maxHeight:h.a.rem(e*t),overflow:"hidden",overflowWrap:"anywhere",whiteSpace:"pre-wrap",textOverflow:"ellipsis","-webkit-line-clamp":t,WebkitBoxOrient:"vertical"}}const ht=Object.assign(Object.assign({},gt(1.5,3)),{lineHeight:h.a.rem(1.5)}),ft=Object.assign(Object.assign({},gt(1.3125,3)),{lineHeight:h.a.rem(1.3125)}),bt={padding:h.a.rem(.5),borderRadius:h.a.rem(b.s),background:m.a.CoreNeutral10,color:m.a.CoreNeutral90,fontWeight:400,fontStyle:"italic",fontFeatureSettings:`${b.e}, ${b.f}`},yt=.25,vt={opacity:0,pointerEvents:"none"},Ct={transition:`opacity ${h.a.seconds(yt)}`},Ot=h.a.stylesheet({loadingWrapper:[Ct],loadingWrapperInvisible:[Ct,vt],description:[_e],minimalDescription:[_e,We],more:[He],onboardingNotification:[{display:"block"}],title:[Ge],titleMinimal:[Ge,qe],label:[Ve],dropdownContainer:[ze],spinner:[Ue],spinnerInvisible:[Ue,{opacity:0,pointerEvents:"none"}],newLabel:[Ye],newCheckNotification:[Xe],baseNotice:[Ke],iconWrapper:[Ze],anonymousUserNotice:[Ke,Qe],fluencyNotice:[Ke,Je],fluencyInfo:[et],cardFooter:[it],circleProgress:[ot],circleText:[{display:"none"}],bundleTitle:[st],bundleNavWrapper:[ct],bundleNavCount:[lt],bundleNavMatchesRow:[dt],bundleNavButtonGhost:[{$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:"rgba(198, 203, 222, .5)"}}}],bundleNavButton:[pt],bundleNavLeftButtonIcon:[pt,{transform:"rotate(90deg)"}],bundleNavRightButtonIcon:[pt,{transform:"rotate(270deg)"}],cardWrapper:[ut],cardWrapperTitle:[mt],highlightedTextBox:[bt],highlightedTextInnerBox:[ht],minimalHighlightedTextInnerBox:[ft]})},HTie:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a("ERkP"),r=a("I7vG"),i=a("lrqh"),o=a("ax6a"),s=a("6gXa"),c=a("ps/9"),l=a("EOGW"),d=a("XxrX"),p=a("BugA"),u=a("aIes");const m=({examples:e,layoutDensity:t})=>n.createElement(p.Typography,{nodeType:"table",styleType:p.Typography.Type.Base,className:S.wrapper},e.map((e,a)=>n.createElement("tbody",{key:a,className:S.group},e.map(({text:e,title:a,color:o,hasItalic:s},c)=>n.createElement("tr",{key:c,className:Object(r.pipe)(t,d.a.Density.matchL(()=>S.item,()=>S.itemCompact,()=>S.itemMinimal))},Object(r.pipe)(a,i.g.map(e=>n.createElement("td",{className:l.a.colorMatch(o)(S)},(e=>e.split("/").reduce((e,t,a)=>(0!==a&&e.push(n.createElement("br",{key:a})),e.push(t),e),[]))(e))),i.g.toNullable),n.createElement("td",Object.assign({colSpan:i.g.isNone(a)?2:void 0,className:s?S.content:S.contentItalic},u.d.setInnerHTML(e)))))))),g={$nest:{"&:not(:last-child):after":{display:"block",height:s.a.rem(1.75),content:"''"}}},h={$nest:{"&:not(:last-child)":{borderBottom:`${s.a.rem(.5)} solid transparent`}}},f={display:"flex",flexDirection:"column",lineHeight:s.a.rem(1.3125)},b={padding:0,verticalAlign:"top",lineHeight:s.a.rem(1.25)},y={paddingRight:s.a.rem(2),verticalAlign:"top",whiteSpace:"nowrap"},v={color:o.a.CoreNeutral50,fontFeatureSettings:`${c.e}, ${c.f}`},C={color:o.a.CoreRed50},O={color:o.a.CoreGreen60},k={color:o.a.CoreNeutral90},w={color:o.a.CoreNeutral90},S=s.a.stylesheet({wrapper:[{borderCollapse:"collapse",userSelect:"initial"}],group:[g],item:[h],itemCompact:[h,{display:"flex",flexDirection:"column"}],itemMinimal:[h,f],baseBlock:[b],title:[b,y],content:[b,v],contentItalic:[b,v,{fontStyle:"italic"}],red:[b,y,C],green:[b,y,O],yellow:[b,y,k],fallback:[b,y,w]})},"HUX/":function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return p}));var n=a("I7vG"),r=a("ax6a"),i=a("6gXa"),o=a("ps/9"),s=a("XxrX"),c=a("3bJT"),l=a("qZUR");const d=e=>({container:Object(n.pipe)(e,s.a.Density.matchOrDefault(s.a.Density.cozy)(()=>f.cozyCardContainer,()=>f.compactCardContainer))}),p=e=>Object.assign(Object.assign({},e.hasOwnProperty("features")&&e.features.has(s.a.Features.a11yContrast)?(e=>({container:Object(n.pipe)(e,s.a.Density.matchOrDefault(s.a.Density.cozy)(()=>f.cozyCardContainerContrast,()=>f.compactCardContainer))}))(e.layoutDensity):d(e.layoutDensity)),{wrapper:Object(n.pipe)(e.layoutDensity,s.a.Density.matchOrDefault(s.a.Density.minimal)(()=>f.minimalCardWrapper,()=>void 0))}),u={padding:`${i.a.rem(.75)} ${i.a.rem(.5)} ${i.a.rem(.5)} ${i.a.rem(1)}`},m={margin:`${i.a.rem(1)} 0 ${i.a.rem(1.5)}`,borderRadius:i.a.rem(o.r),background:r.a.CoreNeutral0,boxShadow:`0 ${i.a.rem(.625)} ${i.a.rem(o.a)} 0 rgba(198, 203, 222, .45)`},g={margin:`${i.a.rem(1)} 0 ${i.a.rem(1.5)}`,borderRadius:i.a.rem(o.r),background:r.a.CoreNeutral0,boxShadow:l.a.z300},h={boxShadow:"0 1px 8px rgba(109, 117, 141, .18)",borderRadius:i.a.rem(o.r),background:r.a.CoreNeutral0},f=Object.assign(Object.assign({},i.a.stylesheet({minimalCardWrapper:[u],compactCardContainer:[h]})),{cozyCardContainer:i.a.joinClasses([c.b.cozyCardContainerSelector,i.a.style(m)]),cozyCardContainerContrast:i.a.joinClasses([c.b.cozyCardContainerSelector,i.a.style(g)])})},HqKA:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return y}));var n,r=a("a5W6"),i=a("rbBt"),o=a("LTbp"),s=a("GRZr"),c=a("U75S"),l=a("OA+g"),d=a("I7vG"),p=a("94k3"),u=a("WOlp"),m=a("lrqh"),g=a("tn8Q"),h=a("PrA7"),f=a("dE97"),b=a("GUi3");!function(e){e.getSubTypeFromLens=e=>b.a.isPriority(e)||b.a.isPriorityOutcomeId(e)?p.a.FeedbackSubtype.SidebarPriority:p.a.FeedbackSubtype.Sidebar}(n||(n={}));class y{constructor(e,t){this._alertsReader=e,this._ops=t,this._log=h.Monitoring.Logging.getLogger("AlertsServiceImpl"),this._findAlert=e=>Object(d.pipe)(e,this._alertsReader.getById,m.b.fromOption(()=>new Error(`alert ${e} not found in the repo`))),this.undoBulk=Object(l.flow)(c.P(Object(l.flow)(this._alertsReader.getById,m.g.filter(f.a.isBulkApplied))),e=>this._ops.undoApplied(e,f.a.State.Applied.Method.Bulk)(),m.b.getOrElse(e=>{throw this._log.error("Could not undo bulk-applied alerts",e),e})),this.getHighlightRanges=Object(l.flow)(this._findAlert,m.b.map(e=>e.getHighlightRanges())),this.hasNewRangesForUpdate=Object(l.flow)(this._findAlert,m.b.map(e=>e.hasNewRangesForUpdate)),this.applyPendingRangesUpdate=Object(l.flow)(this._findAlert,m.b.map(e=>e.applyPendingRangesUpdate())),this.getAppliedRanges=Object(l.flow)(this._alertsReader.getById,m.b.fromOption(()=>new Error("alert not found in the repo")),m.b.filterOrElse(f.a.isApplicableAlert,e=>new Error(`alert is not applicable: ${e.alertType}`)),m.b.map(e=>e.getAppliedRanges()))}apply(e,t){const{alternativeIndex:a,source:n}=t;return this._log.trace("apply",e),Object(d.pipe)(this._findAlert(e),m.b.chain(m.b.fromPredicate(f.a.isApplicableAlert,()=>new Error("cannot apply not applicable alert"))),m.b.chain(e=>Object(d.pipe)(m.b.tryCatchError(()=>e.apply(t)),m.b.mapLeft(t=>(this._log.error("apply single alert error",{error:t,alert:e.toLiteAlert(),alternativeIndex:a,source:n}),t)))))}applyBulk(e,t){this._log.trace("applyBulk",e),this.sendBatchFeedback(e,p.a.AlertsBatchFeedbackType.BULK_ACCEPTED,t);const a=Object(d.pipe)(e,g.a.fromArray(e=>Object(d.pipe)(this._findAlert(e),m.b.mapLeft(t=>Object(l.tuple)(t,{id:e})),m.b.chain(m.b.fromPredicate(f.a.isRegisteredApplicableAlert,e=>Object(l.tuple)(new Error("cannot apply not applicable or non-registered alert"),e.toLiteAlert()))),m.b.chain(m.b.fromPredicate(e=>u.y.withTransformJson(e._raw),e=>Object(l.tuple)(new Error("Only alerts with transformJSON can be bulk applied"),e.toLiteAlert()))),m.b.mapLeft(([e,t])=>(this._log.error(e.message,t),e)))));return Object(d.pipe)(a,g.a.flatMap(r.getMonoid(),e=>Object(d.pipe)(this._ops._applyTransformJson({alerts:e.map(e=>({alert:e,alternative:f.a.getApplicableAlternative(e,0)})),source:f.b.api,method:f.a.State.Applied.Method.Bulk,feedbackSubtype:t}),o.f(t=>()=>(this._log.error("applyBulk error",t),g.a.of([],e.map(e=>e.id))),()=>()=>g.a.of(e.map(e=>e.id))))()))}confirmApplied(e){return this._log.trace("commitApplied",e),Object(d.pipe)(e,g.a.fromArray(Object(l.flow)(this._findAlert,m.b.map(f.e.castApplied))),m.b.mapLeft(e=>new Error(`Error on trying to confirm applied alerts: ${e.rejected.join(",")}`)),m.b.chain(e=>this._ops._confirmApplied(e)()))}dismissBatch(e,t){return this._log.trace("dismissBatch",e),Object(d.pipe)(e.map(Object(l.flow)(this._findAlert,m.b.map(e=>[e]))),Object(s.fold)(C),m.b.chain(e=>this._ops._dismissBatch(e,t)()))}applyFeedback(e,t,a){return this._log.trace("sendFeedback",{alertId:e,type:t.kind}),Object(d.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._alertFeedback(e,t,a)()))}sendBatchFeedback(e,t,a){return this._log.trace("sendBatchFeedback",{alertIds:e,type:t}),Object(d.pipe)(e,g.a.fromArray(this._findAlert),g.a.tapFailure(e=>this._log.error("Cannot send batch feedback for alerts",e.rejected)),g.a.foldSuccess(e=>m.b.right(this._ops._alertBatchFeedback(e,t,a)())))}takeReference(e,t){return this._log.trace("takeReference",{alertId:e.id,from:t}),Object(d.pipe)(this._findAlert(e.id),m.b.chain(e=>e.takeReference(t)))}changeMuteState(e,t){return this._log.trace("changeMuteState",e),Object(d.pipe)(e,g.a.fromArray(e=>this._findAlert(e.id)),g.a.flatMap(r.getMonoid(),e=>Object(d.pipe)(this._ops._changeMuteState(e,t)(),m.b.mapLeft(e=>(this._log.error("Can not change mute state",e),e)),m.b.unsafeGet)))}changeGapValue(e,t){return Object(d.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._changeGapValue(e,t)()))}changeTakeawayFeedback(e,t){return Object(d.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._changeTakeawayFeedback(e,t)()))}changeSentenceLevelBrandTonesFeedback(e,t){return Object(d.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._changeSentenceLevelBrandTonesFeedback(e,t)()))}shortenItSummaryNotFound(e){return Object(d.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._shortenItSummaryNotFound(e)()))}sendShortenItSummaryRequest(e){return Object(d.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._commitShortenItSummaryRequest(e)()))}dismissShortenItTransformGroup(e,t){return Object(d.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._dismissShortenItTransformGroup(e,t)()))}changeToneAIToneAlternative(e,t){return Object(d.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._changeToneAIToneAlternative(e,t)()))}}const v=r.getMonoid(),C=Object(i.getApplyMonoid)(v)},IVzZ:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("OA+g"),i=a("I7vG"),o=a("lrqh"),s=a("6fbX"),c=a("dE97"),l=a("UEGg"),d=a("uqkn"),p=a("O6HF"),u=a("YJiV"),m=a("E0zP"),g=a("TC4P");!function(e){let t;e.Kind="AlertsBundle",e.getId=function(e){return e.id},e.bundleTitle=function(e){return e.bundleInfo.title},e.ord=Object(i.pipe)(o.h.ordNumber,o.h.contramap(Object(r.flow)(e=>e.activeAlert.bundleInfo,o.g.fold(()=>Number.MAX_SAFE_INTEGER,e=>e.rank)))),e.isExtendableWithAlerts=e=>{switch(e.visualState.transition.type){case"added":case"expanded":case"focused":case"hidden":case"rendered":return!0;case"feedback_form":case"removed":case"presuccess":case"success":case"muted":return!1;default:return Object(s.d)(e.visualState.transition.type)}},e.getAlertOutcomeBundle=e=>Object(i.pipe)(e.bundleInfo,o.g.fold(()=>({id:"other",title:"Other"}),e=>({id:e.title.toLowerCase().split(" ").join("_"),title:e.title}))),e.eq={equals:(e,t)=>m.a.eq.equals(e,t)&&o.g.getEq(o.c.eqString).equals(e.lensId,t.lensId)},function(t){const n=t=>(a,n)=>Object.assign({id:a,kind:e.Kind,bundleInfo:t,activeAlert:m.a.getAlertByIndex(n.activeAlertIndex,n.alerts),transform:Object(i.pipe)(n.cachedTransform,o.g.map(e=>e.labels)),equals(t){return e.eq.equals(this,t)},hashCode(){return m.a.hashCode(this)}},n);t.create=function(t,r,d,p){const h=f.getAnimatable(t).changeVisualState,b=e=>u.a.getCreate(n(e),r,h,p,d),y=a(d);return{create:e=>(t,a,n,r,i,s,c)=>b(i)(t,a,n,r,u.a.getApplicableCardMeta(a[n],s,d),e,o.g.some(s),c),createAdded:e=>(t,a,n,r)=>{const i=g.a.VisualState.initial({type:"added",clockwise:!0},!0);return b(a)(t,n,0,0,u.a.getApplicableCardMeta(n[0],i,d),e,o.g.some(i),r)},createFocused:e=>(t,a,n,r,i)=>{const s=g.a.VisualState.initial({type:"focused",clockwise:!0},!0);return b(a)(t,n,r,0,u.a.getApplicableCardMeta(n[r],s,d),e,o.g.some(s),i)},createRendered:e=>(t,a,n,r)=>{const i=g.a.VisualState.initial({type:"rendered",clockwise:!0},!1);return b(a)(t,n,0,0,u.a.getApplicableCardMeta(n[0],i,d),e,o.g.some(i),r)},updateWith:(a,n)=>r=>{Object(s.g)(a.every(e=>c.a.isRegistered(e)),"cannot add non registered alerts");const o=new Set(a.map(e=>e.id)),d=new Set(r.removedAlertsIds);o.forEach(e=>{d.delete(e)});const p=r.alerts.filter(e=>!o.has(e.id)).concat(a.map(l.a.fromModel)).sort(n.compare);return Object(i.pipe)(r,y(p,d,m.a.getIndexByAlert(r.activeAlert.id,p)),e.getCardHydrator(t))}}}}(t=e.ItemFactory||(e.ItemFactory={}));const a=e=>(t,a,n)=>r=>{const i=m.a.getAlertByIndex(n,t),o=l.a.isApplicableAlert(i)?u.a.getApplicableCardMeta(i,r.visualState,e):p.a.empty(void 0);return Object.assign(Object.assign({},r),{alerts:t,activeAlert:i,meta:o,removedAlertsIds:a,activeAlertIndex:n})};e.changePosition=e=>t=>Object.assign(Object.assign({},t),{positionState:e}),e.updateVisualState=e=>t=>Object.assign(Object.assign({},t),{visualState:e}),e.getCardHydrator=e=>u.a.getCardHydrator(e=>e.cachedTransform,d.a.canHydrate,n,e),e.changeUserInput=e=>t=>Object.assign(Object.assign({},t),{userInput:e});const n=e=>t=>Object.assign(Object.assign({},t),{cachedTransform:e,transform:Object(i.pipe)(e,o.g.map(e=>e.labels))}),h=e=>t=>Object.assign(Object.assign({},t),{meta:e});let f;e.unselect=u.a.getUnselectItem(e.updateVisualState,e.changePosition),e.getSelectByAlert=(t,n,r)=>u.a.getSelectByAlert(a(n),e.changeUserInput,e.updateVisualState,e.changePosition,h,r,t,n),e.getSelect=(t,a,n)=>u.a.getSelectFirstAlert(e.getSelectByAlert(t,a,n)),function(t){function n(t){const a=u.a.getChangeVisualState(e.updateVisualState,e.getCardHydrator(t));return{completeTransition:e=>t=>a(g.a.VisualState.complete(t.visualState,e))(t),transitionTo:u.a.getTransitionTo(a,e.changePosition),changeVisualState:a}}t.getAnimatable=n,t.getRemove=(e,t)=>u.a.getRemove(a(e),n(t).transitionTo),t.getUpdatableWithAlertsCapability=(t,a)=>i=>Object(r.flow)(t.updateWith(i,c.d.ord),t=>e.isExtendableWithAlerts(t)?t:n(a).transitionTo({type:"added",clockwise:!0})(t)),t.getRemoveAlertsCapability=(a,n,s,c)=>(l,d)=>{const p=e.getSelectByAlert(a,n,e.getCardHydrator(s)),g=u.a.getSelectNextAlert(u.a.getCardSelections(a),p);return e=>{const a=new Set(l.map(e=>e.id));if(!m.a.hasAnyOfAlerts(a)(e))return e;const p=t.getRemove(n,s)(l,Object(i.pipe)(d,o.g.map(t=>c.compare(e,t)>0),o.g.getOrElse(r.constTrue)))(e);return Object(i.pipe)(d,o.g.exists(t=>t.id===e.id))?g(c)(p):p}}}(f=e.Capabilities||(e.Capabilities={}))}(n||(n={}))},IdhR:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return g}));var n=a("ERkP"),r=a("94k3"),i=a("rk+4"),o=a("uqkn"),s=a("+w1e"),c=a("nnns"),l=a("tZ26"),d=a("aIes"),p=a("es5d");const u=({card:{activeAlert:e,id:t,visualState:a},actions:u,mode:m,className:h,disabled:f})=>{const b=n.useContext(i.a.Context);return n.createElement(c.a.Tertiary,{key:"toggle-more",name:g(a,b),title:"mini"===m?g(a,b):"",className:h,disabled:f,onClick:d.d.callOnce(()=>{const n=o.a.isCardOpen(a);u.next({type:s.a.Kind.startTransitionTo,id:t,transition:{type:n?"focused":"expanded",clockwise:!0}}),n||u.next({type:s.b.Type.alertFeedback,alertId:e.id,feedbackType:r.a.AlertFeedbackType.EXPANDED})})},o.a.isCardOpen(a)?n.createElement(l.d.Arrow,{key:"more",className:p.a.lessIcon}):n.createElement(l.d.QuestionMark,{key:"expand"}),"default"===m&&g(a,b))},m=({visualState:e,children:t,className:a})=>n.createElement("div",{className:(o.a.isCardOpen(e)?p.a.more:p.a.moreHidden)+" "+a},t);function g(e,t){const a=t.card;return o.a.isCardOpen(e)?a.less:a.more}},"J/IC":function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a("ERkP"),r=a("I7vG"),i=a("vOOZ"),o=a("9NHN"),s=a("zR/0"),c=a("gy42"),l=a("lrqh"),d=a("ax6a"),p=a("6gXa"),u=a("8P+J"),m=a("1gzW");const g=({toneAlternatives:e,onSelectToneAlternative:t})=>{const a=new s.a.Subject,d=new s.a.Subject,g=new s.a.Subject,h=new s.a.Subject,f=new s.a.Subject,b=new s.a.Subject,{ref:y,onMount:v}=m.a.useElWatcher(),C=s.a.mergeStatic(f.pipe(s.a.mapTo(!0)),g.pipe(s.a.mapTo(!1)),h.pipe(s.a.mapTo(!1))).pipe(s.a.startWith(!1)),O=s.a.mergeStatic(f,d).pipe(s.a.withLatestFrom(C),s.a.filter(([e,t])=>t),s.a.map(([e,t])=>e),s.a.withLatestFrom(y),s.a.map(([e,t])=>Object(r.pipe)(t,l.g.map(e=>e.getBoundingClientRect()),l.g.bindTo("sliderClientRect"),l.g.apS("containerMouseEventVal",l.g.some(e)))),s.b.compact,s.a.map(({containerMouseEventVal:e,sliderClientRect:t})=>{const a=t.x,n=t.x+t.width;let r=0;return r=e.clientX<=a?0:e.clientX>=n?100:(e.clientX-a)/(n-a)*100})),k=s.a.mergeStatic(O.pipe(s.a.distinctUntilChanged()),C.pipe(s.a.distinctUntilChanged(),s.a.filter(e=>!e),s.a.withLatestFrom(O),s.a.map(([e,t])=>t),s.a.map(e=>e>=50?100:0)),a.pipe(s.a.filter(e=>"ArrowRight"===e.key||"ArrowLeft"===e.key),s.a.tap(e=>{e.preventDefault(),e.stopPropagation()}),s.a.map(e=>e.key),s.a.filter(e=>"ArrowRight"===e||"ArrowLeft"===e),s.a.map(e=>"ArrowRight"===e?100:0)),b.pipe(s.a.map(e=>1===e?100:0))).pipe(s.a.startWith(100)),w=k.pipe(s.a.distinctUntilChanged(),s.a.map(e=>e>=50?1:0)),S=s.a.combineLatestStatic([w,c.b.toObservable(e)]).pipe(s.a.map(([e,t])=>t[e]));return m.a.useSubscriptionTo(w.pipe(s.a.distinctUntilChanged(),s.a.tap(t))),n.createElement(i.a.div,{className:z.outerContainer,onKeyDown:e=>a.next(e)},n.createElement(i.a.div,{className:z.label},S.pipe(s.a.map(e=>e.name))),n.createElement(i.a.div,{className:z.container,onMouseMove:e=>d.next(e),onMouseUp:e=>g.next(e),onMouseLeave:e=>h.next(e)},n.createElement(i.a.div,Object.assign({},Object(o.c)(z.slider,C.pipe(s.a.map(e=>e?z.sliderDragging:null))),{mount:v}),n.createElement(i.a.div,Object.assign({},Object(o.c)(z.sliderInner,C.pipe(s.a.map(e=>e?z.sliderInnerDragging:null))),{style:{width:k.pipe(s.a.map(p.a.percent))}}),n.createElement(i.a.div,Object.assign({},Object(o.c)(z.knob,C.pipe(s.a.map(e=>e?z.knobDragging:null))),{onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),f.next(e)},tabIndex:0}),S.pipe(s.a.map(e=>n.createElement(u.c,{id:e.emojiID,className:z.knobEmoji}))))),s.a.combineLatestStatic([w,C]).pipe(s.a.map(([e,t])=>n.createElement(n.Fragment,null,n.createElement("div",Object.assign({},Object(o.c)(z.sliderDivisionPoint,z.sliderDivisionPointLeft))),0===e||t?null:n.createElement(i.a.div,Object.assign({},Object(o.c)(z.sliderDivisionPointHoverArea,z.sliderDivisionPointHoverAreaLeft),{onClick:()=>b.next(0)})),n.createElement("div",Object.assign({},Object(o.c)(z.sliderDivisionPoint,z.sliderDivisionPointRight))),1===e||t?null:n.createElement(i.a.div,Object.assign({},Object(o.c)(z.sliderDivisionPointHoverArea,z.sliderDivisionPointHoverAreaRight),{onClick:()=>b.next(1)}))))))))},h="toneSliderOuterContainer",f="toneSliderLabel",b="toneSliderContainer",y="toneSlider",v="toneSliderDragging",C="toneSliderSliderDivisionPoint",O="toneSliderDivisionPointLeft",k="toneSliderDivisionPointRight",w="toneSliderDivisionPointHoverArea",S="toneSliderDivisionPointHoverAreaLeft",A="toneSliderDivisionPointHoverAreaRight",E="toneSliderInner",x="toneSliderInnerDragging",I="toneSliderKnob",j="toneSliderKnobDragging",T="toneSliderKnobEmoji",N={display:"flex",justifyContent:"space-between",alignItems:"center",marginRight:p.a.rem(.875)},L={fontWeight:700,fontSize:p.a.rem(.875),lineHeight:p.a.rem(1)},B={width:p.a.rem(5.375),height:p.a.rem(1.75),display:"flex",flexDirection:"column",justifyContent:"center"},P={position:"relative",width:p.a.percent(100),backgroundColor:d.a.CoreNeutral40,height:p.a.rem(.125),borderRadius:p.a.rem(.375),transition:"all 0.15s ease-in-out",$nest:{"&:hover":{height:p.a.rem(.5)},[`&:hover .${C}`]:{visibility:"visible"}}},F={height:p.a.rem(.5),$nest:{[`& .${C}`]:{visibility:"visible"}}},D={position:"absolute",width:p.a.rem(.25),height:p.a.rem(.25),backgroundColor:d.a.CoreNeutral0,top:p.a.rem(.125),bottom:p.a.rem(.125),borderRadius:p.a.percent(100),visibility:"hidden"},$={left:p.a.rem(.125)},R={right:p.a.rem(.125)},M={background:d.a.CoreNeutral90,opacity:0,width:p.a.rem(1.5),height:p.a.rem(1.5),position:"absolute",borderRadius:p.a.percent(100),cursor:"pointer",top:p.a.rem(-.5),zIndex:1,transition:"all 0.15s ease-in-out",$nest:{"&:hover":{opacity:.1}}},_={left:p.a.rem(-.5)},W={right:p.a.rem(-.5)},H={position:"relative",display:"flex",alignItems:"center",backgroundColor:d.a.CorePurple40,height:p.a.percent(100),borderRadius:p.a.rem(.375),transition:"all 0.15s ease-in-out"},G={position:"absolute",right:p.a.rem(-.875),display:"flex",justifyContent:"center",alignItems:"center",width:p.a.rem(1.75),height:p.a.rem(1.75),backgroundColor:d.a.CoreNeutral0,boxShadow:"0px 0px 1px rgba(109, 117, 141, 0.8), 0px 1px 8px rgba(109, 117, 141, 0.28)",borderRadius:p.a.rem(1.875),cursor:"ew-resize",transition:"all 0.15s ease-in-out",zIndex:1,$nest:{"&:hover":{width:p.a.rem(2),height:p.a.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"}}},q={width:p.a.rem(2),height:p.a.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"},V={width:p.a.rem(.9375),height:p.a.rem(.9375),pointerEvents:"none"},z={outerContainer:p.a.joinClasses([h,p.a.style(N)]),label:p.a.joinClasses([f,p.a.style(L)]),container:p.a.joinClasses([b,p.a.style(B)]),slider:p.a.joinClasses([y,p.a.style(P)]),sliderDragging:p.a.joinClasses([v,p.a.style(F)]),sliderDivisionPoint:p.a.joinClasses([C,p.a.style(D)]),sliderDivisionPointLeft:p.a.joinClasses([O,p.a.style($)]),sliderDivisionPointRight:p.a.joinClasses([k,p.a.style(R)]),sliderDivisionPointHoverArea:p.a.joinClasses([w,p.a.style(M)]),sliderDivisionPointHoverAreaLeft:p.a.joinClasses([S,p.a.style(_)]),sliderDivisionPointHoverAreaRight:p.a.joinClasses([A,p.a.style(W)]),sliderInner:p.a.joinClasses([E,p.a.style(H)]),sliderInnerDragging:p.a.joinClasses([x,p.a.style({transition:"none"})]),knob:p.a.joinClasses([I,p.a.style(G)]),knobDragging:p.a.joinClasses([j,p.a.style(q)]),knobEmoji:p.a.joinClasses([T,p.a.style(V)])}},JSz4:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a("OA+g"),r=a("I7vG"),i=a("lrqh"),o=a("6fbX"),s=a("f3nf"),c=a("W0xG"),l=a("wOnQ");const d=e=>t=>Object(r.pipe)(t.content,i.b.fold(e=>i.b.right(Object(c.a)(e,t.todo)),Object(n.flow)(e,i.b.map(e=>(function(e,t){switch(e.type){case s.a.Type.Drilldown:return l.d.create(e.remove,e.inserts,t);case s.a.Type.Substitution:return l.a.create(e.remove,e.inserts,t);case s.a.Type.Insert:return 2===e.inserts.length?l.i.create(e.inserts[0],e.inserts[1],t):l.g.create(e.inserts,t);case s.a.Type.Remove:return l.b.create([e.remove],t);case s.a.Type.RemoveOr:return l.c.create(e.removes,t);case s.a.Type.FullSentence:return function(e,t){switch(e.kind){case l.f.WithFormatting:return l.e.createWithFormatting(e.ops,t);case l.f.PlainText:return l.e.createPlainText(e.ops,t);default:return Object(o.d)(e)}}(e,t);case s.a.Type.OneGap:return l.h.create(e,t);case s.a.Type.ShortenIt:return function(e,t){return{type:l.j.Type.ShortenIt,tooltipText:t,labels:e.ops}}(e,t);case s.a.Type.ToneAI:return function(e,t){return{type:l.j.Type.ToneAI,tooltipText:t,labels:e.insertsOrTexts}}(e,t);default:return Object(o.d)(e)}})(e,t.todo)))))},K4Sz:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("I7vG"),i=a("lrqh");!function(e){e.update=function(e,t,a){return e.update(t,a)},e.filter=function(e,t){return e.filter(t)},e.get=function(e,t,a){return Object(r.pipe)(e.get(t),i.g.filter(e=>a(e.value)))},e.find=function(e,t){return e.find(t)}}(n||(n={}))},KBak:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("lrqh");!function(e){let t,a;!function(e){e.Retain="retain",e.Delete="delete",e.Insert="insert"}(t=e.Type||(e.Type={})),e.isDelete=function(t){return t.type===e.Type.Delete},e.isInsert=function(t){return t.type===e.Type.Insert},function(e){e.eq=r.c.getStructEq({type:r.c.eqString,textChunk:r.c.eqString})}(a=e.NoInvert||(e.NoInvert={}))}(n||(n={}))},Kt6o:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n="https://assets.grammarly.com/emoji/v1/",r="https://assets.grammarly.com/animations/v1/"},LXcl:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("LNSM"),r=a("zR/0"),i=a("D9EC"),o=a("PrA7"),s=a("hnW1");class c{constructor(){this.completionTrigger=n.a.create(!1),this._steps={},this.getFirstTargetRect=()=>r.a.EMPTY}isStepEnabled(e){return void 0!==this._steps[e]}relaunchAllSteps(){o.Monitoring.Logging.getLogger("OnboardingViewModelImpl").error("Not implemented")}setState(e,t){this.subscribeForStep(e).state.set(t)}subscribeForStep(e){const t=n.a.create(s.a.Hidden);return Boolean(this._steps[e])?this._steps[e]:this._steps[e]={id:e,state:t,dotShown:i.e,dotClicked:()=>t.set(s.a.Popup),popupClosed:()=>t.set(s.a.Passed),popupIgnored:()=>t.set(s.a.Hidden),actionTaken:()=>t.set(s.a.Passed)}}getStepCompletionCallback(e){throw new Error("Method not implemented.")}changeState(e){}}},MkN4:function(e,t,a){"use strict";a.d(t,"a",(function(){return A}));var n=a("ERkP"),r=a("qb7Q"),i=a("a5W6"),o=a("OA+g"),s=a("LNSM"),c=a("vOOZ"),l=a("6fbX"),d=a("lrqh"),p=a("MrnW"),u=a("1gzW"),m=a("zR/0"),g=a("6gXa");const h=({parentKey:e,from:t,transition:a,to:r,onAnimationEnd:i,renderContent:o})=>{const s=f(a.animateFrom,"from"),c=f(a.animateTo,"to"),l=s.needFullWidth||c.needFullWidth;return n.createElement("div",{className:g.a.joinClasses([b,l?y:""])},t&&n.createElement(n.Fragment,null,n.createElement("div",{onAnimationEnd:()=>i(a.fromName),className:g.a.joinClasses(s.className)},o(t,`from-${e}`,[]))),n.createElement("div",{onAnimationEnd:()=>i(a.toName),className:g.a.joinClasses(c.className)},o(r,`to-${e}`,[])))};function f(e,t){switch(e){case"fadeOut":return{className:[C],needFullWidth:!1};case"fadeIn":return{className:[k],needFullWidth:!1};case"slideLeft":return{className:S(t,"left"),needFullWidth:!0};case"slideRight":return{className:S(t,"right"),needFullWidth:!0};default:return{className:[],needFullWidth:!1}}}const b=g.a.style({position:"relative",overflow:"hidden"}),y=g.a.style({width:"100%"}),v=g.a.keyframes({from:{opacity:1,visibility:"visible"},to:{opacity:0,visibility:"hidden"}}),C=g.a.style({position:"absolute",opacity:0,visibility:"hidden",animation:`${v} ${g.a.seconds(.3)} ease-out`}),O=g.a.keyframes({from:{opacity:0,visibility:"hidden"},to:{opacity:1,visibility:"visible"}}),k=g.a.style({animation:`${O} ${g.a.seconds(.3)} ease-out`}),w=e=>`calc(${e}px * var(--cardWidth))`,S=(e,t)=>{const a="to"===e?0:"left"===t?`${w(-1)}`:`${w(1)}`,n="from"===e?0:"left"===t?`${w(1)}`:`${w(-1)}`,r=g.a.keyframes({from:{transform:`translateX(${n})`,visibility:"visible"},to:{transform:`translateX(${a})`,visibility:"from"===e?"hidden":"visible"}}),i=g.a.style({position:"absolute",left:0,right:0,visibility:"hidden"}),o=g.a.style({position:"from"===e?"absolute":"relative",animation:`${r} ${g.a.seconds(.3)} ease-out`});return"from"===e?[i,o]:[o]},A=({content:e,prevContent:t,transitions:a,designSystem:g,notify:f,onMount:b,onAnimationEnd:y})=>{const v=s.a.create(0),C=new Map,O=(e,t,a,i)=>{const s=e.name,d=Boolean(s)?a.find(e=>e.toName===s):void 0;if(null!=d){const a=C.get(d.fromName);return n.createElement(h,{key:t,parentKey:t,renderContent:(e,t)=>O(e,t,[],o.constVoid),onAnimationEnd:i,from:a,to:e,transition:d})}switch(e.type){case"text":return n.createElement(g.text,Object.assign({key:t},e));case"button":const o=e.label.parts.map((e,t)=>"text"===e.type?e.text:O(e,t,a,i));return n.createElement(c.a.Fragment,{key:t},v.view(a=>n.createElement(g.button[e.kind],{key:t,text:n.createElement(g.block,Object.assign(Object.assign({key:t},e.label),{children:o})),name:e.name,state:"accept"===e.name&&-1===a?r.a.ButtonState.Hidden:e.state,tooltip:e.tooltip,onClick:w(e.actions,e.id)})));case"alternativeChoice":return n.createElement(c.a.Fragment,{key:t},v.view(a=>n.createElement(g.alternativeChoice,{key:t,designSystem:g,content:e.alternatives,activeIndex:a,notify:w})));case"icon":return k(e.source,e.backgroundColor,t);case"count":return n.createElement(g.count,Object.assign({key:t},e));case"block":return n.createElement(g.block,Object.assign(Object.assign({key:t},e),{children:e.parts.map((e,t)=>O(e,t,a,i))}));case"row":return n.createElement(g.row,Object.assign(Object.assign({key:t},e),{left:e.left.map((e,t)=>O(e,t,a,i)),right:e.right.map((e,t)=>O(e,t,a,i))}));case"column":return n.createElement(g.column,Object.assign(Object.assign({key:t},e),{children:e.children.map((e,t)=>O(e,t,a,i))}));case"slider":return n.createElement(g.slider,Object.assign({key:t,designSystem:g,onChoiceSelected:w},e));case"alternativeSlider":return n.createElement(g.alternativeSlider,Object.assign({key:t,designSystem:g,activeAltIndex:v.view(),notify:w},e));case"strongAlertRef":return O(e.child,t,a,i);default:return Object(l.e)(e),n.createElement("div",null,"unknown element")}},k=(e,t,a)=>"known"===e.kind?n.createElement(g.icon[e.name],{key:a,backgroundColor:t}):n.createElement(g.image,Object.assign(Object.assign({key:a},e),{backgroundColor:t})),w=(e,t,a=r.a.ActionNotifyUserAction.Click)=>()=>Object(o.pipe)(e,function(e,t){return i.cons({type:"notify",id:e,userAction:t})}(t,a),S,f);function S(e){return Object(o.pipe)(e,i.map(e=>"applyAlternative"===e.type?{type:"applyAlternative",alternativeIndex:v.get()}:"selectAlternative"===e.type?(v.set(e.alternativeIndex),e):e))}d.g.isSome(t)&&p.e.walk(d.g.unsafeGet(t),e=>{const t=e.name;Boolean(t)&&null!=t&&C.set(t,e)});const A=a.reduce((e,t)=>(C.has(t.fromName)&&(e+=1),e+=1),0),E=s.a.create([]);return u.a.useSubscriptionTo(Object(o.pipe)(E,m.a.first(e=>e.length===A),m.a.tap(y))),u.a.useEffectOnDidMount(b),O(e,0,a,e=>E.modify(t=>[...t,e]))}},MrnW:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"i",(function(){return r})),a.d(t,"f",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"k",(function(){return s})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return d})),a.d(t,"h",(function(){return p})),a.d(t,"j",(function(){return u})),a.d(t,"g",(function(){return m}));var n,r,i,o,s,c,l,d,p,u,m,g,h,f=a("qb7Q"),b=a("6fbX"),y=a("hoSD");!function(e){e.walk=function(e,t){const a=(e,t)=>{switch(t(e),e.type){case"block":e.parts.forEach(e=>a(e,t))}};switch(e.type){case"strongAlertRef":a(e.child,t);break;case"column":e.children.forEach(e=>{"row"===e.type?(e.left.forEach(e=>a(e,t)),e.right.forEach(e=>a(e,t))):a(e,t)});break;default:Object(b.d)(e)}}}(n||(n={})),function(e){e.create=function(e,t,a){return{type:"row",left:e,right:t,spacing:a}}}(r||(r={})),function(e){e.create=function(e){return{type:"column",children:e}}}(i||(i={})),function(e){e.Type="block",e.create=function(t,a,n,...r){return{type:e.Type,name:t,parts:r,spacing:a,innerSpacing:n}}}(o||(o={})),function(e){e.Type="text",e.create=function(t,a,n,r,i,o){return{type:e.Type,text:t,size:a,format:n,textColor:r,backgroundColor:i,outlineColor:o}}}(s||(s={})),function(e){e.create=function(e,t){return{type:"alternative",label:e,preview:t}}}(c||(c={})),function(e){e.create=function(...e){return{type:"alternativeChoice",alternatives:e}}}(l||(l={})),function(e){let t;e.Type="button",function(e){e.isTransitionAction=function(e){return"transition"===e.type},e.isApplyAlternativeAction=function(e){return"applyAlternative"===e.type},e.createSelectAlternativeAction=function(e){return{type:"selectAlternative",alternativeIndex:e}}}(t=e.Action||(e.Action={})),e.create=function(t,a,n,r,i){return{type:e.Type,id:t+"#"+y.f.alphanumeric(4),name:t,tooltip:i,kind:r,state:f.a.ButtonState.Enabled,label:{type:o.Type,name:"",parts:[s.create(a,f.a.TextSize.Regular,[],f.a.Color.CoreNeutral0,void 0,void 0)]},actions:n}},e.createIcon=function(t,a,n,r,i){return{type:e.Type,id:t+"#"+y.f.alphanumeric(4),name:t,tooltip:i,kind:r,state:f.a.ButtonState.Enabled,label:{type:o.Type,name:"icon-button-"+t,parts:[p.create(a,void 0)]},actions:n}}}(d||(d={})),function(e){let t;e.Type="icon",function(e){e.createKnown=function(e){return{kind:"known",name:e}},e.createUrl=function(e,t,a){return{kind:"url",url:e,name:t,size:a}}}(t=e.Source||(e.Source={})),e.create=function(t,a){return{type:e.Type,source:t,backgroundColor:a}}}(p||(p={})),function(e){e.create=function(e,t,a,n){return{top:e,bottom:a,left:n,right:t}}}(u||(u={})),function(e){e.Type="count",e.create=function(e,t){return{type:"count",backgroundColor:t,value:e}}}(m||(m={})),function(e){let t;!function(e){e.create=function(e,t,a){return{type:"sliderChoice",id:`slider-choice-${t.toLowerCase()}#${y.f.alphanumeric(4)}`,icon:e,label:t,actions:a}}}(t=e.Choice||(e.Choice={})),e.create=function(e,t){return{type:"slider",fillColor:e,choices:t}}}(g||(g={})),function(e){let t;!function(e){e.create=function(e,t,a,n){return{type:"alternativeSliderChoice",id:`alternative-slider-choice-${t.toLowerCase()}#${y.f.alphanumeric(4)}`,icon:e,label:t,actions:a,preview:n}}}(t=e.Choice||(e.Choice={})),e.create=function(e,t){return{type:"alternativeSlider",fillColor:e,choices:t}}}(h||(h={}))},N19O:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return d}));var n,r=a("ERkP"),i=a("OA+g"),o=a("lrqh"),s=a("x7eB"),c=a("zR/0"),l=a("1gzW");function d(e=12){const{ref:t,onMount:a}=l.a.useElWatcher(),{cardHeight:d,cardVisibleViewportHeight:p}=r.useContext(n.Context),u=r.useContext(s.a.Context);return{onMount:a,maxHeight:r.useRef(t.pipe(c.a.switchMap(o.g.fold(Object(i.constant)(c.a.of(o.g.none)),e=>d.pipe(c.a.take(1),c.a.withLatestFrom(p),c.a.map(([t,a])=>Object(i.pipe)(a,o.g.map(a=>e.offsetHeight+Math.max(0,a-t))))))),c.a.startWith(o.g.none),c.a.withLatestFrom(u.pipe(c.a.startWith(void 0),c.a.map(o.g.fromNullable))),c.a.map(([t,a])=>Object(i.pipe)(t,o.g.alt(()=>Object(i.pipe)(a,o.g.map(t=>e*t))))),c.a.distinctUntilChanged(o.g.getEq(o.c.eqNumber).equals))).current,ref:t}}!function(e){e.Context=r.createContext({cardHeight:c.a.EMPTY,cardVisibleViewportHeight:c.a.of(o.g.none)}),e.Provider=t=>{const{ref:a,onMount:n}=l.a.useElWatcher(),i=r.useRef({cardHeight:t.card.pipe(c.a.switchMapTo(a.pipe(c.b.compact,c.a.map(e=>e.offsetHeight))),c.a.distinctUntilChanged(),c.a.shareReplay({bufferSize:1,refCount:!0})),cardVisibleViewportHeight:t.cardVisibleViewportHeight.pipe(c.a.distinctUntilChanged(o.g.getEq(o.c.eqNumber).equals),c.a.shareReplay({bufferSize:1,refCount:!0}))});return r.createElement(e.Context.Provider,{value:i.current},t.children(n))}}(n||(n={}))},N1Ys:function(e,t,a){e.exports=a.p+"files/88b63c27cdce33467477f6b31373c11b/inter-italic.woff"},NW9S:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n,r,i=a("m6JR"),o=a("66iv"),s=a("PK5a");!function(e){let t;!function(e){e.ISO=Object(s.iso)()}(t=e.FromWindowTop||(e.FromWindowTop={}))}(n||(n={})),function(e){let t,a,n;!function(e){e.ISO=Object(s.iso)(),e.equals=Object(s.getEq)(i.eqNumber).equals}(t=e.FromViewportTop||(e.FromViewportTop={})),function(e){e.ISO=Object(s.iso)()}(a=e.AbsTop||(e.AbsTop={})),function(e){e.ISO=Object(s.iso)()}(n=e.CardTop||(e.CardTop={})),e.concatC=e=>t=>e+t;const r=e=>new o.a(e);e.converters=function(t,a,n){const i=r(e.concatC(n)).get,o=r(e.concatC(-t)).get;return{windowToViewport:r(e.concatC(-a)).get,viewportToWindow:r(e.concatC(a)).get,cardTopToViewport:o,viewportToCardTop:r(e.concatC(t)).get,absTopToViewportTop:e=>o(i(e)),absTopToCardTop:i}}}(r||(r={}))},NbEL:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return i}));var n,r,i,o=a("m6JR"),s=a("NW9S");!function(e){e.above="above",e.below="below",e.hidden="hidden"}(n||(n={})),function(e){e.Impl=class{constructor(e,t,a){this.scrollTop=e,this.viewport=t,this.converters=s.a.converters(e,s.b.FromWindowTop.ISO.unwrap(t.top),a)}}}(r||(r={})),function(e){const t=Object(o.getStructEq)({top:o.eqNumber,height:o.eqNumber});e.eqDimensionsTuple=Object(o.getTupleEq)(t,t)}(i||(i={}))},Ni70:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n,r,i=a("D57K"),o=a("I7vG"),s=a("lrqh"),c=a("hoSD");!function(e){var t=function(){function e(){}return e.prototype.getRect=function(){return s.b.right({rootClientRect:c.c.Rect.empty,clientRects:[c.c.Rect.empty]})},e}();e.Mock=t}(n||(n={})),function(e){e.relativeToViewport=function(e){var t,a=e.clientRects,n=a[0],r=a.slice(1);return Object(o.pipe)((t=c.c.Rect).join.apply(t,Object(i.__spreadArray)([n],r,!1)),s.b.getOrElse((function(){return c.c.Rect.empty})))},e.relativeToRoot=function(t){return c.c.absToRelative(e.relativeToViewport(t),t.rootClientRect)},e.relativeToRootFirst=function(e){return c.c.absToRelative(e.clientRects[0],e.rootClientRect)},e.relativeAndAbs=function(t){var a=e.relativeToViewport(t);return{abs:a,relative:c.c.absToRelative(a,t.rootClientRect)}}}(r||(r={}))},PBv0:function(e,t,a){e.exports=a.p+"files/55c843b0b146c9d1db049e4751172fe1/inter-regular.woff2"},PyeZ:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n,r,i=a("D9EC");!function(e){let t;function a(t){return t.type===e.Type.confirmed}function n(t){return t.type===e.Type.undone}!function(e){e.mounted="mounted",e.opened="opened",e.closed="closed",e.hovered="hovered",e.unhovered="unhovered",e.applied="applied",e.addedToDictionary="added_to_dictionary",e.ignored="ignored",e.confirmed="confirmed",e.undone="undone"}(t=e.Type||(e.Type={})),e.isAlertApplyAction=function(t){return t.type===e.Type.applied},e.isAlertOpenAction=function(t){return t.type===e.Type.opened},e.isAlertIgnoreAction=function(t){return t.type===e.Type.ignored},e.isAlertAddToDictionaryAction=function(t){return t.type===e.Type.addedToDictionary},e.isConfirmAction=a,e.isUndoAction=n,e.isMountAction=function(t){return t.type===e.Type.mounted},e.isBulkAction=Object(i.p)(a,n)}(n||(n={})),function(e){let t;!function(e){e.Up="Up",e.Down="Down"}(t=e.Direction||(e.Direction={}))}(r||(r={}))},PzR3:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return r}));var n,r,i=a("I7vG"),o=a("94k3"),s=a("FiSa"),c=a("lrqh"),l=a("D9EC"),d=a("6fbX"),p=a("PrA7");!function(e){e.show={show:e=>`A(#${e.alternativeId})`},e.eq=c.c.getStructEq({alternative:o.a.Alternative.eq,alternativeId:c.c.eqString,alertId:c.c.eqString})}(n||(n={}));class u{constructor(){this._log=p.Monitoring.Logging.getLogger("alternative_manager",p.Logging.LogLevel.DEBUG),this._alternatives=new Map,this.getAlternative=e=>{const t=this._alternatives.get(e);if(t)return c.b.right(t);{const t=`Tried to retrieve non-registered alternative: ${e}`;return this._log.error(t),c.b.left(new Error(t))}}}pushChanges(e){s.a.isDelta(e)&&this._alternatives.forEach(t=>{Object(i.pipe)(t.alternative.rebase(e.delta),c.g.fold(l.e,e=>t.alternative=e))})}registerAlternative(e,t){const a=u.getAlternativeId(t),n={alternative:e,alternativeId:a,alertId:t};return this._alternatives.set(a,n),n}deregisterAlternative(e){return Object(i.pipe)(this.getAlternative(e),c.b.chain(({alternative:e,alternativeId:t})=>c.b.tryCatchError(()=>(Object(d.g)(this._alternatives.delete(t),"alternative should exist before deletion"),e))))}}u._alternativeCounter=0,u.getAlternativeId=e=>`alt-${e}-${u._alternativeCounter++}`,function(e){e.mock={registerAlternative:(e,t)=>({alternative:e,alternativeId:u.getAlternativeId(t),alertId:t}),getAlternative:()=>c.b.left(new Error("Not implemented in mock")),deregisterAlternative:()=>c.b.right(o.a.Alternative.create([]))}}(r||(r={}))},RWgj:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return f})),a.d(t,"b",(function(){return A})),a.d(t,"a",(function(){return N}));var n=a("ax6a"),r=a("6gXa"),i=a("WIwS"),o=a("ps/9");const s="0 1px 8px rgba(109, 117, 141, .18)",c={$nest:{"&:before":{top:r.a.rem(.85),left:0}}},l=r.a.joinClasses(["miniTwoLinedHighlightedText",r.a.style({overflow:"hidden",marginTop:r.a.rem(-.25),color:n.a.CoreNeutral90,textOverflow:"ellipsis"})]),d={height:r.a.rem(3.25),borderRadius:r.a.rem(o.r),boxShadow:s,$nest:{"&:hover":{boxShadow:s},"&:hover .miniTwoLinedHighlightedText":{borderColor:"transparent"}}},p={top:r.a.rem(.7)},u={top:r.a.rem(.1)},m={fontWeight:r.a.important(400),fontSize:r.a.rem(.75)},g={position:"absolute",left:r.a.rem(.5),minWidth:"initial",minHeight:"initial",background:n.a.CoreNeutral0},h=Object.assign(Object.assign({},g),{top:r.a.rem(.6)}),f=r.a.stylesheet({dot:[c],invisibleDot:[c,{$nest:{"&:before":{visibility:"hidden"}}}],wrapper:[d],miniContainer:[{flexDirection:"column"}],cardLogo:[p],lensIcon:[u],subTitle:[m],ctaText:[{overflow:"hidden",textOverflow:"ellipsis"}],takeawayIconMini:[h],takeawayIconStandard:[g]}),b={height:r.a.rem(3),$nest:{"&:hover .highlightText":{borderColor:"transparent"}}},y={$nest:{"&:before":{top:r.a.px(1),bottom:0,left:0}}},v={$nest:{"&:before":{top:r.a.px(1),bottom:0,left:0,visibility:"hidden"}}},C={height:r.a.important(r.a.rem(2.5)),borderRadius:r.a.rem(o.r)},O={color:n.a.CoreNeutral50,display:"flex",width:r.a.rem(2),height:r.a.percent(100),justifyContent:"center",alignItems:"center"},k={overflow:"hidden",color:n.a.CoreNeutral90,textOverflow:"ellipsis"},w={display:"inline-block",padding:`0 ${r.a.rem(.5)}`},S={top:0,bottom:0,left:r.a.rem(.5),margin:"auto"},A=r.a.stylesheet({wrapper:[b],dot:[y],invisibleDot:[y,v],miniContainer:[{display:"flex",justifyContent:"flex-end",alignItems:"center"}],bundleContainer:[C],alertsCounter:[O],highlightedText:[k],middleDot:[w],cardLogo:[S]}),E={color:n.a.CoreNeutral50,fontWeight:300},x={position:"absolute",left:r.a.rem(.5),width:r.a.rem(1),height:r.a.rem(1),background:i.g},I={left:r.a.rem(0)},j={marginLeft:r.a.rem(.5)},T={marginLeft:r.a.rem(-.5)},N=r.a.stylesheet({ctaText:[{$nest:{"&:first-letter":{textTransform:"uppercase"}}}],cta:[E],cardLogo:[x],lensIcon:[T],outcomesCardLogo:[x,I],newLabel:[j]})},S3HV:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("ERkP"),i=a("9NHN"),o=a("vOOZ"),s=a("LNSM"),c=a("zR/0"),l=a("hoSD"),d=a("ax6a"),p=a("6gXa"),u=a("ps/9"),m=a("rk+4"),g=a("+w1e"),h=a("nnns"),f=a("8P+J"),b=a("tZ26"),y=a("dP+m"),v=a("1gzW"),C=a("0A/6"),O=a("H9T+");!function(e){e.Mini=({card:e,actions:t,twoLined:a,useBundleContainer:n})=>r.createElement(C.a.Mini,Object.assign({},Object(i.c)(!0===a?x.twoLinedWrapper:x.standardWrapper,!0===n?x.bundleContainer:null),{actions:t,cardId:e.id,getActiveAlert:()=>e.alerts[0],inert:e.positionState.inert,hideDot:!0}),r.createElement(o.a.div,{className:x.content},void 0!==e.activeAlert.emojiID?r.createElement(f.c,{id:e.activeAlert.emojiID,className:x.icon}):r.createElement(b.d.EthicalAI.Heart,{className:x.icon}),r.createElement("div",{className:x.highlightedText},e.activeAlert.miniCardTitle))),e.Full=({card:e,actions:t,isChecking:a})=>{const n=r.useContext(m.a.Context),i=s.a.create(!1);return v.a.useSubscriptionTo(a.pipe(c.a.tap(e=>i.set(e)))),r.createElement(O.t,{card:e,actions:t,isChecking:a,body:r.createElement(r.Fragment,null,r.createElement(O.j,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(O.o,{text:e.activeAlert.title}),void 0!==e.activeAlert.bannerColors?r.createElement("div",null,e.activeAlert.bannerColors.map(e=>r.createElement("div",{className:L.bannerStripe,style:{backgroundColor:e}}))):null,r.createElement(O.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})),footer:r.createElement(r.Fragment,null,r.createElement(O.h,{card:e}),r.createElement(h.a.Primary,{key:"ethical-ai-external-link",name:"ethical-ai-external-link",title:n.card.todoAction(e.activeAlert.todoAction),onClick:()=>{t.next({type:g.b.Type.ethicalAIOpenExternalLink,alertId:e.activeAlert.id,itemId:e.id,externalLink:e.activeAlert.externalLink}),e.activeAlert.shouldDismissAfterOpeningLink&&t.next({type:g.b.Type.alertResolve,id:e.id,alertId:e.activeAlert.id})},className:L.externalLinkButton},r.createElement(y.a,{href:e.activeAlert.externalLink},r.createElement("div",{className:L.externalLinkButtonContent},l.f.capitalize(e.activeAlert.todoAction),r.createElement(b.d.EthicalAI.ExternalLink,{className:L.externalLinkButtonContentIcon}))))),alwaysShowWrongAndOffensiveButtons:e.activeAlert.isFlaggable})}}(n||(n={}));const k={height:p.a.rem(3.25),borderRadius:p.a.rem(u.r),boxShadow:"0 1px 8px rgba(109, 117, 141, .18)"},w={height:p.a.rem(3)},S={height:p.a.important(p.a.rem(2.5)),borderRadius:p.a.rem(u.r)},A={width:p.a.rem(1),height:p.a.rem(1),marginRight:p.a.rem(.5)},E={overflow:"hidden",color:d.a.CoreNeutral90,textOverflow:"ellipsis"},x=p.a.stylesheet({twoLinedWrapper:[k],standardWrapper:[w],bundleContainer:[S],content:[{display:"flex",alignItems:"center"}],icon:[A],highlightedText:[E]}),I={width:p.a.percent(100),$nest:{a:{color:d.a.CoreNeutral0,textDecoration:"none"}}},j={width:p.a.percent(100),position:"relative",textAlign:"center"},T={position:"absolute",top:p.a.rem(.25),right:p.a.rem(.25)},N={width:p.a.percent(100),height:p.a.rem(.5)},L=p.a.stylesheet({externalLinkButton:[I],externalLinkButtonContent:[j],externalLinkButtonContentIcon:[T],bannerStripe:[N]})},SGQG:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a("ax6a"),r=a("6gXa"),i=a("WIwS"),o=a("ps/9");const s=n.a.BackgroundTooltip,c=r.a.keyframes({"0%":{boxShadow:"0 0 0 0 rgba(95, 139, 250, .65)"},"70%":{boxShadow:`0 0 0 ${r.a.rem(1)} rgba(95, 139, 250, 0)`},"100%":{boxShadow:"0 0 0 0 rgba(95, 139, 250, 0)"}}),l={width:r.a.rem(1),height:r.a.rem(1),borderRadius:r.a.percent(50),background:"rgba(95, 139, 250, .65)",boxShadow:"0 0 0 rgba(95, 139, 250, .65)",animation:`${c} 2s infinite`,$nest:{"&:hover":{animation:"none"},"@media print":{visibility:"hidden"}}},d=r.a.keyframes({"0%":{opacity:1,transform:"scale(1)"},"100%":{opacity:0,transform:"scale(3)"}}),p={width:r.a.rem(1),height:r.a.rem(1),borderRadius:r.a.percent(50),background:"rgba(95, 139, 250, .65)",willChange:"transform",$nest:{"@media print":{visibility:"hidden"},"&:before":{position:"absolute",top:0,left:0,zIndex:-1,width:r.a.rem(1),height:r.a.rem(1),borderRadius:r.a.percent(100),backgroundColor:"rgba(95, 139, 250, .65)",content:"''",animation:`${d} 2s infinite`,willChange:"transform"},"&:hover:before":{animation:"none"}}},u={margin:`${r.a.rem(-1.5)} 0 0 ${r.a.rem(-1.5)}`,padding:r.a.rem(1),borderRadius:r.a.percent(50),cursor:"pointer",pointerEvents:"all"},m={margin:`0 0 ${r.a.rem(.5)}`,color:n.a.CoreNeutral0,fontWeight:"bold"},g={color:n.a.CoreNeutral0,lineHeight:r.a.rem(1.25)},h={display:"flex",padding:`${r.a.rem(1)} ${r.a.rem(1.5)} ${r.a.rem(1.25)} ${r.a.rem(2)}`,width:r.a.rem(20),borderRadius:r.a.rem(o.s),background:s,color:n.a.CoreNeutral0,textAlign:"left",letterSpacing:0,pointerEvents:"all",alignItems:"flex-start"},f={marginRight:r.a.rem(2),width:r.a.rem(2),flexShrink:0,alignSelf:"center"},b={stroke:i.k,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{stroke:n.a.CoreNeutral0,fill:n.a.CoreNeutral0}}},y={position:"absolute",top:r.a.percent(50),left:r.a.percent(50),zIndex:o.k},v={position:"relative",zIndex:o.i},C={zIndex:o.p},O={position:"absolute",zIndex:o.p},k=r.a.prefixedStylesheet("onboarding",{pulse:[l],pulseWrapper:[u],header:[m],description:[g],stepWrapper:[h],content:[{display:"inline-block"}],alertIcon:[f],closeIconWrapper:[{position:"absolute",top:0,right:0}],closeIcon:[b],containerWrapper:[{position:"relative",display:"inline-block"}],onboardingSpot:[y],containerDiv:[{}],editor:[v],onboardingPopup:[C],notificationContainer:[O],pulseOptimized:[p]})},Sfi4:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return f}));var n=a("ERkP"),r=a("a5W6"),i=a("I7vG"),o=a("LNSM"),s=a("vOOZ"),c=a("zR/0"),l=a("gy42"),d=a("lrqh"),p=a("D9EC");class u extends n.Component{constructor(){super(...arguments),this._state=this.props.state.pipe(c.a.startWith(void 0),c.a.map((e,t)=>({state:e,key:t})),c.a.pairwise(),c.a.map(([e,t])=>{const a=this.props.stateToClassMapper(e.state,t.state);return{prev:{key:e.key,state:e.state,view:h(a.prev)},next:{key:t.key,state:t.state,view:h(a.next)}}})),this._elements=o.a.create(g.empty),this._done=new c.a.Subject,this._subs=[]}componentDidMount(){const{children:e}=this.props;this._subs.push(this._state.pipe(c.a.map(({prev:t,next:a})=>{const n=e;return void 0===e?g.empty:[Object(i.pipe)(t.state,d.g.fromNullable,d.g.map(e=>n({state:e,view:t.view,type:"prev",done:()=>this._done.next("prev")})),d.g.chain(d.g.fromNullable),d.g.map(e=>({key:t.key,entry:e}))),Object(i.pipe)(n({state:a.state,view:a.view,type:"next"}),d.g.fromNullable,d.g.map(e=>({key:a.key,entry:e})))]})).subscribe(l.b.toAtom(this._elements)),this._done.subscribe(e=>{"prev"===e&&this._elements.modify(([e,t])=>[d.g.none,t]),"next"===e&&this._elements.set(g.empty)}))}componentWillUnmount(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}render(){const{children:e,className:t,onMount:a,onMouseDown:i}=this.props;return e?n.createElement(s.a.div,{className:t,mount:a,onMouseDown:i},this._elements.view(r.array.compact).view(e=>e.map(e=>n.createElement(n.Fragment,{key:e.key},e.entry)))):null}}const m=e=>({start:e,end:e});var g;function h({start:e,end:t}){return c.a.Observable.create(a=>{a.next(e);const n=requestAnimationFrame(()=>requestAnimationFrame(()=>a.next(t)));return()=>cancelAnimationFrame(n)})}!function(e){e.empty=[d.g.none,d.g.none]}(g||(g={}));const f=e=>{const t=e.content.pipe(c.a.map(t=>({className:e.classes.rendered,el:t,onTransitionEnd:p.e})),c.a.map(d.g.some),c.a.startWith(d.g.none),c.a.pairwise(),c.a.map(([t,a])=>Object(i.pipe)(t,d.g.fold(()=>d.g.map(c.a.of)(a),t=>Object(i.pipe)(a,d.g.map(a=>{const n=new c.a.Subject;return c.a.mergeStatic(c.a.of({className:e.classes.removing,el:t.el,onTransitionEnd:()=>n.next()}),c.a.raceStatic(n.pipe(c.a.first()),c.a.timer(e.timeout)).pipe(c.a.mapTo(a)))}))))),c.b.compact,c.a.switchAll(),c.a.shareReplay({refCount:!0,bufferSize:1}));return n.createElement(s.a.div,{className:t.pipe(c.a.map(e=>e.className)),onTransitionEnd:t.pipe(c.a.map(e=>e.onTransitionEnd))},t.pipe(c.a.map(e=>e.el)))}},StFb:function(e,t,a){"use strict";var n;function r(e){const t=e.replace(/\s/g,"");return null!==e&&null!==t.match(/^["'.,;:!?\\\/\-()]+$/)}function i(e){return null!==e&&null!==e.match(/^\s+$/)}function o(e,t){if(e.length<=4)return null;const a=s(e,t);if(void 0===a)return null;const{from:n,to:r,oldFragment:i,newFragment:o}=a,c=1===o.length&&n>0&&e[n-1]===o,l=1===i.length&&0===o.length&&t[n-1]===i;let d=n,p=o;return(c||l)&&(d=n-1),c&&(p=o+o),l&&(p=i),p.length>3?null:[e.substring(0,d),p,e.substring(r)]}function s(e,t){if(e===t)return;const a=e.length,n=t.length;if(n>a){if(t.substr(0,a)===e)return{from:a,to:a,oldFragment:"",newFragment:t.substr(a)};if(t.substr(n-a)===e)return{from:0,to:0,oldFragment:"",newFragment:t.substr(0,n-a)}}if(n<a){if(e.substr(a-n)===t)return{from:0,to:a-n,oldFragment:e.substr(0,a-n),newFragment:""};if(e.substr(0,n)===t)return{from:n,to:a,oldFragment:e.substr(n),newFragment:""}}const r=n<a?n:a,i=function(e,t,a){let n=0;for(;e[n]===t[n]&&n<a;)n+=1;return n}(e,t,r);let o=function(e,t,a,n,r){let i=0;for(;e[a-i-1]===t[n-i-1]&&r-i>=0;)i+=1;return i}(e,t,a,n,r);return i+o>a&&(o-=i+o-a),i+o>n&&(o-=i+o-n),{from:i,to:a-o,oldFragment:e.substr(i,a-o-i),newFragment:t.substr(i,n-o-i)}}a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"e",(function(){return s})),function(e){e.getClass=function(e,t){return null!==(a=t)&&1===a.length&&/["']/.test(a)?e.deleteApostrophe:function(e){return null!==e&&null!==e.match(/["'][.,;]/)}(t)?e.deleteQuote:r(t)?e.deletePunctuation:function(e){return null!==e&&null!==e.match(/,,/)}(t)?e.deleteDoubleComma:function(e){return null!==e&&1===e.length&&null!==e.match(/[a-z]/i)}(t)?e.deleteLetter:Boolean(function(e){return null!==e&&e.match(/[.,;:!?\\\/-]\s*[a-z]/i)}(t))?e.deletePunctuationBeforeLetter:e.deleteAll;var a}}(n||(n={}))},W0xG:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("6fbX"),r=a("D9EC"),i=a("PrA7"),o=a("wOnQ");const s=(e,t)=>{switch(e.kind){case"replacement":return function(e,t){Object(n.g)(Object(r.n)(e),"transforms should have at least one element");const[a]=e;return c(a)>-1?o.a.create(l(a),e.map(d),t,!0):o.g.create(e,t)}(e.content.map(e=>[{type:o.k.Insert,text:e}]),t);case"transform":return function(e,t){Object(n.g)(Object(r.n)(e),"transforms should have at least one element");const[a]=e;return c(a)>-1?o.a.create(l(a),e.map(d),t):function(e){return 2===e.length&&u(e)}(e)?o.i.create(e[0],e[1],t):u(e)?o.g.create(e,t):o.b.create(e,t)}(e.content.map(h),t);default:return Object(n.d)(e.kind)}};function c(e){return e.findIndex(e=>"arrow"===e.type)}function l(e){return e.slice(0,c(e))}function d(e){return e.slice(c(e)+1)}function p(e){return e.every(e=>"delete"!==e.type)}function u(e){return e.every(p)}function m(e,t){return{re:new RegExp(`^(${e})([\\s\\S]*)$`),createResult:t}}const g=[m("(?:\\<span class='gr_grammar_del'\\>([\\S\\s]*?)\\</span\\>)",e=>({type:o.k.Delete,text:e[2]})),m("(?:\\<span class='gr_grammar_ins'\\>([\\S\\s]*?)\\</span\\>)",e=>({type:o.k.Insert,text:e[2]})),m("()",e=>({type:o.k.Arrow})),m("([^<>]+)",e=>({type:o.k.Text,text:e[1]}))];function h(e){function t(e){for(const t of g){const a=e.match(t.re);if(null!==a)return[t.createResult(a),a[a.length-1]]}}function a(t){let a=["<span class='gr_grammar_del'>","<span class='gr_grammar_ins'>",""].map(e=>t.indexOf(e));if(a.findIndex(e=>0===e)>0)throw new Error(`Couldn't parse transform: ${e}`);if(a=a.filter(e=>e>0),Object(r.n)(a)){const e=Math.min(...a);return[{type:o.k.Text,text:t.substring(0,e)},t.substring(e)]}return[{type:o.k.Text,text:t},""]}const n=[];let s=e,c=!1,l=0,d=void 0;for(;Object(r.n)(s);){const e=t(s);void 0===e&&(c=!0);const[r,i]=e||a(s);d&&d.type===o.k.Text&&r.type===o.k.Text?d.text+=r.text:(d&&d.type===o.k.Delete&&r.type===o.k.Insert&&(n.push({type:o.k.Arrow}),l++),n.push(r)),r.type===o.k.Arrow&&l++,d=n[n.length-1],s=i}return(c||!Object(r.n)(n)||l>1)&&i.Monitoring.Logging.getLogger("model.editor.alert_replacement").warn("Bad parsing of transform",{transformHtml:e,transformPartCount:n.length,arrowCount:l}),n}},WOQ9:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("93Qa"),i=a("U75S"),o=a("OA+g"),s=a("I7vG"),c=a("xlCj"),l=a("lrqh"),d=a("hoSD"),p=a("7b34"),u=a("6fbX"),m=a("dE97"),g=a("GUi3"),h=a("yA7V"),f=a("kFFO"),b=a("TC4P"),y=a("W39u"),v=a("BeBM");!function(e){let t,a,n,C;e.filterAlertInLens=(e,t)=>l.a.filter(a=>m.a.isNotRemoved(a)||l.g.isSome(e.items.find(e=>t.hasAlert(a.id)(e)))),e.createWithInitialAlerts=(e,t,a,n,r)=>(i,c,d,p)=>{const u=Object(s.pipe)(p,l.g.fold(()=>o.identity,e=>r.selectItemByAlert(e,[]))),m=e.create(i,c),g=d.filter(a.alertVisibleInSidebar(i)),f=t(i);if(v.j.hasItems(m)){const e=h.a.empty,t=h.a.from(g),a=h.a.diff(e,t);return Object(s.pipe)(m,f(a,n),r.changeItemsVisualState(b.a.VisualState.initial({type:"rendered",clockwise:!0},!1)),u,e=>Object.assign(Object.assign({},e),{animation:v.b.skip}))}return m},function(e){e.setVisibleItems=e=>t=>Object.assign(Object.assign({},t),{cardIndex:Object(s.pipe)(v.k.getActiveItem(t),l.g.chain(t=>Object(s.pipe)(e.get(t.id),l.g.map(e=>e.index)))),items:e}),e.hideItem=function(e,t){return b.a.isAnimatable(e)&&"removed"!==e.visualState.transition.type&&"hidden"!==e.visualState.transition.type?t.transitionTo({type:"hidden",clockwise:!1})(e):e},e.calculateCardsHeight=e=>Object(s.pipe)(e.getAt(e.size-1),l.g.map(e=>e.positionState.absTop+e.positionState.height),l.g.getOrElse(()=>0));e.getItemsPositionsUpdateTransformer=t=>({state:a,metadata:n})=>{if(!v.e.hasCards(a))return l.b.left({state:a,metadata:n});const r=v.e.Prism.getLens();return l.b.left({state:r.modify(e.updateItemsPositions(t),a),metadata:n})},e.getSingleItemFeedPositionsUpdateTransformer=e=>({state:t,metadata:a})=>{if(!v.e.hasCards(t))return l.b.left({state:t,metadata:a});const n=v.e.Prism.getLens();return l.b.left({state:n.modify(t=>{const a=t.items.map((a,n,r)=>{const i=l.g.contains(r)(t.cardIndex)?{absTop:a.positionState.absTop,height:a.positionState.height,animationInProgress:t.animation(a,r),visible:!0,isHeightValid:!0,watched:!0,inert:a.positionState.inert}:Object.assign(Object.assign({},a.positionState),{visible:!1,isHeightValid:!0});return y.a.PositionState.eq.equals(a.positionState,i)?a:e.changePosition(i)(a)});return Object.assign(Object.assign({},t),{items:a,isCardsHeightValid:!0})},t),metadata:a})},e.getRemoveDisposedItemsTransformer=e=>({state:t,metadata:a})=>{if(!v.e.hasCards(t))return l.b.left({state:t,metadata:a});const n=v.e.Prism.getLens();return l.b.left({state:n.modify(t=>{const a=v.k.getActiveItem(t),n=t.items.filter(t=>!e.isScheduledToDispose(t)||Object(s.pipe)(a,l.g.exists(e=>e.id===t.id))),r=Object(s.pipe)(t,v.k.getActiveItemIndex(n));return Object.assign(Object.assign({},t),{items:n,cardIndex:r})},t),metadata:a})};const t=e=>t=>Object(s.pipe)(t.items.find((e=>t=>a=>a.positionState.watched&&!e.isHidden(a)&&Object(s.pipe)(t,l.g.forAll(e=>e.id!==a.id)))(e)(v.k.getActiveItem(t))),l.g.map(({value:t,index:a})=>({index:a,value:Object(s.pipe)(t,l.g.fromPredicate(t=>t.positionState.isHeightValid&&!e.isScheduledToDispose(t)))})));e.updateItemsPositions=a=>n=>{const r=v.k.getActiveItem(n),i=t(a)(n),o=Object(s.pipe)(i,l.g.chain(d.e.pick("value")),l.g.map(e=>e.positionState.height));let c=0;const p=Object(s.pipe)(r,l.g.forAll(e=>e.positionState.isHeightValid)),u=Object(s.pipe)(i,l.g.map(d.e.pick("index")),l.g.getOrElse(()=>(e=>Object(s.pipe)(e,l.g.map(e=>0===e?1:0),l.g.getOrElse(()=>0)))(n.cardIndex))),m=n.items.map((e,t,r)=>{const i=l.g.contains(r)(n.cardIndex),d=i||r===u,m=a.isScheduledToDispose(e)||(i?e.positionState.isHeightValid:l.g.isSome(o)),g=a.isScheduledToDispose(e)?a.useReferenceHeightOnRemove(e)?Object(s.pipe)(o,l.g.getOrElse(()=>e.positionState.height)):0:i?e.positionState.height:Object(s.pipe)(o,l.g.getOrElse(()=>e.positionState.height)),h={absTop:i||p?c:e.positionState.absTop,height:g,animationInProgress:n.animation(e,r),visible:e.positionState.visible,isHeightValid:m,watched:d,inert:e.positionState.inert};return c+=g,y.a.PositionState.eq.equals(e.positionState,h)?e:a.changePosition(h)(e)}),g=e.calculateCardsHeight(m),h=Object(s.pipe)(r,l.g.forAll(e=>e.positionState.isHeightValid))&&Object(s.pipe)(m.getAt(u),l.g.forAll(e=>e.positionState.isHeightValid));return Object.assign(Object.assign({},n),{items:m,cardsHeight:g,isCardsHeightValid:h})}}(t=e.Items||(e.Items={})),function(e){e.apply=(e,t,a,n)=>r=>Object(s.pipe)(e,p.a.reduce(r,(e,{alert:t})=>n([t])(e),(e,t,{alert:n})=>a([n])(e),(e,{alert:a})=>t([a])(e))),e.applyWithFilter=(e,t)=>(a,n,r,i)=>{const s=Object(o.flow)(l.a.partition(e),e=>Object(o.flow)(i(e.left),r(e.right)));return t(a,t=>n(t.filter(e)),s,i)}}(a=e.ApplyDiff||(e.ApplyDiff={})),function(e){e.items=c.a.create(e=>e.items,(e,a)=>t.setVisibleItems(e)(a)),e.getFeedItems=()=>c.a.create(e=>e.items,(e,a)=>t.setVisibleItems(e)(a))}(n=e.Prism||(e.Prism={})),e.getEq=e=>l.c.fromEquals((t,a)=>{if(t.kind===v.f.abstract||a.kind===v.f.abstract)return t.id===a.id;{const n=t,r=a;return t.id===a.id&&l.g.getEq(e).equals(v.k.getActiveItem(n),v.k.getActiveItem(r))&&n.meta.equals(a.meta)&&n.items.equals(r.items)}}),e.lensHash={hashCode:e=>{if(e.kind===v.f.abstract)return Object(f.b)(e.id);{const t=e;let a=7;return 31*(a=31*(a=31*a+Object(f.b)(e.id))+function(e){return Object(s.pipe)(e,l.g.fold(()=>2433880,e=>null==e?9735524:e.hashCode()<<2))}(v.k.getActiveItem(t)))+e.meta.count}}},function(e){function t(e,t,a){return n=>Object(s.pipe)(l.g.of(n),l.g.filter(e=>!a.isScheduledToDispose(e)&&t(e)),l.g.chain(a.hasActiveAlert),l.g.filter(t=>e.isRegistered(t.alert.id)))}e.getAlertReleaser=e=>({release:t=>a=>{const n=a.items.map(e.removeAlertFromItem([t],a)),r=Object(s.pipe)(a.cardIndex,l.g.chain(t=>Object(s.pipe)(n.findRightFrom(e.isScheduledToDispose,t),l.g.map(e=>e.index))),l.g.isSome)?v.b.skip:v.b.force;return Object.assign(Object.assign({},a),{animation:r,items:n})}}),e.getUnselectable=(e,t)=>({unselectItem:()=>a=>{const n=Object(s.pipe)(a,e,l.g.map(e=>a.items.add(Object(s.pipe)(e,t.unselect(l.g.none,a.itemsOrd)))),l.g.getOrElse(()=>a.items));return Object.assign(Object.assign({},a),{items:n,animation:v.b.force,cardIndex:l.g.none})}}),e.getHasChecksFeed=()=>({willShowChecksFeed:e=>e.type!==v.i.advanced}),e.getSelectableByAlert=(e,t)=>({selectItemByAlert:(a,n)=>r=>{if(!t.willShowChecksFeed(r))return r;const i=e(r),o=r.items.find(t.isSelectableByAlert(a));Object(u.g)(l.g.isSome(o),"Can not find card for provided alert. Unknown card or it is already disposed.",()=>a.alert.toString());const{value:c,index:d}=l.g.unsafeGet(o),p=Object(s.pipe)(i,l.g.map(e=>r.items.add(Object(s.pipe)(e,t.unselect(l.g.some(c),r.itemsOrd)))),l.g.getOrElse(()=>r.items)).add(Object(s.pipe)(c,t.selectByAlert(i,a,r.itemsOrd,n)));return Object.assign(Object.assign({},r),{items:p,animation:v.b.force,cardIndex:l.g.some(d)})}}),e.getSelectableById=(e,t)=>({selectItemById:(a,n)=>r=>{const i=e(r),o=r.items.get(a),{value:c,index:d}=l.g.unsafeGet(o),p=Object(s.pipe)(i,l.g.map(e=>r.items.add(Object(s.pipe)(e,t.unselect(l.g.some(c),r.itemsOrd)))),l.g.getOrElse(()=>r.items)).add(Object(s.pipe)(c,t.select(i,r.itemsOrd,n)));return Object.assign(Object.assign({},r),{items:p,animation:v.b.force,cardIndex:l.g.some(d)})}}),e.getItemReleaser=()=>({removeItemById:t=>a=>e.setVisibleItems(a.items.remove(t))(a)}),e.getMetaUpdatable=function(){return{updateMeta:e=>t=>Object.assign(Object.assign({},t),{meta:g.a.WithAlerts.setMeta(e)(t.meta)})}},e.getAnimatable=function(e,t){return{changeItemsVisualState:e=>a=>t.willShowChecksFeed(a)?Object.assign(Object.assign({},a),{items:a.items.map(t.changeVisualState(e))}):a,finishApplyAnimation:a=>n=>{Object(u.g)(a.every(e.shouldAnimateAlertApply),"Tried to finish animation on non-animated state");const r=n.id,i=e=>{const n=e.items.map(t.removeAlertFromItem(a,e));return Object.assign(Object.assign({},e),{items:n})};if(g.a.isOutcomeId(r))return i(n);switch(r){case g.a.SpecialId.Priority:case g.a.SpecialId.AllAlerts:case g.a.SpecialId.PredictionTakeaways:case g.a.SpecialId.PredictionEmogenie:case g.a.SpecialId.RealTimeProofit:case g.a.SpecialId.FreePremiumAlerts:return i(n);case g.a.SpecialId.Premium:throw new Error("It's not possible to animate premium alerts");case g.a.SpecialId.Plagiarism:return Object(u.g)(a.every(m.a.isPlagiarism),"tried to finish animation on non plagiarism alert in plagiarism lens"),i(n);default:return Object(u.d)(r)}}}},e.getVerifiable=function(e){return{shouldVerify:t=>Object(s.pipe)(v.k.getActiveItem(t),l.g.exists(t=>e.isScheduledToDispose(t)))||l.g.isNone(t.items.find(t=>!e.isScheduledToDispose(t)))}},e.getHasSelectableAlert=t,e.getHasAlerts=function(e,a,n,o){const c=e=>t(a,n(e),o),p=e=>e.id===g.a.SpecialId.Premium||e.id===g.a.SpecialId.Plagiarism?e.meta.count:Object(s.pipe)(v.k.getActiveItem(e),l.g.chain(o.hasActiveAlert),l.g.map(e=>e.alert),l.g.exists(m.a.isCapiDone))&&1===e.items.size?0:e.meta.count;return{getVisibleAlertsCount:p,getActiveAlertsCount:p,getActiveAlert:e=>Object(s.pipe)(v.k.getActiveItem(e),l.g.chain(o.hasActiveAlert)),findFirstAlert:e=>Object(s.pipe)(e.items.values(),i.T(c(e))),findNextAlert:t=>(Object(u.g)(l.g.isSome(v.k.getActiveItem(t))===l.g.isSome(t.cardIndex),"Lens is in wrong state"),Object(s.pipe)(Object(r.sequenceT)(l.g.option)(v.k.getActiveItem(t),t.cardIndex),l.g.chain(([a,n])=>Object(s.pipe)(e.nextAlert(a),l.g.alt(()=>e.prevAlert(a)),l.g.map(e=>({alert:e,highlightIndex:0})),l.g.alt(()=>Object(s.pipe)(d.a.lookAroundMap(t.items.values(),n,c(t)),l.g.map(e=>e.value))))),l.g.orElse(Object(s.pipe)(t.items.values(),i.T(c(t))))))}},e.setVisibleItems=e=>t=>Object.assign(Object.assign({},t),{cardIndex:Object(s.pipe)(v.k.getActiveItem(t),l.g.chain(t=>Object(s.pipe)(e.get(t.id),l.g.map(e=>e.index)))),items:e})}(C=e.Capabilities||(e.Capabilities={}))}(n||(n={}))},XCjp:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return i}));var n,r,i,o=a("OA+g"),s=a("I7vG"),c=a("lrqh"),l=a("D9EC"),d=a("6fbX"),p=a("dE97"),u=a("GUi3"),m=a("zR/0"),g=a("gy42"),h=a("5o4I"),f=a("BeBM");!function(e){let t;!function(e){e.AppliedAlertAnimationFinished="AppliedAlertAnimationFinished"}(t=e.Type||(e.Type={}))}(n||(n={})),function(e){e.Mock=class{constructor(){this.events=new m.a.Subject,this.focusAlertHighlight=()=>c.b.left(new Error("Method not implemented.")),this.highlightAlertHighlight=()=>c.b.left(new Error("Method not implemented.")),this.moveCursorToHighlight=l.e}ensureAlertHighlightInViewport(){throw new Error("Method not implemented.")}getMarkByAlert(e){throw new Error("Method not implemented.")}getAlertByMark(e){throw new Error("Method not implemented.")}},e.getHighlightIndex=function(e,t){return Object(s.pipe)(t,c.b.mapLeft(()=>new Error("Mark is collapsed")),c.b.chain(t=>c.b.tryCatchError(()=>{const a=e.getHighlightRanges(),n=a.length>1?a.findIndex(e=>e.start===t.start&&e.end===t.end):0;return Object(d.g)(-1!==n,"Could not find highlight index by Range for provided Alert",()=>JSON.stringify({alertRanges:a,targetRange:t})),n})))}}(r||(r={})),function(e){e.getHighlightSubscribtion=(e,t,a)=>e.pipe(m.a.distinctUntilChanged(c.g.getEq(p.d.ord).equals),m.a.switchMap(e=>Object(s.pipe)(e,c.g.fold(()=>m.a.EMPTY,e=>m.a.Observable.create(()=>(a.debug(`highlight mark: ${e.id}`),Object(s.pipe)(t.highlightAlertHighlight(e),c.b.fold(t=>(a.error(`Cannot highlight mark: ${e.id}`,t),l.e),t=>()=>{a.debug(`unhighlight mark: ${e.id}`),t.dispose()})))))))),e.getHoverAlertHightlightSource=(e,t,a,n)=>Object(s.pipe)(n,m.a.debounceTime(100),m.a.map(Object(o.flow)(c.g.chain(n=>{const r=e.get();return f.e.hasCards(r)?r.currentLens.items.find(e=>Object(s.pipe)(t.hasActiveAlert(e),c.g.map(e=>e.alert),c.g.exists(t=>e.id===n&&a.isRegistered(t.id)))):c.g.none}),c.g.chain(({value:e})=>t.hasActiveAlert(e)),c.g.map(e=>e.alert))),m.a.distinctUntilChanged(c.g.getEq(p.d.ord).equals),m.a.map(c.g.map(t=>({alert:t,highlightIndex:0,source:e.get().alertSource}))),m.a.startWith(c.g.none)),e.highlightMarkByHighlightedCard=(t,a,n,r,i,l)=>{const d=e.getHighlightSubscribtion(t.hovered.pipe(m.a.debounceTime(100),m.a.map(Object(o.flow)(c.g.chain(e=>{const t=a.get();return f.e.hasCards(t)?t.currentLens.items.find(t=>Object(s.pipe)(i.hasActiveAlert(t),c.g.map(e=>e.alert),c.g.exists(a=>t.id===e&&r.isRegistered(a.id)))):c.g.none}),c.g.chain(({value:e})=>i.hasActiveAlert(e)),c.g.map(e=>e.alert)))),n,l);return{id:"highlightMarkByHighlightedAlert",when:u.a.isWithAlertsId,what:f.e.Effect.Applicator.create(d.pipe(m.a.switchMapTo(m.a.NEVER)))}},e.getAlertHighlightSource=e=>t=>Object(s.pipe)(t,m.a.distinctUntilChanged(c.g.getEq(p.d.ord).equals),m.a.map(c.g.map(t=>({alert:t,source:e,highlightIndex:0}))),m.a.startWith(c.g.none)),e.getActiveHighlightSource=(e,t,a)=>e.view(f.e.mapper(({currentLens:e,alertSource:t})=>Object(s.pipe)(a(e),c.g.map(e=>({alert:e.activeAlert,source:t,highlightIndex:e.activeHighlightIndex}))))).pipe(m.a.switchMap(g.b.Scheduler.rafScheduler),m.a.skipBy(c.g.getEq(h.a.getEq())),m.a.map(c.g.filter(e=>c.g.isSome(t.getRegistered(e.alert.id))))),e.focusMarkByActiveAlert=(t,a,n,r,i)=>{const o=Object(s.pipe)(e.getActiveHighlightSource(t,n,r),m.a.tap(c.g.tap(e=>i.trace("new alert highlight: ",e))),m.a.switchMap(c.g.fold(()=>(i.debug("Nothing to focus"),m.a.EMPTY),e=>m.a.Observable.create(()=>(i.debug(`Focus mark: ${e.alert.id} | ${e.highlightIndex}`),e.source===p.b.sidebar&&a.moveCursorToHighlight(e,"start"),Object(s.pipe)(a.focusAlertHighlight(e),c.b.fold(t=>(i.error("Cannot focus mark",t,{alertId:e.alert.id,highlightIndex:e.highlightIndex}),l.e),t=>()=>{i.debug(`Unfocus mark: ${e.alert.id} | ${e.highlightIndex}'`),t.dispose()})))))));return{id:"focusMarkByActiveAlert",when:u.a.isWithAlertsId,what:f.e.Effect.Applicator.create(o.pipe(m.a.switchMapTo(m.a.NEVER)))}},e.focusAlertByClickedMark=(e,t)=>({id:"focusAlertByActiveMark",when:f.e.Effect.When.isSidebarOpen,what:f.e.Effect.SwitchAlert.create(e.alertClicked.pipe(m.a.skip(1),m.b.compact,m.a.filter(e=>p.a.State.isRegistered(e.alert.state)),m.a.withLatestFrom(t.pipe(m.a.filter(f.e.hasCards)),(e,t)=>e),m.a.map(({alert:e,highlightIndex:t})=>({alertHighlight:{alert:e,highlightIndex:t},alertSource:p.b.text,options:{order:"textOrder"}}))))}),e.createOnAlertApplySideEffect=function(e,t){const a=e.pipe(m.a.map(e=>a=>e.type===n.Type.AppliedAlertAnimationFinished&&a.currentLens.meta.filter(e.alert)&&p.a.isApplicableAlert(e.alert)&&f.e.hasItems(a)?a.patch({currentLens:t.finishApplyAnimation([e.alert])(a.currentLens),alertSource:e.alert.state.source}):a));return{id:"onAlertApply",when:f.e.Effect.When.isSidebarOpen,what:f.e.Effect.Applicator.create(a)}}}(i||(i={}))},"Xo/A":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("a5W6"),i=a("BbAu"),o=a("I7vG"),s=a("PK5a"),c=a("7b34"),l=a("lrqh"),d=a("6fbX"),p=a("v0pb");!function(e){function t(e,t){return a=>a.order.reduce((e,n)=>(Object(d.g)(a.entries.has(n),"got corrupted state"),t(e,a.entries.get(n))),e)}function a({added:e=new Map,updated:t=new Map,removed:a=new Map}){const n=new Map,r=c.a.fromMutation(r=>{a.forEach((e,t)=>{r.set(t,l.m.left(e))}),e.forEach((e,t)=>{r.has(t)?n.set(t,`alert add overlaps with alert remove: toAdd(${p.a.show.show(e)} overlapWith(${l.m.getShow(p.a.show,p.a.show).show(r.get(t))}))`):r.set(t,l.m.right(e))}),t.forEach(([e,t],a)=>{r.has(a)?n.set(a,`alert update overlaps with unexpected alert add/remove: toUpdate(${p.a.show.show(t)}) overlapWith(${l.m.getShow(p.a.show,p.a.show).show(r.get(a))}))`):r.set(a,l.m.both(e,t))})});return n.size>0?l.b.left({recovered:r,rejected:n}):l.b.right(r)}e.iso=s.iso(),e.empty={entries:new Map,order:[],latestChangeDiff:c.a.empty(),diffVersion:0},e.get=function(e){return t=>l.g.fromNullable(t.entries.get(e))},e.find=function(e){return t(l.g.none,(t,a)=>Object(o.pipe)(t,l.g.alt(()=>l.g.fromPredicate(e)(a))))},e.reduce=t,e.size=e=>e.entries.size,e.diff=function(e,t){return 0===e.diffVersion?l.b.unsafeGet(a({added:t.entries})):e.diffVersion+1===t.diffVersion?t.latestChangeDiff:l.e.symmetricDiff(p.a.ord)(e.entries,t.entries)},e.applyDiff=function(e){return t=>{const a=l.e.leftToRight(l.e.Merger.createStrict(p.a.ordShow),t.entries,e);return Object(o.pipe)(a,l.b.bimap(a=>{const n=c.a.fromMutation(t=>{Object(o.pipe)(e,c.a.forEach((e,n)=>!a.rejected.has(n)&&t.set(n,l.m.left(e)),(e,n,r)=>!a.rejected.has(r)&&t.set(r,l.m.both(e,n)),(e,n)=>!a.rejected.has(n)&&t.set(n,l.m.right(e))))});return{recovered:m(a.recovered,n,t.diffVersion),rejected:a.rejected}},a=>m(a,e,t.diffVersion)))}},e.applyDiffLoose=function(e){return t=>{const a=l.e.leftToRight(l.e.Merger.createLoose(p.a.ordShow),t.entries,e);return Object(o.pipe)(a,l.b.bimap(a=>({recovered:m(a.recovered,e,t.diffVersion),rejected:a.rejected}),a=>m(a,e,t.diffVersion)))}},e.createDiff=a,e.toJSON=function(e){return{entries:Array.from(e.entries),order:e.order,latestChangeDiff:c.a.toJSON(e.latestChangeDiff),diffVersion:e.diffVersion}},e.diffEqShow=Object.assign(Object.assign({},c.a.getEq(p.a.Id.ord,p.a.ord)),c.a.getShow(p.a.Id.show,p.a.show));const n=Object.assign(Object.assign({},l.e.getEq(p.a.Id.ord,p.a.ord)),l.e.getShow(p.a.Id.show,p.a.show)),u=Object.assign(Object.assign({},r.getEq(p.a.Id.ord)),r.getShow(p.a.Id.show));function m(e,t,a){return{entries:e,order:Object(o.pipe)(e,l.e.values(p.a.ord),r.map(e=>e.id)),latestChangeDiff:t,diffVersion:a+1}}e.contentEqShow=Object.assign(Object.assign({},l.c.getStructEq({entries:n,order:u,latestChangeDiff:l.c.eqEmpty,diffVersion:l.c.eqEmpty})),i.a({entries:n,order:u,latestChangeDiff:e.diffEqShow,diffVersion:i.d})),e.eqShow=Object.assign(Object.assign({},l.c.getStructEq({entries:n,order:u,latestChangeDiff:e.diffEqShow,diffVersion:l.c.eqNumber})),i.a({entries:n,order:u,latestChangeDiff:e.diffEqShow,diffVersion:i.d}))}(n||(n={}))},Yjm5:function(e,t,a){e.exports=a.p+"files/28aa0d261b04149285b4ec9850b7ae97/inter-medium.woff2"},Z5Rd:function(e,t,a){"use strict";a.d(t,"b",(function(){return A})),a.d(t,"a",(function(){return E}));var n=a("ERkP"),r=a("9NHN"),i=a("6fbX"),o=a("ax6a"),s=a("6gXa"),c=a("WIwS"),l=a("ps/9"),d=a("nnns"),p=a("tZ26"),u=a("BugA"),m=a("P+uJ");const g={position:"relative",width:s.a.percent(100)},h={position:"relative",margin:`0 0 ${s.a.rem(.5)}`},f={display:"flex",boxSizing:"border-box",padding:`${s.a.rem(1)} ${s.a.rem(2)} ${s.a.rem(1)} ${s.a.rem(.75)}`,width:s.a.percent(100),borderRadius:s.a.rem(l.s),background:o.a.BackgroundNotification,color:o.a.CoreNeutral0,textAlign:"left",letterSpacing:0,alignItems:"flex-start"},b={width:s.a.percent(100)},y={display:"inline-block",width:s.a.percent(100)},v={margin:`${s.a.rem(-.5)} ${s.a.rem(.75)} ${s.a.rem(-.5)} 0`},C={position:"absolute",top:0,right:0,marginTop:s.a.rem(.5),marginRight:s.a.rem(.4),marginLeft:s.a.rem(.5)},O={stroke:c.k},k={margin:`0 0 ${s.a.rem(.5)}`,color:o.a.CoreNeutral0,wordBreak:"break-word",fontWeight:"bold",fontSize:s.a.rem(o.h.BodySize),lineHeight:s.a.rem(1.25)},w={marginTop:s.a.rem(-.1),marginBottom:s.a.rem(-.25),color:o.a.CoreNeutral0,fontSize:s.a.rem(o.h.BodySize),lineHeight:s.a.rem(1.25)},S=s.a.prefixedStylesheet("notifications",{wrapper:[g],notification:[h],flexibleNotification:[h,{display:"flex",width:"auto"}],contentWrapper:[f],miniContentWrapper:[f,{position:"relative",width:"auto"}],fullWidthNotification:[h,f,b],content:[y],miniContent:[{flex:1}],alertIcon:[v],closeIconWrapper:[C],closeIcon:[O],header:[k],description:[w]});var A,E;!function(e){e.Wrapper=({notification:t,onClose:r,children:i,theme:o={}})=>{n.useEffect(()=>t.actions.next("shown"),[t.actions]);const s={wrapper:Boolean(o.wrapper)?o.wrapper:a.wrapper,content:void 0!==o.content?Object.assign({},a.content,o.content):a.content};return n.createElement("div",{className:s.wrapper},n.createElement(e.Base,{metadata:t.metadata,onClose:r,theme:s.content},i))},e.Base=({metadata:a,onClose:r,theme:i,children:o})=>n.createElement("div",{className:i.wrapper},t(a,i.icon),n.createElement("div",{className:i.content},o),!function(e){return e.priority===m.a.Priority.high||e.priority===m.a.Priority.highest}(a)&&n.createElement(e.CloseButton,{onClick:r,className:i.close}));const t=(t,a)=>{switch(t.icon){case m.a.Icon.sparkles:return n.createElement(p.d.Sparkles,{className:a});case void 0:case m.a.Icon.priority:return n.createElement(e.PriorityIcon,{priority:t.priority,className:a});default:return Object(i.d)(t.icon)}};e.AdHoc=({title:t,children:i,className:o,onClose:s})=>n.createElement("div",Object.assign({},Object(r.c)(a.content.wrapper,o)),n.createElement("div",{className:a.content.content},n.createElement(e.TitledContent,{title:t},i)),n.createElement(e.CloseButton,{onClick:s,className:a.content.close})),e.PriorityIcon=({priority:e,className:t})=>{switch(e){case m.a.Priority.lowest:case m.a.Priority.low:return n.createElement(p.d.NotificationInfo,{className:t});case m.a.Priority.average:return n.createElement(p.d.NotificationWarning,{className:t});case m.a.Priority.high:case m.a.Priority.highest:return n.createElement(p.d.NotificationError,{className:t});default:return Object(i.d)(e)}},e.CloseButton=({onClick:e,className:t})=>n.createElement(d.a,{name:"closeNotification",className:t,onClick:e},n.createElement(p.d.Close,{className:S.closeIcon,width:12})),e.TitledContent=({title:t,children:a})=>Boolean(a)?n.createElement(n.Fragment,null,n.createElement(u.P1,{className:S.header},t),n.createElement(e.Content,null,a)):n.createElement(u.P1,{className:S.description},t),e.Content=({children:e})=>n.createElement(u.Base,{className:S.description},e);const a={wrapper:S.wrapper,content:{wrapper:S.fullWidthNotification,icon:S.alertIcon,content:S.content,close:S.closeIconWrapper}}}(A||(A={})),function(e){e.Wrapper=({notification:e,onClose:t,children:a})=>(n.useEffect(()=>e.actions.next("shown"),[e.actions]),n.createElement("div",{className:S.flexibleNotification},n.createElement(A.Base,{metadata:e.metadata,onClose:t,theme:{wrapper:S.miniContentWrapper,icon:S.alertIcon,content:S.miniContent,close:S.closeIconWrapper}},a)))}(E||(E={}))},agjt:function(e,t,a){e.exports=a.p+"files/7f67ab6aeebccf32e1fdc69b4b9a01de/inter-light.woff2"},bFfh:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n,r=a("WOQ9"),i=a("GUi3"),o=a("BeBM");!function(e){let t;e.create=function(e,a){return Boolean(t)||(t={id:i.a.SpecialId.Closed,kind:o.f.abstract,type:o.i.closed,meta:i.a.createStaticLens({id:i.a.SpecialId.Closed,title:"Closed"},i.a.Meta.group.empty,e),hashCode(){return r.a.lensHash.hashCode(this)},equals(e){return r.a.getEq(a).equals(this,e)}}),t}}(n||(n={}));var s,c,l=a("OA+g"),d=a("lrqh"),p=a("kFFO");(c=s||(s={})).create=()=>({id:i.a.SpecialId.DraftAI,type:o.i.draftAI,kind:o.f.abstract,meta:i.a.createStaticLens({id:i.a.SpecialId.DraftAI,title:"Draft AI"},i.a.Meta.group.empty,l.constFalse),transitionSource:d.g.none,hashCode(){return Object(p.b)(this.id)},equals(e){return this.id===e.id}}),c.createFromTransitionSource=e=>Object.assign(Object.assign({},c.create()),{transitionSource:d.g.some(e)});var u,m,g,h=a("m6JR"),f=a("I7vG"),b=a("6fbX"),y=a("hoSD"),v=a("dE97"),C=a("aIes"),O=a("UEGg");!function(e){function t(e){return C.a.groupBy("cardId",e)}e.create=function(e,t,a){Object(b.g)(e.id===i.a.SpecialId.Plagiarism,"Cannot create plagiarism lens vm on non-plagiarism lens",e.id);const n=C.a.Sorted.empty(e=>e.id,a.compare),s=d.g.none;return{id:i.a.SpecialId.Plagiarism,kind:o.f.persistent,type:o.i.plagiarism,meta:e,cardIndex:s,items:n,itemsOrd:a,animation:o.b.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.a.lensHash.hashCode(this)},equals(e){return r.a.getEq(t).equals(this,e)}}},e.updateCardsWithLensMeta=function(e){return t=>t.id===i.a.SpecialId.Plagiarism?Object.assign(Object.assign({},t),{items:t.items.map(t=>O.a.isPlagiarism(t.activeAlert)?e.changePlagiarismMetaWithAlerts(t,t.alerts.filter(O.a.isPlagiarism)):t)}):t},e.add=e=>a=>n=>{const r=t(a),i=Array.from(r.entries()).reduce((t,[a,n])=>Object(f.pipe)(t.update(a,t=>e.addPlagiarismAlerts(t,n)),d.b.fold(()=>t.add(e.createAdded(a,n)),l.identity)),n.items),s=Object(f.pipe)(o.k.getActiveItem(n),d.g.map(({id:e})=>d.g.unsafeGet(i.get(e)).index)),c=d.g.getEq(h.eqNumber).equals(s,n.cardIndex)?o.b.force:o.b.skip;return Object.assign(Object.assign({},n),{cardIndex:s,items:i,animation:c})},e.remove=e=>a=>n=>{const r=t(a),i=o.k.getActiveItem(n),s=Array.from(r.entries()).reduce((t,[a,r])=>Object(f.pipe)(t.update(a,t=>{const a=Object(f.pipe)(e.remove(t,r,Object(f.pipe)(i,d.g.map(e=>n.itemsOrd.compare(t,e)>0),d.g.getOrElse(l.constTrue))),t=>e.changePlagiarismMetaWithAlerts(t,t.alerts.filter(O.a.isPlagiarism)));return Object(f.pipe)(i,d.g.exists(e=>e.id===a.id))?e.selectNextAlert(a,n.itemsOrd):a}),d.b.fold(()=>t,l.identity)),n.items);return Object.assign(Object.assign({},n),{items:s,animation:o.b.force})},e.update=t=>a=>n=>e.updateWithAlerts(t)(a.filter(Object(l.not)(t.shouldAnimateAlertApply)))(n),e.updateWithAlerts=a=>n=>r=>{const[i,s]=y.a.partition(n,v.a.isRegistered),c=t(i),p=Array.from(c.entries()).reduce((e,[t,n])=>Object(f.pipe)(e.update(t,e=>a.changePlagiarismMetaWithAlerts(e,e.alerts.filter(O.a.isPlagiarism))),d.b.fold(()=>e.add(a.createAdded(t,n)),l.identity)),e.remove(a)(s)(r).items),u=Object(f.pipe)(o.k.getActiveItem(r),d.g.map(({id:e})=>Object(f.pipe)(p.get(e),d.g.map(({index:e})=>e),d.g.getOrElse(()=>0))));return Object.assign(Object.assign({},r),{cardIndex:u,items:p,animation:o.b.proceed})},e.getAlertsHandler=function(t){return a=>r.a.ApplyDiff.apply(a,e.add(t),e.update(t),e.remove(t))}}(u||(u={})),(g=m||(m={})).create=function(e,t,a){const n=C.a.Sorted.empty(e=>e.id,a.compare);return{id:i.a.SpecialId.Premium,kind:o.f.active,type:o.i.advanced,meta:e,items:n,itemsOrd:a,cardIndex:d.g.none,animation:o.b.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.a.lensHash.hashCode(this)},equals(e){return r.a.getEq(t).equals(this,e)}}},g.getAlertsHandler=function(e,t){return a=>r.a.ApplyDiff.apply(a,g.add(e),g.update(e,t),g.remove(t))},g.add=e=>t=>a=>{const n=t.map(e.createFromAlert(a.id)),r=a.items.add(n),i=o.k.getActiveItemIndex(r)(a);return Object.assign(Object.assign({},a),{cardIndex:i,items:r,animation:o.b.proceed})},g.remove=e=>t=>a=>{const n=new Set(t.map(e=>e.id)),r=a.items.filter(Object(l.flow)(e.hasActiveAlert,d.g.map(e=>e.alert),d.g.exists(e=>n.has(e.id)))).reduce((e,t)=>e.remove(t.id),a.items),i=o.k.getActiveItemIndex(r)(a);return Object.assign(Object.assign({},a),{cardIndex:i,items:r})},g.update=(e,t)=>a=>n=>{const[r,i]=y.a.partition(a,v.a.isRegistered);return Object(l.pipe)(n,g.remove(t)(i),g.add(e)(r))};var k,w=a("93Qa"),S=a("a5W6"),A=a("D9EC"),E=a("IVzZ");!function(e){const t=v.d.ord;function a(e){return e.id}function n(e){const t=e.map(e=>[E.a.getAlertOutcomeBundle(e),e]);return C.a.groupBy(([e,t])=>a(e),t)}e.getCardId=a,e.initCardsHash=function(e,a,r,i,o){Object(b.g)(Object(f.pipe)(r,d.g.forAll(({alertIndex:e})=>void 0!==a[e])),"Can not find alert for provided alertIndex");const s=n(a),c=Object(f.pipe)(r,d.g.map(({alertIndex:e})=>(Object(b.g)(void 0!==a[e],"Can not find alert for provided alertIndex"),a[e])));let l=d.g.none;const p=C.a.Sorted.empty(E.a.getId,o.compare),u=Array.from(s.entries()).reduce((a,[n,r])=>{const o=r.map(([e,t])=>t),s=r[0][0];return Object(f.pipe)(c,d.g.map(e=>o.indexOf(e)),d.g.filter(e=>e>-1),d.g.fold(()=>a.add(i.createRendered(e)(n,s,o,t)),r=>{const c=i.createFocused(e)(n,s,o,r,t);return l=d.g.some(n),a.add(c)}))},p);return{cardIndex:Object(f.pipe)(l,d.g.chain(e=>Object(f.pipe)(u.get(e),d.g.map(e=>e.index)))),cards:u}},e.create=function(e,t,a,n){const i=C.a.Sorted.empty(E.a.getId,n.compare),s=d.g.none;return{id:e,type:o.i.lensview,kind:o.f.persistent,meta:t,withPriorityList:!1,cardIndex:s,items:i,itemsOrd:n,animation:o.b.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.a.lensHash.hashCode(this)},equals(e){return r.a.getEq(a).equals(this,e)}}},e.add=(e,a)=>r=>i=>{if(0===r.length)return i;const s=n(r),c=Array.from(s.entries()).reduce((n,[r,o])=>{const s=o.map(([e,t])=>t),c=o[0][0];return Object(f.pipe)(n.update(r,e=>a.updateWithAlerts(s)(e)),d.b.fold(()=>n.add(e.createAdded(i.id)(r,c,s,t)),l.identity))},i.items),p=Object(f.pipe)(i,o.k.getActiveItemIndex(c)),u=d.g.getEq(h.eqNumber).equals(p,i.cardIndex)?o.b.force:o.b.skip;return Object.assign(Object.assign({},i),{cardIndex:p,items:c,animation:u})},e.remove=e=>t=>a=>{const r=n(t),i=Array.from(r.entries()).reduce((t,[n,r])=>Object(f.pipe)(t.update(n,t=>e.removeAlertFromItem(r.map(([e,t])=>t),a)(t)),d.b.fold(()=>t,l.identity)),a.items),s=Object(f.pipe)(a,o.k.getActiveItemIndex(i));return Object.assign(Object.assign({},a),{cardIndex:s,items:i,animation:o.b.force})},e.update=(t,a,n)=>r=>i=>e.updateWithAlerts(t,n)(r.filter(Object(A.m)(a.shouldAnimateAlertApply)))(i),e.updateWithAlerts=(a,i)=>s=>c=>{if(0===s.length)return c;const{left:p,right:u}=Object(f.pipe)(s,r.a.filterAlertInLens(c,i),S.partition(v.a.isRegistered)),m=n(u),g=Array.from(m.entries()).reduce((e,[n,r])=>{const o=r.map(([e,t])=>t),s=r[0][0];return Object(f.pipe)(e.update(n,e=>i.updateWithAlerts(o)(e)),d.b.fold(()=>e.add(a.createAdded(c.id)(n,s,o,t)),l.identity))},e.remove(i)(p)(c).items),h=Object(f.pipe)(c,o.k.getActiveItemIndex(g));return Object.assign(Object.assign({},c),{cardIndex:h,items:g,animation:o.b.proceed})},e.getAlertsHandler=function(t,a,n){return(i,o)=>s=>{const c=r.a.ApplyDiff.applyWithFilter(o,r.a.ApplyDiff.apply);return Object(f.pipe)(s,c(i,e.add(t,n),e.update(t,a,n),e.remove(n)))}},e.getHasAlerts=function(e,t,a,n){const i=r.a.Capabilities.getHasAlerts(e,t,a,n),s=e=>r.a.Capabilities.getHasSelectableAlert(t,a(e),n);return Object.assign(Object.assign({},i),{findNextAlert:t=>Object(f.pipe)(Object(w.sequenceT)(d.g.option)(o.k.getActiveItem(t),t.cardIndex),d.g.chain(([a,n])=>Object(f.pipe)(e.nextAlert(a),d.g.alt(()=>e.prevAlert(a)),d.g.alt(()=>Object(f.pipe)(y.a.findIndexFromMap(t.items.values(),n+1,s(t)),d.g.alt(()=>y.a.findIndexFromMap(t.items.values(),0,s(t))),d.g.chain(e=>Object(f.pipe)(t.items.getAt(e.index),d.g.map(e=>e.alerts[0]))))))),d.g.map(e=>({alert:e,highlightIndex:0})))})}}(k||(k={}));var x,I,j,T,N=a("GRZr"),L=a("uqkn"),B=a("TC4P"),P=a("W39u"),F=a("AK7F");!function(e){let t;function a(e,t){return`${e.id}_${t.id}`}e.isInSuccess=function(e,t=l.constTrue){return a=>0===a.meta.count&&(0===a.items.filter(t).size||d.g.isNone(a.items.filter(t).find(t=>!e.isScheduledToDispose(t))))},function(t){function a(t){return a=>o.e.hasSuccess(a)&&o.e.hasItems(a)&&e.isInSuccess(t)(a.currentLens)}t.isInSuccess=a,t.isInGlobalSuccess=e=>t=>(o.e.is(i.a.SpecialId.AllAlerts)(t)||o.e.is(i.a.SpecialId.Priority)(t))&&a(e)(t)}(t=e.State||(e.State={})),e.getCardId=a,e.create=function(e,t,a,n){const i=C.a.Sorted.empty(L.a.getId,n.compare),s=d.g.none;return{id:e,type:o.i.lensview,kind:o.f.persistent,withPriorityList:!1,meta:t,cardIndex:s,items:i,itemsOrd:n,animation:o.b.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.a.lensHash.hashCode(this)},equals(e){return r.a.getEq(a).equals(this,e)}}},e.add=(e,t,n)=>i=>s=>{const c=i.map(i=>{const o=t.createAdded(s.id)(a(s.meta,i),i);return e(s,i)?o:r.a.Items.hideItem(o,n)}),l=s.items.add(c),p=o.k.getActiveItemIndex(l)(s),u=d.g.getEq(h.eqNumber).equals(p,s.cardIndex)?o.b.force:o.b.skip;return Object.assign(Object.assign({},s),{cardIndex:p,items:l,animation:u})},e.remove=e=>t=>a=>{const n=new Set(t.map(e=>e.id)),r=a.items.map(e.remove(Object(l.flow)(e.hasActiveAlert,d.g.map(e=>e.alert),d.g.fold(l.constFalse,e=>n.has(e.id))),e=>Object(f.pipe)(o.k.getActiveItem(a),d.g.map(t=>a.itemsOrd.compare(e,t)>0),d.g.getOrElse(l.constTrue)))),i=Object(f.pipe)(a.cardIndex,d.g.chain(t=>Object(f.pipe)(r.findRightFrom(t=>e.isScheduledToDispose(t),t),d.g.map(e=>e.index))),d.g.isSome)?o.b.skip:o.b.force,s=Object(f.pipe)(a,o.k.getActiveItemIndex(r));return Object.assign(Object.assign({},a),{cardIndex:s,items:r,animation:i})},e.update=(t,a,n)=>r=>i=>e.updateWithAlerts(a,t,n)(r.filter(Object(A.m)(a.shouldAnimateAlertApply)))(i),e.updateWithAlerts=(e,t,n)=>i=>s=>{if(0===i.length)return s;const c=Object(f.pipe)(i,r.a.filterAlertInLens(s,n),S.map(e=>[a(s.meta,e),e]),S.reduce(s.items,(a,[i,o])=>Object(f.pipe)(a.update(i,n.updateWithAlerts([o])),d.b.fold(()=>{const c=e.createAdded(s.id)(i,o);return a.add(t(s,o)?c:r.a.Items.hideItem(c,n))},l.identity)))),p=o.k.getActiveItemIndex(c)(s);return Object.assign(Object.assign({},s),{cardIndex:p,items:c,animation:o.b.proceed})},e.getAlertHandler=function(t,a,n=l.constTrue){return(i,o)=>{const s=r.a.ApplyDiff.applyWithFilter(o,r.a.ApplyDiff.apply);return r=>Object(f.pipe)(r,s(i,e.add(n,t,a),e.update(n,t,a),e.remove(a)))}}}(x||(x={})),function(e){function t(e,t){return Object(f.pipe)(o.k.getActiveItem(e),d.g.chain(t.hasActiveAlert),d.g.map(e=>!O.a.isPriority(e.alert)),d.g.getOrElse(()=>!1))}function a(e){return Object(f.pipe)(e.items.get(F.a.id),d.g.map(({value:e})=>F.a.isPriorityToggle(e)&&F.a.isExpanded(e)),d.g.getOrElse(()=>!1))}function n(e,t,a){return 0!==e.meta.count&&0===e.meta.priorityCount&&0===e.items.filter(Object(A.b)(t,e=>!a.isScheduledToDispose(e))).size}let s;function c(e,t){return r=>o.e.hasSuccess(r)&&x.isInSuccess(t)(r.currentLens)||o.e.isWithPriorityList(r)&&(x.isInSuccess(t,Object(A.m)(F.a.isPriorityItem))(r.currentLens)||n(r.currentLens,e,t)&&!a(r.currentLens))}e.ord=Object(N.fold)(d.h.getMonoid())([Object(f.pipe)(d.h.ordBoolean,d.h.contramap(F.b.isPriorityToggleHint)),Object(f.pipe)(d.h.ordBoolean,d.h.contramap(F.a.isPriorityToggle)),L.a.ord]),e.create=function(e,t,a,n){const i=C.a.Sorted.empty(L.a.getId,n.compare),s=d.g.none;return{id:e,type:o.i.lensview,kind:o.f.persistent,itemsOrd:n,meta:t,cardIndex:s,items:i,animation:o.b.skip,withPriorityList:!0,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.a.lensHash.hashCode(this)},equals(e){return r.a.getEq(a).equals(this,e)}}},e.getHasPriorityToggle=function(e){return{toggleNonPriorityList:n=>r=>{const i=a(r);if("collapsed"===n&&!i||"expanded"===n&&i)return r;const s=t(r,e),c=u(r.items,!i,!i&&s,e);return Object.assign(Object.assign({},r),{items:c,cardIndex:s&&i?d.g.none:r.cardIndex,animation:o.b.proceed})}}},e.focusedCardIsNonPriority=t,e.isNonPriorityListOpened=a,e.onlyNonPriorityAlertsLeft=n,e.nonPriorityAlertsVisible=function(e){return!o.e.isWithPriorityList(e)||a(e.currentLens)},function(e){e.fromLensState=e=>t=>e.currentLens.id!==t||o.e.isWithPriorityList(e)&&!a(e.currentLens)?o.h.priorityAlertsOnly:o.h.allAlerts}(s=e.LensViewMode||(e.LensViewMode={})),e.isInSuccess=c,e.isInGlobalSuccess=function(e,t){return a=>(o.e.is(i.a.SpecialId.AllAlerts)(a)||o.e.is(i.a.SpecialId.Priority)(a))&&c(e,t)(a)},e.getSyncVisibleCardsHandler=function(e){return n=>{if(!i.a.isWithSuccessId(n.id))return n;let r=p(n.items);const s=t(n,e);r=u(r,a(n)||s,s,e);const c=o.k.getActiveItemIndex(r)(n);return Object.assign(Object.assign({},n),{cardIndex:c,items:r,animation:o.b.proceed})}};const l=e=>Object.assign(Object.assign({},e),{transitionTo:t=>a=>B.a.isAnimatable(a)&&a.visualState.transition.type!==t.type?e.transitionTo(t)(a):a});function p(e){return e.has(F.a.id)||0===e.size?e:e=(e=e.add(F.a.create("expanded",P.a.PositionState.empty))).add(F.b.create("visible",P.a.PositionState.empty))}function u(e,t,a,n){const i=l(n),o=0===e.filter(e=>!n.isScheduledToDispose(e)&&Object(f.pipe)(n.hasActiveAlert(e),d.g.map(e=>e.alert),d.g.exists(Object(A.m)(O.a.isPriority)))).size;return e.map(e=>Object(f.pipe)(n.hasActiveAlert(e),d.g.fold(()=>F.a.isPriorityItem(e)?o?F.a.isPriorityToggle(e)?F.a.transitionTo(e,"hidden"):F.b.transitionTo(e,"hidden"):F.a.isPriorityToggle(e)?t||a?F.a.transitionTo(e,"expanded"):F.a.transitionTo(e,"collapsed"):t||a?F.b.transitionTo(e,"visible"):F.b.transitionTo(e,"hidden"):e,a=>t||O.a.isPriority(a.alert)?B.a.isAnimatable(e)&&B.a.isHidden(e)?i.transitionTo({type:"rendered",clockwise:!0})(e):e:r.a.Items.hideItem(e,n))))}e.isAlertVisible=function(e,t){return"priority"===t.view||a(e)},e.ensureExpandCardIsPresent=p,e.syncVisibleCards=u,e.getHasAlerts=function(e,t,i,s,c){const l=r.a.Capabilities.getHasAlerts(e,t,e=>a(e)&&n(e,s,c)?i(e):t=>i(e)(t)&&Object(f.pipe)(c.hasActiveAlert(t),d.g.map(e=>e.alert),d.g.exists(O.a.isPriority)),c);return Object.assign(Object.assign({},l),{getVisibleAlertsCount:e=>Object(f.pipe)(o.k.getActiveItem(e),d.g.chain(c.hasActiveAlert),d.g.map(e=>e.alert),d.g.exists(v.a.isCapiDone))&&1===e.items.size?0:a(e)?e.meta.count:e.meta.priorityCount})}}(I||(I={})),(T=j||(j={})).Prism=r.a.Prism,T.Items=r.a.Items,T.Capabilities=r.a.Capabilities,T.ApplyDiff=r.a.ApplyDiff,T.filterAlertInLens=r.a.filterAlertInLens,T.lensHash=r.a.lensHash,T.getEq=r.a.getEq,T.Closed=n,T.DraftAI=s,T.Plagiarism=u,T.Premium=m,T.WithBundles=k,T.WithPriority=I,T.WithSuccess=x},bP7Z:function(e,t,a){e.exports=a.p+"files/2126cfb653b81bad8401da0a98c6bd25/inter-bold.woff2"},bYZB:function(e,t,a){"use strict";a.d(t,"g",(function(){return n})),a.d(t,"f",(function(){return r})),a.d(t,"h",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return c})),a.d(t,"e",(function(){return l})),a.d(t,"d",(function(){return d}));var n,r,i,o,s,c,l,d,p=a("m6JR"),u=a("hoSD"),m=a("6fbX"),g=a("D9EC"),h=a("+JVj");!function(e){var t;!function(t){var a;!function(e){e.user="user",e.api="api",e.doubleClick="doubleClick"}(a=t.Source||(t.Source={})),t.eq=Object(p.fromEquals)((function(t,n){return t.source===n.source&&(t.source===a.doubleClick&&n.source===a.doubleClick?t.selectedWord===n.selectedWord:e.eqFormatting.equals(t.formatting,n.formatting))}))}(t=e.Meta||(e.Meta={})),e.nonEmpty=function(e){return e.length>0},e.isEmpty=function(e){return 0===e.length},e.toTextRange=function(e){return h.b.create(e.index,e.index+e.length)},e.isUserSelection=function(e){return e.meta.source===t.Source.user},e.isApiSelection=function(e){return e.meta.source===t.Source.api},e.isDoubleClickSelection=function(e){return e.meta.source===t.Source.doubleClick},e.eqRange=Object(p.fromEquals)((function(e,t){return e.index===t.index&&e.length===t.length})),e.eqFormatting=Object(p.fromEquals)(u.e.deepEqual),e.eq=Object(p.fromEquals)((function(t,a){return e.eqRange.equals(t,a)&&e.Meta.eq.equals(t.meta,a.meta)})),e.empty={index:0,length:0,meta:{source:e.Meta.Source.user,formatting:{}}}}(n||(n={})),function(e){e.DenaliOtherDocSession="denaliOtherDocSession",e.DenaliSameDocSession="denaliSameDocSession",e.MSOutlook="outlook",e.MSWord="word",e.MSWordOnline="wordOnline",e.MSExcel="excel",e.MSOffice="msoffice",e.ProbablyMSOutlookOnline="probablyMSOutlookOnline",e.GDocs="gdocs",e.GSheets="gsheets",e.ProbablyGMail="probablyGmail",e.CocoaHTMLWriter="cocoaHTMLWriter",e.DropboxPaper="dropbox_paper",e.PlainText="plainText",e.Unknown="unknown",e.Synthetic="synthetic"}(r||(r={})),function(e){e.empty={top:0,bottom:0}}(i||(i={})),function(e){!function(e){e.top="top",e.middle="middle",e.bottom="bottom"}(e.Y||(e.Y={})),function(e){e.left="left",e.middle="middle",e.right="right"}(e.X||(e.X={})),function(t){t.toViewport=function(t){return function(a){switch(a){case e.X.left:return t.left;case e.X.middle:return t.left+t.width/2;case e.X.right:return t.right;default:return Object(m.d)(a)}}}}(e.X||(e.X={})),function(t){t.toViewport=function(t){return function(a){switch(a){case e.Y.top:return t.top;case e.Y.middle:return t.top+t.height/2;case e.Y.bottom:return t.bottom;default:return Object(m.d)(a)}}}}(e.Y||(e.Y={}))}(o||(o={})),function(e){var t;!function(e){e.textMaybeWithFormatting="text",e.onlyFormatting="formatting"}(t=e.Type||(e.Type={})),e.isTextMaybeWithFormatting=function(e){return e.type===t.textMaybeWithFormatting},e.isOnlyFormatting=function(e){return e.type===t.onlyFormatting}}(s||(s={})),function(e){e.none="none",e.fast="fast",e.initial="initial",e.fake="fake"}(c||(c={})),function(e){var t;!function(e){e.bold="bold",e.italic="italic",e.underline="underline",e.strike="strike",e.header1="header1",e.header2="header2",e.bulletList="bulletList",e.dashedList="dashedList",e.orderedList="orderedList",e.link="link"}(t=e.Type||(e.Type={})),e.is=function(e){return Object(g.v)(t,e)},e.asList=Object.values(e.Type),function(e){e.is=function(e){return void 0!==e[t.link]}}(e.LinkPayload||(e.LinkPayload={}))}(l||(l={})),function(e){e.undo="undo",e.redo="redo",e.cut="cut",e.copy="copy",e.paste="paste",e.selectAll="selectAll"}(d||(d={}))},beGk:function(e,t,a){e.exports=a.p+"files/d5e790be1041e248afed3159b60a25a8/inter-bolditalic.woff2"},cVtq:function(e,t,a){"use strict";a.d(t,"a",(function(){return Y})),a.d(t,"c",(function(){return X})),a.d(t,"b",(function(){return K})),a.d(t,"e",(function(){return Q})),a.d(t,"f",(function(){return te})),a.d(t,"d",(function(){return ae})),a.d(t,"g",(function(){return ne}));var n=a("ERkP"),r=a("OA+g"),i=a("I7vG"),o=a("9NHN"),s=a("LNSM"),c=a("vOOZ"),l=a("hoSD"),d=a("6fbX"),p=a("D9EC"),u=a("lrqh"),m=a("rk+4"),g=a("lRnN"),h=a("wOnQ"),f=a("XxrX"),b=a("N19O"),y=a("9/oM"),v=a("nnns"),C=a("BnIB"),O=a("tZ26"),k=a("FieF"),w=a("BugA"),S=a("zR/0"),A=a("BT8e"),E=a("StFb");const x=e=>e?A.a:A.b,I=({transform:e,title:t,disabled:a,boldifier:r=F,classes:i,onClick:o})=>n.createElement(v.a,{animationMode:C.a.FromClickPoint,name:"apply-insert",onClick:o,title:t,disabled:a,className:i.itemInsert},e.map((e,t)=>n.createElement(n.Fragment,{key:t},r(e,i.diff)))),j=({transform:e,theme:t,showOnboarding:a,onClick:r,onExpand:i})=>{const s=n.useContext(m.a.Context),c=e.label.map((e,t)=>n.createElement(n.Fragment,{key:t},e.text)),l=n.createElement(v.a,Object.assign({animationMode:C.a.FromClickPoint,name:"expand-insert",onClick:i,title:s.synfony.drilldownTooltip(c)},Object(o.c)(t.itemInsert,t.drilldownArrowButton)),n.createElement(O.d.Arrow,{direction:O.a.right,className:t.drilldownIcon}));return n.createElement("div",{className:t.drilldownInsertGroup},n.createElement(v.a,{animationMode:C.a.FromClickPoint,name:"apply-insert",onClick:r,title:s.synfony.applyTooltip,className:t.itemInsert},c),Boolean(e.subLabels.length)&&(a?n.createElement(Z,null,l):l))},T=({transform:e,title:t,theme:a,onClick:r})=>n.createElement(v.a,Object.assign({animationMode:C.a.FromClickPoint,name:"apply-remove"},{onClick:r,title:t,className:a.itemRemove}),e.map((e,t)=>n.createElement(R,{key:t,element:e,theme:a}))),N=({transform:e,title:t,theme:a,onClick:r,children:i})=>n.createElement("div",{className:a.removeOrContainer},e.map((i,o)=>"text"===i.type?n.createElement("span",{key:o,className:o===e.length-1?a.itemContextShifted:a.itemContext},i.text):n.createElement(v.a,Object.assign({key:o,animationMode:C.a.FromClickPoint,name:"apply-remove-or"},{onClick:r,title:t,className:a.itemRemove}),n.createElement(R,{element:i,theme:a}))),i),L=e=>n.createElement("span",{className:e.classes.or},n.useContext(m.a.Context).card.or),B=({transform:e,replacements:t,boldifier:a=F,theme:r,strikeThrough:s=!0})=>{const c=e.every(e=>null===e.text.match(/\n/)),d=e.map(e=>e.text).join(""),p=1===t.length?t[0].map(e=>e.text).join(""):"",u=Object(E.e)(d,p),m=Object(i.pipe)(null==u?void 0:u.oldFragment,e=>Boolean(e)&&l.f.containsSpacesOnly(e)),g=c&&m;return n.createElement("div",Object.assign({},Object(o.c)(r.itemOriginal,s&&r.itemOriginalStrikeThrough)),n.createElement("span",Object.assign({},Object(o.c)(r.itemOriginalContent,g&&r.spacesOnlyContent)),e.map((e,t)=>n.createElement(n.Fragment,{key:t},a(e,r.diff)))))},P=({transform:e,boldifier:t=F,header:a,classes:r,onClick:i})=>n.createElement(v.a,{name:"apply-insert",onClick:i,className:r.item},Boolean(a)?n.createElement("div",{className:r.inlineHeader},a):null,e.map((e,a)=>n.createElement(n.Fragment,{key:a},t(e,r.diff)))),F=l.e.pick("text"),D=({text:e,type:t},a)=>"text"===t?e:n.createElement("span",{className:a},e),$=e=>(t,a)=>r=>n.createElement(Y,{index:a,oldText:t,newText:r.text,theme:e}),R=({element:e,strikeClass:t,theme:a})=>"delete"===e.type?n.createElement("span",Object.assign({},Object(o.c)(E.a.getClass(a,e.text),t)),e.text):n.createElement(n.Fragment,null,e.text);const M=/^\W/,_=(e,t)=>{switch(e.type){case h.k.Delete:return t.fullSentenceDelete;case h.k.Insert:return M.test(e.text)?t.fullSentenceInsertPunctuation:t.fullSentenceInsert;case h.k.Text:case h.k.List:return"";default:return Object(d.d)(e)}},W=(e,t)=>{switch(e.type){case h.k.Delete:return t.fullSentenceHidden;case h.k.List:case h.k.Text:case h.k.Insert:return"";default:return Object(d.d)(e)}},H=(e,t)=>{switch(e.type){case h.k.Delete:return t.fullSentenceHidden;case h.k.List:return"bullet"===e.kind?t.fullSentenceBulletListItemWithFormatting:"dashed"===e.kind?t.fullSentenceDashedListItemWithFormatting:t.fullSentenceOrderedListItemWithFormatting;case h.k.Insert:case h.k.Text:return"";default:return Object(d.d)(e)}},G=(e,t)=>{switch(e.type){case h.k.Delete:return t.fullSentenceHidden;case h.k.List:return"bullet"===e.kind?t.fullSentenceBulletListItem:"dashed"===e.kind?t.fullSentenceDashedListItem:t.fullSentenceOrderedListItem;case h.k.Insert:case h.k.Text:return"";default:return Object(d.d)(e)}},q=({p:e,theme:t})=>{const a=s.a.create(e.shouldBeCollapsed);return n.createElement(c.a.Fragment,null,a.view(Object(p.c)(n.createElement("span",{className:e.type===h.k.Delete?t.collapsibleDelete:t.collapsibleInsert,onClick:()=>a.set(!1),role:"button",tabIndex:0},n.createElement("span",{className:t.collapsiblePartContent},"")),n.createElement(n.Fragment,null,e.text))))},V=(e,t,a)=>{var r;if(null===(r=e.shouldBeCollapsed)||void 0===r||!r)return e.text;switch(e.type){case h.k.Insert:case h.k.Delete:return t?n.createElement(q,{p:e,theme:a}):e.text;case h.k.Text:return n.createElement("span",null,"  ");default:Object(d.d)(e)}},z=e=>{const t=Object(i.pipe)(e.showDiff,Object(p.c)(_,W),t=>t(e.transformPart,e.theme));return n.createElement("span",{className:t},V(e.transformPart,e.showDiff,e.theme))},U=e=>{const t=Object(i.pipe)(e.showDiff,Object(p.c)(H,G),t=>t(e.transformPart,e.theme));return e.transformPart.type===h.k.List?n.createElement("span",{className:t,"data-indent":e.transformPart.indent}):n.createElement("span",{className:t},V(e.transformPart,e.showDiff,e.theme))},Y=({index:e=0,oldText:t,theme:a,newText:r})=>{const i=Object(E.b)(t,r),o=!!i&&l.f.containsSpacesOnly(i[1]);return n.createElement(n.Fragment,null,i?[i[0],n.createElement("span",{key:e,className:o?a.spacesOnlyContent:a.diff},i[1]),i[2]]:r)},X=e=>{const{onMount:t,maxHeight:a}=Object(b.b)(),o=x(e.a11yContrast);return n.createElement(w.Base,{mount:t,style:{maxHeight:a.pipe(S.a.map(u.g.getOrElse(r.constUndefined)))},className:Object(i.pipe)(e.layoutDensity,f.a.Density.matchOrDefault(f.a.Density.minimal)(()=>o.minimalFullSentenceBackground,()=>o.fullSentenceBackground))},e.replacements.kind===h.f.WithFormatting?e.replacements.labels.map((t,a)=>n.createElement(U,{showDiff:e.showDiff,transformPart:t,key:a,theme:o})):e.replacements.labels.map((t,a)=>n.createElement(z,{showDiff:e.showDiff,transformPart:t,key:a,theme:o})))},K=({replacements:e,layoutDensity:t,a11yContrast:a,selection:r,onClick:i,onDive:o,onBack:s})=>{const c=n.useContext(m.a.Context),{activeLabels:l,original:d}=h.d.getSelectedItems(e,r),p=x(a);return n.createElement(w.Paper,{className:p.list},n.createElement("div",{className:p.drilldownOriginalRow},r.length>0&&n.createElement(v.a.Ghost,{name:"go-back",title:c.synfony.back,onClick:s,className:p.drilldownBackButton},n.createElement(O.d.Arrow,{direction:O.a.left})),n.createElement(B,{transform:d,theme:p,replacements:[],strikeThrough:!Boolean(r)||0===r.length})),n.createElement("div",{className:t===f.a.Density.cozy?p.cozyArrowInsertsList:p.arrowInsertsList},l.map((e,t)=>n.createElement(j,{key:t,transform:e,showOnboarding:2===t,theme:p,onClick:i(e.alternativeId),onExpand:()=>o(t,e.alternativeId)}))))},Z=e=>{const t=n.useContext(m.a.Context);return n.createElement(y.b,{alignment:"topLeft",eventType:"onclick",stepId:g.a.StepId.Synfony,message:t.synfony.onboardingTooltip,dotPosition:{kind:"dotAtPosition",position:y.a.rightCenter}},e.children)},Q=e=>{const t=n.useContext(m.a.Context).card,a=""===e.gapValue,r=x(e.a11yContrast);return n.createElement(n.Fragment,null,n.createElement(k.b,{name:"input",placeholder:t.gapCard.placeholder,value:e.gapValue,onChange:t=>e.onChange(t.target.value),onKeyPress:e=>{"Enter"===e.key&&e.currentTarget.nextElementSibling&&e.currentTarget.nextElementSibling.click()},className:r.oneGapInput}),n.createElement(I,{title:a?"":t.todoAction(e.replacements.tooltipText),boldifier:D,onClick:e.onApply,classes:{itemInsert:r.oneGapInsert,inlineHeader:r.inlineHeader,diff:r.diff},disabled:a,transform:J(e.replacements.labels.left,e.gapValue,e.replacements.labels.right)}))},J=(e,t,a)=>[...e,{type:h.k.Insert,text:ee(e)+(t||"")+ee(a)},...a],ee=e=>e.length?" ":"",te=({replacementsLabels:e,layoutDensity:t,a11yContrast:a,onClick:r})=>{const i=n.useContext(m.a.Context).card.todoAction(e.tooltipText),o=x(a);switch(e.type){case h.j.Type.InsertList:return n.createElement(w.Paper,{className:o.list},e.labels.map((e,t)=>n.createElement(I,Object.assign({},{key:t,title:i,onClick:r(t)},{transform:e,classes:o}))));case h.j.Type.DeleteList:return n.createElement(w.Paper,{className:o.list},e.labels.map((e,t)=>n.createElement(T,Object.assign({},{key:t,title:i,onClick:r(t)},{transform:e,theme:o}))));case h.j.Type.Arrow:return function({labels:e,original:t,onlyReplacements:a},r,i,o,s){const c=1===t.length,[l]=c?[t[0].text,e[0][0].text].map($(o)):[D,D];return n.createElement(w.Paper,{className:o.list},!a&&n.createElement(B,{transform:t,theme:o,replacements:e}),n.createElement("div",{className:i===f.a.Density.cozy?o.cozyArrowInsertsList:e.length>2?o.columnList:o.arrowInsertsList},e.map((e,t)=>n.createElement(I,Object.assign({},{key:t,title:r,onClick:s(t)},{transform:e,boldifier:l,classes:o})))))}(e,i,t,o,r);case h.j.Type.InsertOr:return n.createElement(w.Paper,{className:o.list},n.createElement(I,Object.assign({transform:e.labels[0]},{title:i,onClick:r(0)},{boldifier:D,classes:o})),n.createElement(L,{classes:o}),n.createElement(I,Object.assign({transform:e.labels[1]},{title:i,onClick:r(1)},{boldifier:D,classes:o})));case h.j.Type.DeleteOr:return n.createElement(w.Paper,{className:o.list},e.labels.map((t,a)=>n.createElement(N,Object.assign({},{key:a,title:i,onClick:r(a)},{theme:o,transform:t}),a===e.labels.length-2&&n.createElement(L,{classes:o}))));case h.j.Type.FullSentence:case h.j.Type.OneGap:case h.j.Type.Drilldown:case h.j.Type.ShortenIt:case h.j.Type.ToneAI:return null;default:return Object(d.d)(e)}},ae=({replacementsLabels:e,onClick:t,header:a,customStyle:r,a11yContrast:i})=>{const o=Array.isArray(e.labels)&&1===e.labels.length?r.inlineHeaderOne:r.inlineHeader,s=x(i);switch(e.type){case h.j.Type.DeleteList:return n.createElement("div",{className:r.inlineWrappedList},e.labels.map((e,i)=>n.createElement(P,Object.assign({},{key:i,onClick:t(i)},{classes:{item:r.itemRemove,inlineHeader:o,diff:s.diff},boldifier:e=>n.createElement(R,{element:e,strikeClass:r.strike,theme:s}),transform:e,header:0===i?a:""}))));case h.j.Type.InsertList:case h.j.Type.InsertOr:case h.j.Type.Arrow:return n.createElement("div",{className:r.inlineWrappedList},e.labels.map((e,i)=>n.createElement(P,Object.assign({},{key:i,onClick:t(i)},{classes:{item:r.itemInsert,inlineHeader:o,diff:s.diff},transform:e,boldifier:e=>D(e,r.diff),header:0===i?a:""}))));case h.j.Type.DeleteOr:case h.j.Type.FullSentence:case h.j.Type.OneGap:case h.j.Type.Drilldown:case h.j.Type.ShortenIt:case h.j.Type.ToneAI:return null;default:return Object(d.d)(e)}},ne=({label:e,className:t,a11yContrast:a})=>n.createElement("div",{className:t},e.map(e=>n.createElement("span",{key:e.text,className:e.type===h.k.Insert?x(a).toneAIInsert:void 0},e.text)))},"dP+m":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("ERkP");function r({href:e,children:t,className:a}){return n.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:a,href:e},t)}},dgw0:function(e,t,a){"use strict";a.d(t,"a",(function(){return E})),a.d(t,"b",(function(){return x}));var n=a("ERkP"),r=a("I7vG"),i=a("LNSM"),o=a("9NHN"),s=a("vOOZ"),c=a("zR/0"),l=a("hoSD"),d=a("lrqh"),p=a("6fbX"),u=a("D9EC"),m=a("Urso"),g=a("eTAx"),h=a("By/D"),f=a("Sfi4"),b=a("gy42"),y=a("1gzW"),v=a("ax6a"),C=a("6gXa"),O=a("ps/9");const k={position:"absolute",zIndex:O.i,display:"flex",flexDirection:"column",margin:`${C.a.rem(.5)} 0`,padding:`${C.a.rem(.5)} 0`,minWidth:C.a.percent(100),borderRadius:C.a.rem(O.r),background:v.a.CoreNeutral0,boxShadow:v.b.Z200,opacity:1,transition:"opacity .2s"},w={margin:C.a.rem(.5),height:C.a.px(1),backgroundColor:v.a.CoreNeutral20},S={wrapper:C.a.style({position:"relative"}),list:C.a.style(k),transparent:C.a.style({opacity:0}),hidden:C.a.style({display:"none"}),delimiter:C.a.style(w)};class A extends f.a{}class E extends n.PureComponent{constructor(){super(...arguments),this._uuid=l.f.alphanumeric(12),this._initialState=!1,this._hovered=i.a.create(this._initialState),this._hidden=i.a.create(!this._initialState),this._listPosState=i.a.create({}),this._dropdownEl=null,this._subs=[],this._viewport=i.a.create(l.c.Rect.empty),this._labelRef=n.createRef(),this.hovered=this._hovered.pipe(c.a.pairwise(),c.a.switchMap(([e,t])=>t?c.a.timer(this.props.showDelay).pipe(c.a.mapTo(!0)):e?c.a.timer(void 0===this.props.closeDelay?E.defaultProps.closeDelay:this.props.closeDelay).pipe(c.a.mapTo(!1)):c.a.of(!1)),c.a.merge(E._hoveredForce.pipe(c.a.map(d.g.exists(e=>e===this._uuid)))),c.a.distinctUntilChanged(),c.a.tap(e=>e&&E._hoveredForce.next(d.g.some(this._uuid))),c.a.tap(e=>e&&this._hidden.set(!1)),c.a.share(),c.a.startWith(this._initialState)),this._handleClickForAppearanceHover=e=>{const t=e.target;if(l.c.isDisabled(t)||!0===this.props.dontCloseOnClickInside)return;const a=!l.c.hasParentWithClassName(t,S.list);E._hoveredForce.next(a?d.g.some(this._uuid):d.g.none),this._hovered.set(a)},this._handleMouseEnterForAppearanceHover=()=>{this._hovered.set(!0)},this._handleClickForAppearanceClick=(e,t)=>{t&&!e.isTrusted||this._hovered.modify(e=>!e)},this._handleMouseEnterForAppearanceClick=e=>{const t=e.target;l.c.hasParentWithClassName(t,S.list)&&(E._hoveredForce.next(d.g.some(this._uuid)),this._hovered.set(!0))},this._handleLabelKeyDownForAppearance=e=>{"Enter"!==e.key&&" "!==e.key||(this._hovered.set(!0),e.preventDefault())}}_getHAlign(e){switch(e){case"left":case"auto":return{left:"0"};case"right":return{right:"0"};case"center":return{right:"50%",marginRight:`-${(this._dropdownEl?this._dropdownEl.offsetWidth:0)/2}px`};default:return Object(p.d)(e)}}_getVAlign(e){switch(e){case"top":return{bottom:"100%"};case"bottom":case"auto":return{top:"100%"};default:return Object(p.d)(e)}}calcDropdownPosition(){const e=this.props.align,t=this.props.vAlign;this._listPosState.set(Object.assign(Object.assign({},this._getHAlign(e)),this._getVAlign(t)));const a="auto"===e,n="auto"===t;(a||n)&&requestAnimationFrame(()=>{if(this._dropdownEl){const r=this._viewport.get(),i=this._dropdownEl.getBoundingClientRect();this._listPosState.set(Object.assign(Object.assign({},this._getHAlign(a?r.right<i.right?"right":"left":e)),this._getVAlign(n?r.bottom<i.bottom?"top":"bottom":t)))}})}componentDidMount(){this._subs.push(this.hovered.pipe(c.a.tap(e=>{this.props.onVisibilityChange&&this.props.onVisibilityChange(e)}),c.a.switchMapTo(Object(r.pipe)(d.g.fromNullable(this.props.customPosition),d.g.fold(()=>c.a.of(d.g.none),({top:e,left:t})=>c.a.combineLatestStatic(b.b.toObservable(e),b.b.toObservable(t)).pipe(c.a.map(d.g.some)))))).subscribe(d.g.fold(()=>this.calcDropdownPosition(),([e,t])=>this._listPosState.set({top:e,left:t}))),this.context.pipe(c.a.pluck("rect")).subscribe(b.b.toAtom(this._viewport))),this.props.forceHide&&this._subs.push(this._hidden.pipe(c.a.switchMap(b.b.orEmptyRight(this.props.forceHide.pipe(c.a.first())))).subscribe(()=>this._hidden.set(!0)))}componentWillUnmount(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}componentWillReciveProps(){this.calcDropdownPosition()}mapStateToClass(e,t){const a={start:"",end:""};return t?{prev:a,next:{start:S.transparent,end:""}}:{prev:{start:"",end:S.transparent},next:a}}_behavior(e){return"mouseClick"===this.props.appearanceBehavior?{onClickCapture:t=>this._handleClickForAppearanceClick(t,e),onMouseEnter:this._handleMouseEnterForAppearanceClick,onMouseLeave:()=>this._hovered.set(this._initialState)}:{onClickCapture:this._handleClickForAppearanceHover,onMouseEnter:this._handleMouseEnterForAppearanceHover,onMouseLeave:()=>this._hovered.set(this._initialState)}}_labelBehavior(){return{onKeyDown:this._handleLabelKeyDownForAppearance}}_attachDropdownElementBehavior(){var e;null===(e=this._dropdownEl)||void 0===e||e.addEventListener("keydown",e=>{var t;"Escape"===e.key&&(this._hovered.set(this._initialState),e.preventDefault(),e.stopPropagation(),(null===(t=this._labelRef.current)||void 0===t?void 0:t.firstChild)&&setTimeout(()=>{var e,t;return null===(t=null===(e=this._labelRef.current)||void 0===e?void 0:e.firstChild)||void 0===t?void 0:t.focus()},0))})}_handleDropdownElementMount(e){this._dropdownEl=e,this._attachDropdownElementBehavior()}render(){const{label:e,theme:t={}}=this.props;return n.createElement(g.a.Context.Consumer,null,a=>n.createElement(m.a.Context.Consumer,null,r=>n.createElement(m.a.Context.Provider,{value:m.a.withValue(r,{hovered:this._hovered})},n.createElement("div",Object.assign({},Object(o.c)(S.wrapper,t.dropdownContainer),this._behavior(a.has(g.a.Flag.onlyTrustedEvents))),n.createElement("div",Object.assign({},this._labelBehavior(),{ref:this._labelRef}),e),n.createElement(A,{state:this.hovered,stateToClassMapper:this.mapStateToClass},e=>e.state?n.createElement(s.a.div,null,this._hidden.view(a=>n.createElement(x,Object.assign({key:"list",name:this.props.name,onTransitionEnd:"prev"===e.type?()=>this._hidden.set(!0):u.e},Object(o.c)(t.dropdownList,e.view),{mount:this._handleDropdownElementMount.bind(this),style:this._listPosState,hidden:a}),this.props.children))):null)))))}}E.defaultProps={align:"auto",vAlign:"auto",showDelay:500,closeDelay:500,appearanceBehavior:"mouseHover"},E.Delimiter=()=>n.createElement("div",{className:S.delimiter}),E._hoveredForce=new c.a.Subject,E.contextType=h.a.Context;const x=e=>{const{ref:t,onMount:a}=y.a.useElWatcher();return y.a.useFocusTrap(t),n.createElement(m.a.Context.Consumer,null,t=>{const r=m.a.emptyWithName(`${void 0!==t.name?`${t.name}/`:""}dropdown-${e.name}`);return n.createElement(m.a.Context.Provider,{value:r},n.createElement(s.a.div,Object.assign({},Object(o.c)(e.className,!0===e.hidden?S.hidden:S.list),{style:e.style,mount:t=>{a(t),void 0!==e.mount&&e.mount(t)},"data-role":"dropdown-list","data-name":"dropdown-"+e.name,onTransitionEnd:e.onTransitionEnd}),e.children))})}},dx6p:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("ax6a"),r=a("6gXa");const i=(e,t,a,i,o,s)=>Object.assign({position:"absolute",right:e,left:e,zIndex:t,display:"block",height:r.a.rem(2),borderRadius:o,backgroundColor:n.a.CoreNeutral0,boxShadow:i,content:"' '"},Boolean(s)&&"bottom"!==s?{top:a}:{bottom:a})},eLeT:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a("ax6a"),r=a("6gXa"),i=a("ps/9"),o=a("dx6p");const s=`0 ${r.a.rem(.25)} ${r.a.rem(1.625)} 0 rgba(198, 203, 222, .25)`,c={marginRight:r.a.rem(1),flexShrink:0,maxWidth:r.a.percent(100)},l={padding:`0 ${r.a.rem(1)}`},d={padding:`0 ${r.a.rem(1.9)} 0 ${r.a.rem(1)}`},p={position:"absolute",top:r.a.rem(.27),right:r.a.rem(.5)},u={display:"grid",width:r.a.percent(100),gridGap:r.a.rem(.5),gridTemplateColumns:"fit-content(60%) auto min-content"},m={minWidth:r.a.rem(7)},g={marginLeft:r.a.rem(.5)},h={color:n.a.CoreNeutral90,whiteSpace:"nowrap",fontWeight:300,lineHeight:r.a.rem(1.5)},f={$nest:{"&:before":Object(o.a)(r.a.rem(.5),-10,r.a.rem(-.5),s,r.a.rem(i.r)),"&:after":Object(o.a)(r.a.rem(1),-20,r.a.rem(-1),s,r.a.rem(i.r))}},b={transition:"opacity .2s"},y=r.a.prefixedStylesheet("super",{updateAllBtnCommon:[c],updateAllBtn:[c,l],updateAllBtnLoading:[c,d],updateBtnSpinner:[p],optionsContainer:[u],optionLabel:[m],optionRadio:[g],optionSecondaryAttribute:[h],optionExample:[h,{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontStyle:"italic"}],superWrapper:[f],loadingWrapper:[b],loadingWrapperInvisible:[b,{opacity:0,pointerEvents:"none"}]})},eihE:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("ERkP"),i=a("07Tf"),o=a("BwCH");!function(e){e.Context=r.createContext(i.a.invariantContent("CopyToClipboard")),e.ContextMock=({children:t})=>r.createElement(e.Context.Provider,{value:e=>o.a.copy(e,!1),children:t})}(n||(n={}))},es5d:function(e,t,a){"use strict";a.d(t,"a",(function(){return A}));var n=a("ax6a"),r=a("6gXa"),i=a("ps/9");const o={$nest:{"&:before":{position:"absolute",width:r.a.px(10),height:r.a.px(10),borderRadius:r.a.percent(50),content:"''",transform:"scale(.5)"}}},s={opacity:1,transition:"opacity .3s"},c={color:n.a.CoreNeutral50,textTransform:"uppercase",letterSpacing:n.h.SubheadingLetterSpacing,fontSize:r.a.rem(n.h.SubheadingSize),lineHeight:r.a.rem(n.h.SubheadingLineHeight),$nest:{"&:not(:last-child)":{marginRight:r.a.rem(.25)}}},l={position:"relative",display:"inline-block",$nest:{"&:before":{top:0,bottom:r.a.px(2),left:r.a.rem(-1.1),margin:"auto 0"}}},d={$nest:{"&:before":{top:0,bottom:0,left:r.a.rem(-1.1),margin:`${r.a.rem(.25)} 0 auto 0`}}},p={margin:`0 ${r.a.rem(.4)} 0 ${r.a.rem(.2)}`,width:r.a.rem(.85),height:r.a.rem(.85),objectFit:"contain"},u={position:"absolute",top:0,bottom:0,left:r.a.rem(-1),margin:"auto",transform:"translateX(-50%)"},m={minWidth:"initial",minHeight:"initial",padding:`${r.a.rem(.3)} ${r.a.rem(.25)}`,cursor:"pointer",borderRadius:r.a.percent(100),marginLeft:r.a.rem(.5),$nest:{"&:hover":{background:n.a.CoreNeutral10}}},g={display:"flex",alignItems:"center",padding:`0 ${r.a.rem(.25)}`,borderRadius:r.a.rem(i.s),cursor:"pointer",background:n.a.CoreYellow20,color:n.a.CoreYellow80,marginLeft:r.a.rem(.5),$nest:{"&:hover":{background:n.a.CoreYellow10}}},h={minWidth:"initial",minHeight:"initial",fill:n.a.CoreYellow80,marginLeft:r.a.rem(.3)},f={display:"flex",alignItems:"flex-start",top:r.a.rem(.125),minWidth:"initial",minHeight:"initial",background:n.a.CoreNeutral0},b={color:n.a.CoreNeutral90,textTransform:"none",letterSpacing:n.h.SmallLetterSpacing,fontWeight:n.h.SmallWeight,fontSize:r.a.rem(n.h.SmallSize),lineHeight:r.a.rem(n.h.SmallLineHeight),$nest:{"&:first-letter":{textTransform:"uppercase"}}},y={color:n.a.CoreNeutral50,textTransform:"none"},v={width:r.a.rem(1),height:r.a.rem(1)},C={display:"inline-flex",padding:`0 ${r.a.rem(.25)}`,borderRadius:r.a.rem(i.s),background:"linear-gradient(269.73deg, rgba(215, 248, 240, .8) .02%, rgba(202, 235, 250, .8) 99.98%)",textTransform:"uppercase"},O={display:"inline-flex",marginLeft:r.a.rem(.1),minWidth:0,minHeight:0},k={color:n.a.CoreNeutral80,textTransform:"none"},w={width:r.a.rem(1),height:r.a.rem(1),marginRight:r.a.rem(.375)},S={color:n.a.CoreRed60},A=r.a.stylesheet({lessIcon:[{transform:"rotate(180deg)"}],more:[s],moreHidden:[s,{position:"absolute",overflow:"hidden",height:0,opacity:0,transition:"none"}],commonLabel:[c],labelContainer:[{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"start"}],lens:[c,l],lensMinimal:[d],voxLogo:[p],cardLogo:[u],dualItemLabel:[{display:"inline-flex",alignItems:"center"}],premiumPersistentTooltipIcon:[m],newPremiumLabel:[g],newPremiumLabelIcon:[h],takeawayIcon:[f],minimalTitle:[b],voxTitle:[{display:"flex",alignItems:"center"}],toneTitle:[y],toneLogo:[u,v],fluencyLabel:[c,C],fluencyInfo:[O],dot:[o],ethicalAILabel:[{textTransform:"none"}],sentenceLevelBrandTonesLabel:[k],sentenceLevelBrandTonesLabelImage:[w],sentenceLevelBrandTonesOffBrand:[S]})},f3nf:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("a5W6"),i=a("OA+g"),o=a("I7vG"),s=a("94k3"),c=a("lrqh"),l=a("6fbX"),d=a("wOnQ");function p(e,{text:t,ops:a}){a.reduce((t,a,n)=>s.a.AlternativeOperation.isInsertString(a)?(e.insertString(a.insert,a,n),t):s.a.AlternativeOperation.isInsertGap(a)?(e.insertGap("",a,n),t):s.a.AlternativeOperation.isInsert(a)?t:s.a.AlternativeOperation.isDelete(a)?(e.remove(t.slice(0,a.delete),a,n),t.slice(a.delete)):s.a.AlternativeOperation.isRetain(a)?(e.retain(t.slice(0,a.retain),a,n),t.slice(a.retain)):Object(l.d)(a),t)}function u(e){return 0===e.replace(/ /g,"").length}function m(e,t){Object(o.pipe)(e,r.last,c.g.fold(()=>{u(t.text)||e.push(t)},a=>{a.type===t.type?a.text+=t.text:e.push(t)}))}function g(e,t){return Object(o.pipe)(c.b.tryCatchError(()=>Object(o.pipe)(e,c.f.map(a=>{const n=[];return p({insertString(t,{type:a}){if(a===s.a.AlternativeOperation.Type.Main)throw new x("Remove transform contains main insert",e)},insertGap(){throw new x("Remove transform contains gap insert",e)},retain(e,{type:t}){s.a.AlternativeOperation.isOptionalType(t)||m(n,{type:d.k.Text,text:e})},remove(e,{type:a}){m(n,{type:a!==s.a.AlternativeOperation.Type.Main||u(e)&&t?d.k.Text:d.k.Delete,text:e})}},a),n}),r.flatten)),c.b.chain(Object(i.flow)(c.b.fromPredicate(e=>e.length>0,()=>new x("Remove transform contains no data",e)),c.b.map(e=>({type:n.Type.Remove,remove:e})))))}function h(e,t){return Object(o.pipe)(c.b.tryCatchError(()=>Object(o.pipe)(e,c.f.map(a=>{const n=[];return p({insertString(t,{type:a}){if(a===s.a.AlternativeOperation.Type.Main)throw new x("Multi-remove transform contains main insert",e)},insertGap(){throw new x("Multi-remove transform contains gap insert",e)},retain(e,{type:t}){s.a.AlternativeOperation.isOptionalType(t)||m(n,{type:d.k.Text,text:e})},remove(e,{type:a}){m(n,{type:a!==s.a.AlternativeOperation.Type.Main||u(e)&&t?d.k.Text:d.k.Delete,text:e})}},a),n}))),c.b.chain(Object(i.flow)(c.b.fromPredicate(e=>e.length>=2&&e.every(e=>e.length>=2),()=>new x("Incomplete multi-remove",e)),c.b.map(e=>({type:n.Type.RemoveOr,removes:e})))))}function f(e){return Object(o.pipe)(c.b.tryCatchError(()=>Object(o.pipe)(e,c.f.map(t=>{const a=[];return p({insertString(e,{type:t}){m(a,{type:s.a.AlternativeOperation.isOptionalType(t)?d.k.Text:d.k.Insert,text:e})},insertGap(){throw new x("Insert transform contains gap insert",e)},retain(e,{type:t}){(!s.a.AlternativeOperation.isOptionalType(t)||a.length>0)&&m(a,{type:d.k.Text,text:e})},remove(t,{type:a}){if(a===s.a.AlternativeOperation.Type.Main)throw new x("Insert transform contains main delete",e)}},t),a}))),c.b.chain(Object(i.flow)(c.f.fromArray,c.b.fromOption(()=>new x("Incomplete insert",e)),c.b.map(e=>({type:n.Type.Insert,inserts:e})))))}function b(e){const{substitutions:t,longestSubstitution:a,inserts:i}=e.reduce((e,[t,a])=>{const n=t.map(e=>e.text).join("");return e.substitutions.push(n),e.inserts.push(a),n.length>e.longestSubstitution.length&&(e.longestSubstitution=n),e},{substitutions:[],inserts:[],longestSubstitution:""}),s=Object(o.pipe)(t,c.f.map(e=>a.split(e).join("")));return Object(o.pipe)(r.zipWith(i,s,(e,t)=>(t&&e.push({type:d.k.Text,text:t}),e)),c.f.fromArray,c.b.fromOption(()=>new Error("Substitution processing error")),c.b.map(e=>({type:n.Type.Substitution,remove:[{type:d.k.Delete,text:a}],inserts:e})))}function y(e,t){return Object(o.pipe)(v(e),c.b.chain(a=>Object(o.pipe)(c.b.tryCatchError(()=>{return Object(l.g)(t.length>0,"Drilldown transform - empty drilldown tree"),{inserts:Object(o.pipe)(t,c.f.map((function e([t,n]){Object(l.g)(void 0!==a.inserts[t],"Drilldown transform - alternative insert not found");return{alternativeId:t,label:a.inserts[t],subLabels:n.map(e)}}))),remove:a.remove,type:n.Type.Drilldown}}),c.b.mapLeft(x.fromError(e)))))}function v(e){return Object(o.pipe)(c.b.tryCatchError(()=>Object(o.pipe)(e,c.f.map(t=>{const a=[[],[]];return p({insertString(e){m(a[1],{type:d.k.Insert,text:"\n"===e?" ":e})},insertGap(){throw new x("Substitution transform contains gap insert",e)},remove(e){m(a[0],{type:d.k.Delete,text:e})},retain(e,{type:t}){if(!s.a.AlternativeOperation.isOptionalType(t)||0!==a[0].length){const t={type:d.k.Text,text:e};a[0].push(t),a[1].push(t)}}},t),Object(l.g)(a[0].length>0,"Substituted part is empty"),Object(l.g)(a[1].length>0,"Inserts are empty"),a}))),c.b.chain(b),c.b.mapLeft(x.fromError(e)))}function C(e){if(!("list"in e))return c.g.none;switch(e.list){case"bullet":case"dashed":case"ordered":return c.g.some({kind:e.list,indent:"number"==typeof e.indent&&Number.isInteger(e.indent)?e.indent:0});default:return c.g.none}}function O(e){return Object(o.pipe)(e,c.b.fromPredicate(e=>1===e.length,()=>new x("Expected full-sentence transform to have 1 alternative",e)),c.b.map(Object(i.flow)(c.f.head,t=>{let a={blockStart:0,ops:[],kind:d.f.PlainText};return p({insertString(e,t){const n=e.split("\n");if(1===n.length)a.ops.push({type:d.k.Insert,text:e,shouldBeCollapsed:!1});else{const e=Object(o.pipe)(t.attributes,C,c.g.fold(()=>i.constVoid,({kind:e,indent:t})=>()=>{a.ops.splice(a.blockStart,1,{type:d.k.List,kind:e,indent:t}),a={kind:d.f.WithFormatting,ops:a.ops,blockStart:a.blockStart}}));for(let t=0,r=n.length-1;t<=r;t++){const i=n[t];i&&a.ops.push({type:d.k.Insert,text:i}),t<r&&(e(),a.blockStart=a.ops.length,a.ops.push({type:d.k.Insert,text:"\n"}))}}},insertGap(){throw new x("Full sentence transform contains gap insert",e)},retain(e,t){a.ops.push({type:d.k.Text,text:e,shouldBeCollapsed:k(t.type,e)})},remove(e,t){a.ops.push({type:d.k.Delete,text:e,shouldBeCollapsed:k(t.type,e)})}},t),a})),c.b.chain(Object(i.flow)(c.g.fromPredicate(e=>e.ops.length>0),c.b.fromOption(()=>new x("Got empty full sentence transform",e)),c.b.map(({ops:e,kind:t})=>({type:n.Type.FullSentence,ops:e,kind:t})))))}!function(e){let t;!function(e){e[e.Remove=0]="Remove",e[e.RemoveOr=1]="RemoveOr",e[e.Insert=2]="Insert",e[e.Substitution=3]="Substitution",e[e.Drilldown=4]="Drilldown",e[e.FullSentence=5]="FullSentence",e[e.OneGap=6]="OneGap",e[e.ShortenIt=7]="ShortenIt",e[e.ToneAI=8]="ToneAI"}(t=e.Type||(e.Type={})),function(e){e.parse=function(t,a){const n=t[0];if(n.isFullSentence)return e.FullSentence;if(c.g.isSome(a.drilldown))return e.Drilldown;if(n.isShortenIt)return e.ShortenIt;if(n.isToneAI)return e.ToneAI;switch(n.type){case s.a.Alternative.Type.Insert:return e.Insert;case s.a.Alternative.Type.Remove:return t.length>1?e.RemoveOr:e.Remove;case s.a.Alternative.Type.Substitution:return n.ops.find(s.a.AlternativeOperation.isInsertGap)?e.OneGap:e.Substitution;default:return Object(l.d)(n.type)}}}(t=e.Type||(e.Type={})),e.create=function(t){return a=>{const n=e.Type.parse(a,t);switch(n){case e.Type.Remove:return g(a,t.ignoreWhitespaceRemoves);case e.Type.RemoveOr:return h(a,t.ignoreWhitespaceRemoves);case e.Type.Insert:return f(a);case e.Type.Substitution:return v(a);case e.Type.Drilldown:return y(a,Object(o.pipe)(t.drilldown,c.g.getOrElse(()=>s.a.Drilldown.empty)));case e.Type.FullSentence:return O(a);case e.Type.OneGap:return w(a);case e.Type.ShortenIt:return S(a);case e.Type.ToneAI:return A(a);default:return Object(l.d)(n)}}}}(n||(n={}));const k=(e,t)=>e===s.a.AlternativeOperation.Type.Optional&&t.length>3;function w(e){return Object(o.pipe)(c.b.tryCatchError(()=>(Object(l.g)(1===e.length,"One gap transform does not contain exactly one alternative"),Object(o.pipe)(e,c.f.head,e=>{const t=[],a=[];let n=!1;return p({insertString(e,{type:r}){m(n?a:t,{type:s.a.AlternativeOperation.isOptionalType(r)?d.k.Text:d.k.Insert,text:e})},insertGap(){Object(l.g)(!n,"One gap transform does not contain exactly one gap insert"),n=!0},retain(e,{type:r}){const i=n?a:t;(!s.a.AlternativeOperation.isOptionalType(r)||i.length>0)&&m(i,{type:d.k.Text,text:e})},remove:i.constVoid},e),Object(l.g)(n,"One gap transform does not contain exactly one gap insert"),Object(l.g)(t.length>0||a.length>0,"One gap transform does not contain at least one text insert"),{left:t,right:a}}))),c.b.bimap(x.fromError(e),({left:e,right:t})=>({type:n.Type.OneGap,left:e,right:t})))}function S(e){return Object(o.pipe)(e,c.b.fromPredicate(e=>1===e.length,()=>new x("Expected shorten-it transform to have 1 alternative",e)),c.b.chain(c.f.traverse(c.b.either)(E)),c.b.map(c.f.head),c.b.map(e=>({type:n.Type.ShortenIt,ops:e})))}function A(e){return Object(o.pipe)(c.b.tryCatchError(()=>Object(o.pipe)(e,c.f.map(t=>{const a=[];return p({insertString(e){m(a,{type:d.k.Insert,text:e})},insertGap(){throw new x("ToneAI transform should not include gap insert",e)},retain(e){m(a,{type:d.k.Text,text:e})},remove(){}},t),a}))),c.b.chain(Object(i.flow)(c.f.fromArray,c.b.fromOption(()=>new x("Incomplete ToneAI transform",e)),c.b.map(e=>({type:n.Type.ToneAI,insertsOrTexts:e})))))}function E(e){const t=[];return p({insertString(e,{group:a}){t.push({type:d.k.Insert,text:e,group:a})},insertGap(){throw new x("ShortenIt transform contains gap insert",[e])},retain(e,{group:a}){t.push({type:d.k.Text,text:e,group:a})},remove(e,{group:a}){t.push({type:d.k.Delete,text:e,shouldBeCollapsed:!0,group:a})}},e),Object(o.pipe)(t,c.b.fromPredicate(e=>e.length>0,()=>new x("Got empty ShortenIt transform",[e])))}class x extends l.a{constructor(e,t){super(e),this.alternatives=t}static fromError(e){return t=>{const a=new x(t.message,e);return a.stack=t.stack,a}}toString(){return`Hydration error: ${this.message}\n  ops: ${this.alternatives.map(e=>e.ops.map(s.a.AlternativeOperation.anonymize))}`}}},fK7l:function(e,t,a){e.exports=a.p+"files/8c35c38451d802f149fcbc7e9004193e/inter-lightitalic.woff"},g7Ig:function(e,t,a){e.exports=a.p+"files/de9b0866cf73188ae7ca0292a439d6a4/inter-mediumitalic.woff"},"gT+5":function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return $}));var n=a("D9EC"),r=a("ax6a"),i=a("6gXa"),o=a("0Hf4");const s=r.a.CoreGreen10;var c;!function(e){e.markHeightStandard="alerts-markHeightStandard",e.markHeightTall="alerts-markHeightTall",e.markSelected="alerts-markSelected",e.markSelectedFocused="alerts-markSelectedFocused",e.markBase="alerts-markBase",e.markAppliedBase="alerts-markAppliedBase",e.markVisible="alerts-markVisible",e.markStart="alerts-markStart",e.correctness="alerts-correctness",e.premium="alerts-premium",e.clarity="alerts-clarity",e.engagement="alerts-engagement",e.delivery="alerts-delivery",e.critical="alerts-critical",e.advanced="alerts-advanced",e.plagiarism="alerts-plagiarism",e.originality="alerts-originality",e.vox="alerts-vox",e.synonym="alerts-synonym",e.markAnimated="alerts-markAnimated",e.markHidden="alerts-markHidden",e.markApplied="alerts-markApplied",e.markBulkApplied="alerts-markBulkApplied",e.markBulkAppliedAnimation="alerts-markBulkAppliedAnimation",e.markSuccess="alerts-markSuccess",e.noAnimation="alerts-noAnimation"}(c||(c={}));const l="alerts-custom",d={backgroundPosition:"center calc(100% + 3px)",backgroundRepeat:"no-repeat",contain:"layout style",$nest:{"@media print":{borderBottomWidth:"0 !important"}}},p={$nest:{"@media print":{borderBottomWidth:"3 !important"}}},u=i.a.keyframes({from:{backgroundSize:"100% 0"},to:{backgroundSize:"100% 12%"}}),m={standard:`calc(${i.a.rem(.45)} - 4px)`,tall:i.a.rem(.425)},g=e=>({to:{backgroundColor:e}}),h=(e,t=100)=>({borderWidth:"0 0 3px 0",borderImage:i.a.linearGradient("to right",[e,"0%"],[e,`calc(100% - ${t}px)`],[i.a.color(e).fade(0).toRGBA().toString(),"100%"]),borderImageSlice:1}),f=(e,t,a,n)=>Object.assign(Object.assign({$unique:!0},d),{paddingBottom:"1px",borderBottom:`3px solid ${t}`,transition:"border-bottom-color .5s linear",$nest:Object.assign(Object.assign({},d.$nest),{[`&.${c.markStart}`]:h(t),"&[data-vertical-underline-start]:before":{borderColor:a,color:a},"& > [data-vertical-underline-body]:after":{borderColor:a},"& > [data-vertical-underline-index]":{color:a},"&[data-superscript]":{padding:0,border:"none",color:a,transition:"none"},"&:not([data-superscript])":{$nest:{[`&.${c.markSelected}.${c.markHeightStandard}`]:{paddingTop:m.standard},[`&.${c.markSelected}.${c.markHeightTall}`]:{paddingTop:m.tall},[`&.${c.markSelected}`]:{$unique:!0,borderBottomColor:n,animation:`${e} 1s ease forwards`,$nest:{[`&.${c.markStart}`]:h(n)}},[`&.${c.markSelectedFocused}`]:{$unique:!0,borderBottomColor:a,$nest:{[`&.${c.markStart}`]:h(a)}},[`&.${c.markSelected} .${c.markBase}:not(.${c.markSelected})`]:{paddingBottom:"calc(3px + 1px)",borderBottomStyle:"hidden"},[`&.${c.markSelectedFocused} .${c.markBase}:not(.${c.markSelected})`]:{paddingBottom:"calc(3px + 1px)",borderBottomStyle:"hidden"}}}})}),b=i.a.keyframes(g(r.a.CoreRed10)),y=i.a.keyframes(g(r.a.CoreYellow10)),v=i.a.keyframes(g(r.a.CoreCyan10)),C=i.a.keyframes(g(r.a.CorePurple10)),O=i.a.keyframes(g(r.a.CoreNeutral10)),k=i.a.keyframes(g(r.a.CoreBlue10)),w=i.a.keyframes(g(r.a.CoreRed10)),S=i.a.keyframes(g(r.a.CoreYellow10)),A=i.a.keyframes(g(r.a.CoreBlue10)),E=i.a.keyframes(g(r.a.CoreGreen10)),x=i.a.keyframes(g(r.a.CorePurple10)),I=i.a.keyframes(g(r.a.CoreGreen10)),j=e=>{const t=i.a.color(s).fade(e).toRGBA().toString();return{borderBottomColor:t,backgroundColor:t,$nest:{[`&.${c.markHeightStandard}`]:{paddingTop:m.standard},[`&.${c.markHeightTall}`]:{paddingTop:m.tall}}}},T=e=>{return{borderBottomColor:"transparent",backgroundColor:i.a.color(s).fade(e).toRGBA().toString()}},N=i.a.keyframes({from:j("100%"),to:j("50%")}),L={borderBottomWidth:"2px",borderBottomColor:`${r.a.CoreNeutral40}`,borderBottomStyle:"dotted",backgroundColor:"transparent"},B=i.a.keyframes({to:Object.assign(Object.assign({},j("0%")),L)}),P=i.a.keyframes({from:T("100%"),to:T("50%")}),F={$nest:{[`&.${c.markHeightStandard}`]:{paddingTop:m.standard},[`&.${c.markHeightTall}`]:{paddingTop:m.tall},[`&:not(.${c.markSelected}):not(.${c.markSelectedFocused})`]:{$nest:{[`&.${c.clarity} &.${c.clarity}`]:{borderBottomStyle:"solid",borderBottomColor:r.a.CoreBlue50}}},[`&.${c.correctness}, &.${c.markSelected}, &.${c.markSelectedFocused}`]:{$nest:{[`.${c.markVisible}:not(.${c.markSelected}):not(.${c.markSelectedFocused}).${c.clarity} .${c.markVisible}:not(.${c.markSelected}):not(.${c.markSelectedFocused}).${c.clarity}`]:{}}},[`&.${c.clarity}`]:{$nest:{[`& & &:not(.${c.markSelected}):not(.${c.markSelectedFocused})`]:{borderBottomStyle:"hidden !important"}}}}},D={borderBottom:"0 solid transparent",background:"none",animation:"none"},$=Object(n.l)(()=>({custom(e,t){const a=i.a.color(e).fade(.25).toRGBA().toString(),n=i.a.keyframes(g(a));return[l,c.markBase,i.a.style(f(n,t,t,a)),o.a.style(f(n,t,t,a),p)].join(" ")},markBase:[c.markBase,i.a.style(d),o.a.style(d,{$nest:{"@media print":{borderBottomWidth:"3 !important"}}})].join(" "),markAppliedBase:[c.markAppliedBase,c.markBase,i.a.style({paddingBottom:"1px",borderBottom:`3px solid ${s}`})].join(" "),correctness:[c.correctness,c.markBase,i.a.style(f(w,r.a.CoreRed20,r.a.CoreRed50,r.a.CoreRed10)),o.a.style(f(w,r.a.CoreRed20,r.a.CoreRed50,r.a.CoreRed10),p)].join(" "),premium:[c.premium,c.markBase,i.a.style(f(S,r.a.CoreYellow30,r.a.CoreYellow40,r.a.CoreYellow10)),o.a.style(f(S,r.a.CoreYellow30,r.a.CoreYellow40,r.a.CoreYellow10),p)].join(" "),clarity:[c.clarity,c.markBase,i.a.style(f(A,r.a.CoreBlue20,r.a.CoreBlue50,r.a.CoreBlue10)),o.a.style(f(A,r.a.CoreBlue20,r.a.CoreBlue50,r.a.CoreBlue10),p)].join(" "),markVisible:[c.markVisible,i.a.style(F),o.a.style(F)].join(" "),engagement:[c.engagement,c.markBase,i.a.style(f(E,r.a.CoreGreen20,r.a.CoreGreen50,r.a.CoreGreen10)),o.a.style(f(E,r.a.CoreGreen20,r.a.CoreGreen50,r.a.CoreGreen10),p)].join(" "),delivery:[c.delivery,c.markBase,i.a.style(f(x,r.a.CorePurple20,r.a.CorePurple50,r.a.CorePurple10)),o.a.style(f(x,r.a.CorePurple20,r.a.CorePurple50,r.a.CorePurple10),p)].join(" "),critical:[c.critical,c.markBase,i.a.style(f(b,r.a.CoreRed20,r.a.CoreRed50,r.a.CoreRed10)),o.a.style(f(b,r.a.CoreRed20,r.a.CoreRed50,r.a.CoreRed10),p)].join(" "),advanced:[c.advanced,c.markBase,i.a.style(f(y,r.a.CoreYellow30,r.a.CoreYellow40,r.a.CoreYellow10)),o.a.style(f(y,r.a.CoreYellow30,r.a.CoreYellow40,r.a.CoreYellow10),p)].join(" "),plagiarism:[c.plagiarism,c.markBase,i.a.style(f(v,r.a.CoreCyan20,r.a.CoreCyan50,r.a.CoreCyan10)),o.a.style(f(y,r.a.CoreCyan20,r.a.CoreCyan50,r.a.CoreCyan10),p)].join(" "),originality:[c.originality,c.markBase,i.a.style(f(C,r.a.CorePurple20,r.a.CorePurple50,r.a.CorePurple10)),o.a.style(f(x,r.a.CorePurple20,r.a.CorePurple50,r.a.CorePurple10),p)].join(" "),vox:[c.vox,c.markBase,i.a.style(f(O,r.a.CoreNeutral30,r.a.CoreNeutral50,r.a.CoreNeutral10)),o.a.style(f(O,r.a.CoreNeutral30,r.a.CoreNeutral50,r.a.CoreNeutral10),p)].join(" "),synonym:[c.synonym,c.markBase,i.a.style(f(k,r.a.CoreBlue50,"transparent",r.a.CoreBlue50)),o.a.style(f(k,r.a.CoreBlue50,"transparent",r.a.CoreBlue50),p)].join(" "),markAnimated:[c.markAnimated,i.a.style({animation:`${u} .075s ease`})].join(" "),markHidden:[c.markHidden,i.a.style(D),o.a.style(D)].join(" "),markBulkAppliedAnimation:[c.markBulkAppliedAnimation,c.markBase,i.a.style(j("100%"),L,{animation:`${N} 2s linear forwards,\n          ${B} .25s linear 2s forwards`})].join(" "),markBulkApplied:[c.markBulkApplied,c.markBase,i.a.style(f(I,r.a.CoreNeutral40,r.a.CoreGreen10,r.a.CoreGreen10),L)].join(" "),markApplied:[c.markApplied,i.a.style(j("100%"),{animation:`${N} .25s linear forwards`})].join(" "),markSuccess:[c.markSuccess,i.a.style(T("100%"),{animation:`${P} .25s linear forwards`})].join(" "),noAnimation:[c.noAnimation,i.a.style({animationDuration:"0s !important"})].join(" "),markSelected:c.markSelected,markSelectedFocused:c.markSelectedFocused,markHeightStandard:c.markHeightStandard,markHeightTall:c.markHeightTall,markStart:c.markStart}))},"hQF/":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("ERkP"),i=a("vOOZ"),o=a("9NHN"),s=a("ax6a"),c=a("6gXa"),l=a("WIwS");!function(e){e.Item=({className:e,children:t,onChange:a,checked:n,tabIndex:s,id:c})=>r.createElement(i.a.label,Object.assign({},Object(o.c)(u.radio,e)),n.view(e=>r.createElement(r.Fragment,{key:`radio-${c}`},r.createElement("input",{onChange:a,tabIndex:Boolean(s)?s:-1,type:"radio",checked:e,className:u.radioInputHidden}),r.createElement("span",{className:d}))),t),e.Group=({items:t,selectedItemIndex:a,itemWrapperClassName:n,onChange:o})=>r.createElement(i.a.Fragment,null,t.map((t,i)=>r.createElement(e.Item,{id:i,key:i,onChange:()=>{a.set(i),o&&o(i)},checked:a.view(e=>i===e),className:n},t)))}(n||(n={}));const d=c.a.joinClasses(["radioInput",c.a.style({display:"inline-block",boxSizing:"border-box",minWidth:c.a.rem(1),width:c.a.rem(1),height:c.a.rem(1),border:`${c.a.rem(.125)} solid ${l.k}`,borderRadius:c.a.percent(50),backgroundColor:s.a.CoreNeutral0,content:"' '"})]),p={outline:"none",appearance:"none","-webkit-appearance":"none",$nest:{"&:checked + .radioInput":{border:`${c.a.rem(.25)} solid ${s.a.CoreBlue50}`}}},u=c.a.stylesheet({radioInputHidden:[p],radio:[{display:"inline-flex",cursor:"pointer",alignItems:"center"}]})},hnW1:function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e.Hidden="hidden",e.Dot="dot",e.Popup="popup",e.Passed="passed"}(n||(n={}))},jSKJ:function(e,t,a){"use strict";a.d(t,"a",(function(){return bt}));var n,r=a("ERkP"),i=a("OA+g"),o=a("I7vG"),s=a("LNSM"),c=a("vOOZ"),l=a("lrqh"),d=a("D9EC"),p=a("ax6a"),u=a("PrA7"),m=a("6gXa"),g=a("rk+4"),h=a("uqkn"),f=a("+w1e"),b=a("E0zP"),y=a("XxrX"),v=a("Sfi4"),C=a("kED/"),O=a("uZT5"),k=a("BugA"),w=a("aIes"),S=a("1gzW"),A=a("zR/0"),E=a("S3HV"),x=a("hoSD"),I=a("ps/9"),j=a("dE97"),T=a("nnns"),N=a("8P+J"),L=a("tZ26"),B=a("yZqL"),P=a("H9T+"),F=a("HUX/");!function(e){e.Full=({card:e,actions:n})=>r.createElement(B.a,{footer:null,visualState:e.visualState,onFocus:()=>n.next({type:f.b.Type.alertCardShow,cardType:f.b.getCardType(e),alertId:e.activeAlert.id}),theme:Object(F.b)(e.renderOptions),body:r.createElement(a,{card:e}),mainActions:r.createElement(P.g,{card:e,feedbackActions:n}),subActions:null,extra:r.createElement(t,{card:e,actions:n})});const t=({card:e,actions:t})=>{const a=r.useContext(g.a.Context).card.sentenceLevelBrandTones;return r.createElement(k.Small,{className:G.sentenceLevelBrandTonesFooter},a.helpfulFeedbackQuestion(e.activeAlert.emotion),r.createElement("div",{className:G.sentenceLevelBrandTonesFooterHelpfulFeedback},r.createElement(T.a.Ghost,{name:`sentence-level-brand-tones-${e.activeAlert.emotion}-helpful-feedback-yes`,title:a.helpfulFeedbackYes,active:l.g.getEq(l.c.eqStrict).equals(e.activeAlert.feedback,l.g.some(j.l.accurate)),disabled:l.g.isSome(e.activeAlert.feedback),onClick:()=>{t.next({type:f.b.Type.sentenceLevelBrandTonesFeedback,alertId:e.activeAlert.id,feedbackType:j.l.accurate})}},r.createElement(L.d.VoteYes,null)),r.createElement(T.a.Ghost,{name:`sentence-level-brand-tones-${e.activeAlert.emotion}-helpful-feedback-no`,title:a.helpfulFeedbackNo,active:l.g.getEq(l.c.eqStrict).equals(e.activeAlert.feedback,l.g.some(j.l.inaccurate)),disabled:l.g.isSome(e.activeAlert.feedback),onClick:()=>{t.next({type:f.b.Type.sentenceLevelBrandTonesFeedback,alertId:e.activeAlert.id,feedbackType:j.l.inaccurate}),t.next({type:f.b.Type.alertIgnore,alertId:e.activeAlert.id,id:e.id,eligibleForSurvey:h.a.isEligibleForDismissSurvey(e)})}},r.createElement(L.d.VoteNo,null))))},a=({card:e})=>{const t=r.useContext(g.a.Context),a=l.g.fromNullable(e.activeAlert.highlightTexts[0]);return r.createElement("div",null,r.createElement(P.j,{alert:e.activeAlert,options:e.renderOptions}),r.createElement("div",null,r.createElement("div",{className:G.sentenceLevelBrandTonesHeaderWrapper},r.createElement("div",{className:G.sentenceLevelBrandTonesHeader},r.createElement(N.b,{className:G.sentenceLevelBrandTonesHeaderEmoji},e.activeAlert.emoji),x.f.capitalize(e.activeAlert.emotion)),r.createElement(C.a.Regular,{className:G.offBrandBadge},t.card.sentenceLevelBrandTones.offBrandBadge)),r.createElement(k.Base,{className:G.sentenceLevelBrandTonesDescription},e.activeAlert.description),Object(o.pipe)(a,l.g.fold(i.constNull,t=>r.createElement(P.i,{text:t,layoutDensity:e.renderOptions.layoutDensity})))))}}(n||(n={}));const D={display:"flex",alignItems:"center",justifyContent:"space-between",background:p.a.CoreNeutral10,borderRadius:`${I.q} ${I.q} ${m.a.rem(I.r)} ${m.a.rem(I.r)}`,padding:`${m.a.rem(.3)} ${m.a.rem(1)}`,color:p.a.CoreNeutral50,fontSize:m.a.rem(.64)},$={display:"flex",alignItems:"center",$nest:{'& div[role="button"]:first-child':{marginRight:m.a.rem(.125)}}},R={display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:m.a.rem(1),marginBottom:m.a.rem(.625)},M={fontWeight:"bold",fontSize:m.a.rem(.875),lineHeight:m.a.rem(1)},_={marginRight:m.a.rem(.5),lineHeight:m.a.rem(1)},W={background:p.a.CoreRed1,color:p.a.CoreRed60,fontWeight:"bold",fontSize:m.a.rem(.6),lineHeight:m.a.rem(1)},H={marginBottom:m.a.rem(1)},G=m.a.stylesheet({offBrandBadge:[W],sentenceLevelBrandTonesHeaderWrapper:[R],sentenceLevelBrandTonesHeader:[M],sentenceLevelBrandTonesHeaderEmoji:[_],sentenceLevelBrandTonesFooter:[D],sentenceLevelBrandTonesFooterHelpfulFeedback:[$],sentenceLevelBrandTonesDescription:[H]});var q=a("1w6p"),V=a("6fbX"),z=a("wOnQ"),U=a("yrKE"),Y=a("IdhR");const X=({card:e,actions:t,disabled:a})=>Object(P.w)(e.activeAlert,e.renderOptions.layoutDensity)?r.createElement(Y.a,{key:"card-actions-button",mode:"default",actions:t,card:e,disabled:a}):null,K=q.b.Grid.make(({slots:e,state:t,notify:a})=>r.createElement(c.a.Fragment,null,t.pipe(A.a.map(t=>r.createElement(P.s,{card:t,actions:{next:e=>a(e)(),error:i.constVoid,complete:i.constVoid},isChecking:A.a.of(!1),isCheckingGlobal:A.a.of(!1),cardBody:Object(i.constant)(r.createElement(c.a.Fragment,null,e.body)),cardTheme:{contentBody:Z.contentBody}}))))),Z=m.a.stylesheet({contentBody:[{paddingLeft:0}]}),Q=q.b.Knot.make(K,{body:q.b.Node.make(()=>{const e=r.useContext(g.a.Context);return r.createElement("div",{className:te.container},r.createElement(U.a,{theme:{container:te.animation}}),r.createElement(k.Base,{className:te.label},e.card.shortenIt.loadingLabel))})}),J={display:"flex",flexDirection:"row",alignItems:"center",paddingBottom:m.a.rem(.25)},ee={paddingLeft:m.a.rem(.5)},te=m.a.stylesheet({container:[J],animation:[{transform:"scale(.7)"}],label:[ee]}),ae=(e,t)=>q.a.composeKnot({body:Object(i.constant)(A.a.of(null)),root:q.a.fromSideEffect(e=>{t.next(e)},e)}),ne=q.b.Knot.make(K,{body:q.b.Node.make(()=>{const e=r.useContext(g.a.Context);return r.createElement("div",{className:oe.container},r.createElement(L.d.ValidationOk,null),r.createElement(k.Base,{className:oe.label},e.card.shortenIt.notFoundLabel))})}),re={display:"flex",flexDirection:"row",alignItems:"center",paddingBottom:m.a.rem(.25)},ie={paddingLeft:m.a.rem(.5)},oe=m.a.stylesheet({container:[re],label:[ie]}),se=(e,t)=>q.a.composeKnot({body:Object(i.constant)(A.a.of(null)),root:q.a.fromSideEffect(e=>{t.next(e)},e)});var ce=a("D57K"),le=a("gy42"),de=a("0Hf4"),pe=a("BnIB");const ue=q.b.Node.make(({state:e})=>r.createElement(c.a.Fragment,null,e.pipe(A.a.map(({collapsed:e,text:t})=>e?r.createElement("span",{className:Pe.shortenItCollapsedDelete},r.createElement(L.d.EllipsisSmall,{width:13,className:Pe.shortenItCollapsedIcon})):r.createElement("span",{className:Pe.shortenItDelete},t))))),me=/^\W/,ge=q.b.Node.make(({state:e})=>r.createElement(c.a.span,{className:e.pipe(A.a.map(e=>me.test(e.text)?Pe.shortenItInsertPunctuation:Pe.shortenItInsert))},e.pipe(A.a.map(e=>e.text)))),he=q.b.Node.make(({state:e})=>r.createElement(c.a.span,null,e.pipe(A.a.map(e=>e.text)))),fe=q.b.Union.make("kind",{insert:ge,delete:ue,text:he}),be=q.b.Grid.make(({slots:e,state:t,notify:a})=>{const n=r.useContext(g.a.Context).card.shortenIt.collapsedButtonTooltip;return r.createElement(c.a.Fragment,null,t.pipe(A.a.map(({isReviewableGroup:t,isInReview:o,group:s})=>Object(i.pipe)(s,l.g.filter(()=>t),l.g.fold(()=>e.parts,t=>o?r.createElement("span",{ref:e=>{e&&Object(i.pipe)(l.g.fromNullable(e.offsetParent),l.g.map(e=>e.getBoundingClientRect()),l.g.tap(n=>{const r=e.getBoundingClientRect();a({kind:"editGroupExpanded",group:t,offsetRect:{width:r.width,height:r.height,top:r.top-n.top,left:r.left-n.left},offsetParentSize:{width:n.width,height:n.height}})()}))},className:Pe.shortenItEditGroupExpanded},e.parts):r.createElement(T.a,{name:"shorten-it-review-change",className:Pe.shortenItEditGroupButton,animationMode:pe.a.FromClickPoint,title:n,onClick:a({kind:"reviewEdit",group:t})},e.parts))))))}),ye=q.b.Knot.make(be,{parts:q.b.List.make(l.a.array,fe)}),ve=q.b.List.make(l.a.array,ye),Ce=q.b.Grid.make(({slots:e,state:t})=>r.createElement(k.Base,{className:t.pipe(A.a.map(e=>Object(i.pipe)(e,y.a.Density.matchOrDefault(y.a.Density.minimal)(()=>Pe.minimalShortenItBackground,()=>Pe.shortenItBackground))))},e.labels)),Oe=q.b.Knot.make(Ce,{labels:ve}),ke="cards-replacements_labels-",we={shortenItBackground:`${ke}shortenItBackground`,minimalShortenItBackground:`${ke}minimalShortenItBackground`,shortenItDelete:`${ke}shortenItDelete`,shortenItInsert:`${ke}shortenItInsert`,shortenItInsertPunctuation:`${ke}shortenItInsertPunctuation`,shortenItEditGroupButton:`${ke}shortenItEditGroupButton`,shortenItEditGroupExpanded:`${ke}shortenItEditGroupExpanded`,shortenItCollapsedDelete:`${ke}shortenItCollapsedDelete`,shortenItCollapsedDeleteButton:`${ke}shortenItCollapsedDeleteButton`,shortenItCollapsedIcon:`${ke}shortenItCollapsedIcon`},Se={overflowX:"hidden",overflowY:"auto",overflowWrap:"anywhere",margin:`${m.a.rem(1)} 0`,color:p.a.CoreNeutral90,whiteSpace:"pre-wrap",fontWeight:400,fontFeatureSettings:`${I.e}, ${I.f}`},Ae={color:p.a.CoreRed50,textDecoration:"line-through",fontWeight:400},Ee={color:p.a.CoreBlue50,fontWeight:600},xe={transitionProperty:"background-color",transitionDuration:".2s",padding:`0 0 ${m.a.rem(.2)} 0`,display:"inline",whiteSpace:"unset",verticalAlign:"unset",borderWidth:"1px",borderStyle:"solid",borderRadius:m.a.rem(I.s)},Ie=Object.assign(Object.assign({},xe),{backgroundColor:p.a.CoreNeutral1,borderColor:p.a.CoreNeutral10,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:p.a.CoreBlue10,borderColor:p.a.CoreBlue10}}}),je=Object.assign(Object.assign({},xe),{backgroundColor:p.a.CoreBlue10,borderColor:p.a.CoreBlue10,position:"relative"}),Te={display:"inline-block",width:m.a.rem(1),lineHeight:m.a.rem(.625),height:m.a.rem(.625),margin:`0 ${m.a.rem(.25)}`,verticalAlign:"middle",cursor:"pointer",overflowWrap:"normal",textAlign:"center",borderRadius:m.a.rem(I.t)},Ne=Object.assign({},Te),Le=Object.assign(Object.assign({},Te),{backgroundColor:p.a.CoreNeutral20,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:p.a.CoreBlue10}}}),Be={minWidth:"unset",minHeight:"unset",paddingBottom:m.a.rem(.125),fill:p.a.CoreBlue50,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{fill:p.a.CoreNeutral50}}},Pe={shortenItBackground:m.a.joinClasses([we.shortenItBackground,m.a.style(Se),de.a.style(Se)]),minimalShortenItBackground:m.a.joinClasses([we.minimalShortenItBackground,m.a.style(Se,{lineHeight:m.a.rem(1.3125)}),de.a.style(Se,{lineHeight:m.a.rem(1.3125)})]),shortenItDelete:m.a.joinClasses([we.shortenItDelete,m.a.style(Ae),de.a.style(Ae)]),shortenItInsert:m.a.joinClasses([we.shortenItInsert,m.a.style(Ee),de.a.style(Ee)]),shortenItInsertPunctuation:m.a.joinClasses([we.shortenItInsertPunctuation,m.a.style(Ee),de.a.style(Ee)]),shortenItEditGroupButton:m.a.joinClasses([we.shortenItEditGroupButton,m.a.style(Ie),de.a.style(Ie)]),shortenItEditGroupExpanded:m.a.joinClasses([we.shortenItEditGroupExpanded,m.a.style(je),de.a.style(je)]),shortenItCollapsedDelete:m.a.joinClasses([we.shortenItCollapsedDelete,m.a.style(Ne),de.a.style(Ne)]),shortenItCollapsedDeleteButton:m.a.joinClasses([we.shortenItCollapsedDeleteButton,m.a.style(Le),de.a.style(Le)]),shortenItCollapsedIcon:m.a.joinClasses([we.shortenItCollapsedIcon,m.a.style(Be),de.a.style(Be)])};m.a.cssRule(`.${we.shortenItDelete} + .${we.shortenItInsert}`,{marginLeft:m.a.rem(.25)});const Fe=q.b.Grid.make(({state:e,view:t,notify:a,slots:n})=>{const o=r.useContext(g.a.Context),l=Object.assign(Object.assign({},le.b.noopObserver()),{next:e=>a(e)()}),p=S.a.useMemoOnDidMount(()=>s.a.create(!1));return S.a.useSubscriptionTo(t("transformHidden").pipe(A.a.tap(le.b.toAtom(p)))),r.createElement(c.a.Fragment,null,e.pipe(A.a.map(({item:e})=>r.createElement(B.a,{visualState:e.visualState,onFocus:a({type:f.b.Type.alertCardShow,cardType:f.b.getCardType(e),alertId:e.activeAlert.id}),onMouseOut:a({type:f.b.Type.hover,kind:"unhover",id:e.id}),onMouseOver:a({type:f.b.Type.hover,kind:"hover",id:e.id}),theme:Object.assign({content:t("isCheckingGlobal").pipe(A.a.map(Object(d.c)(Ve.loadingWrapperInvisible,Ve.loadingWrapper)))},Object(F.b)(e.renderOptions)),mainActions:r.createElement(P.e,{card:e,feedbackActions:l}),subActions:r.createElement(X,{card:e,actions:l}),body:r.createElement(r.Fragment,null,r.createElement(P.j,{alert:e.activeAlert,options:e.renderOptions,badge:r.createElement(C.a.Regular,null,o.beta)}),Object(i.pipe)(e.renderOptions.layoutDensity,y.a.Density.matchOrDefault(y.a.Density.minimal)(()=>null,()=>r.createElement(P.f,{description:e.meta.explanation,actions:{next:e=>a(e)(),error:i.constVoid,complete:i.constVoid},layoutDensity:e.renderOptions.layoutDensity}))),r.createElement(c.a.div,{className:t("transformHidden").pipe(A.a.map(Object(d.c)(Ve.transformHidden,void 0)))},n.transform)),footer:r.createElement(r.Fragment,null,r.createElement(P.h,{card:e}),r.createElement(c.a.div,{className:Ve.footerBtns},r.createElement(P.r,{className:Ve.applyButton,spinnerClassName:Ve.applyButtonSpinner,messageClassName:Ve.applyButtonMessage,applyMessage:e.activeAlert.todoAction,checkingMessage:o.card.shortenIt.acceptButtonCheckingLabel,checkingInProgress:p,onClick:w.d.callOnce(a({type:f.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:h.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:h.a.isEligibleForGbPrompt(e),cardType:f.b.getCardType(e)}))}))),extra:r.createElement(P.c,{isChecking:t("isCheckingGlobal")})}))))}),De=q.b.Grid.make(({slots:e,state:t,notify:a})=>{const n=r.useContext(g.a.Context).card.shortenIt,{ref:o,onMount:s}=S.a.useElWatcher(),d=A.b.compact(t).pipe(A.a.map(e=>e.group),A.a.distinctUntilChanged(),A.a.switchMap(e=>o.pipe(A.b.compactMap(t=>le.a.getResizeObservable(t).pipe(A.a.map(()=>({width:t.clientWidth,height:t.clientHeight})),A.a.startWith({width:t.clientWidth,height:t.clientHeight}),A.a.distinctUntilChanged(x.c.Box.eq.equals),A.a.tap(t=>a(Object.assign(Object.assign({kind:"editPopupSize"},t),{group:e}))()))))));return S.a.useSubscriptionTo(d),r.createElement(c.a.div,{className:Ve.editPopupContainer},e.replacementLabels,t.pipe(A.a.map(l.g.fold(i.constNull,e=>{var{group:t}=e,i=Object(ce.__rest)(e,["group"]);return r.createElement(c.a.div,{className:Ve.editPopup,style:"withPosition"===i.kind?{transform:`translate(${i.left}px, ${i.top}px)`,visibility:"visible",opacity:1}:"withoutPosition"===i.kind?{visibility:"hidden",opacity:0}:Object(V.d)(i),mount:s},r.createElement(T.a.Primary,{name:"shorten-it-keep-change",onClick:a({kind:"keepEdit",group:t})},n.editPopupKeepButtonLabel),r.createElement(T.a.Tertiary,{name:"shorten-it-dismiss-change",onClick:a({kind:"dismissEdit",group:t})},n.editPopupDismissButtonLabel))}))))}),$e=q.b.Knot.make(De,{replacementLabels:Oe}),Re=q.b.Knot.make(Fe,{transform:$e}),Me={padding:`0 ${m.a.rem(1)}`},_e={display:"flex",flexDirection:"row",padding:m.a.rem(.25),position:"absolute",backgroundColor:p.a.CoreNeutral0,boxShadow:"0px 0px 0.5px rgba(0, 0, 0, 0.7), 0px 2px 8px rgba(26, 33, 52, 0.2)",borderRadius:m.a.rem(I.s),zIndex:1,top:0,left:0,transition:"visibility 0.15s linear, opacity 0.15s linear"},We={$nest:{"&[data-disabled='true']":{backgroundColor:p.a.CoreNeutral10,color:p.a.CoreNeutral40}}},He={$nest:{"& circle":{stroke:p.a.CoreNeutral40}}},Ge={paddingRight:m.a.rem(.25)},qe={transition:`opacity ${m.a.seconds(P.u)}`},Ve=m.a.stylesheet({loadingWrapper:[qe],loadingWrapperInvisible:[qe,{opacity:0,pointerEvents:"none"}],footerBtns:[{display:"flex"}],expandEditsBtn:[Me],editPopupContainer:[{position:"relative"}],editPopup:[_e],applyButton:[We],applyButtonSpinner:[He],applyButtonMessage:[Ge],transformHidden:[{pointerEvents:"none",opacity:.5}]});var ze=a("GRZr");const Ue=(e,t,a)=>q.a.composeKnot({root:q.a.fromSideEffect(i.constVoid,e.pipe(A.a.map(e=>e.renderOptions.layoutDensity))),labels:n=>A.a.mergeStatic(n.pipe(A.a.withLatestFrom(e),A.a.tap(([e,n])=>{const r=e.action.action;switch(r.kind){case"reviewEdit":t.set(l.g.some({groupId:r.group,expandedEdit:l.g.none,popupSize:l.g.none,popupPosition:l.g.none})),a.next({type:f.b.Type.shortenItReviewEdit,alertId:n.activeAlert.id,itemId:n.id,group:r.group});break;case"editGroupExpanded":t.set(Object(i.pipe)(t.get(),l.g.filter(e=>e.groupId===r.group),l.g.fold(()=>l.g.some({groupId:r.group,popupSize:l.g.none,popupPosition:l.g.none,expandedEdit:l.g.some({offsetRect:r.offsetRect,offsetParentSize:r.offsetParentSize})}),e=>l.g.some(Object.assign(Object.assign({},e),{expandedEdit:l.g.some({offsetRect:r.offsetRect,offsetParentSize:r.offsetParentSize})})))));break;default:Object(V.d)(r)}}),A.a.switchMap(()=>A.a.NEVER)),A.a.sequenceS({item:e,editsInReview:t}).pipe(A.a.map(({item:e,editsInReview:t})=>Object(i.pipe)(e.transform,l.g.filter(z.j.isShortenIt),l.g.map(x.e.pick("labels")),l.g.map(t=>Object(i.pipe)(t,l.a.filterMap(t=>Object(i.pipe)(t.group,l.g.fold(i.constFalse,t=>e.activeAlert.dismissedTransformGroups.has(t)))?t.type===z.k.Delete?l.g.some(Object.assign(Object.assign({},t),{type:z.k.Text})):t.type===z.k.Insert?l.g.none:l.g.some(t):l.g.some(t)))),l.g.fold(()=>[],Object(i.flow)(l.a.reduce([],(e,a)=>{const n=a.type===z.k.Delete?{kind:a.type,text:a.text,collapsed:Object(i.pipe)(a.group,l.g.fold(()=>{var e;return null!==(e=a.shouldBeCollapsed)&&void 0!==e&&e},e=>!Object(i.pipe)(t,l.g.exists(t=>t.groupId===e)))),group:a.group}:a.type===z.k.Insert||a.type===z.k.Text?{kind:a.type,text:a.text,group:a.group}:Object(V.d)(a);return e.length>0&&l.g.getEq(l.c.eqString).equals(e[e.length-1].group,a.group)&&l.g.isSome(a.group)?e.slice(0,-1).concat({group:a.group,parts:e[e.length-1].parts.concat(n)}):e.concat({group:a.group,parts:[n]})}),l.a.map(e=>({root:{isReviewableGroup:e.parts.length>1||1===e.parts.length&&e.parts[0].kind!==z.k.Text,isInReview:Object(i.pipe)(e.group,l.g.fold(i.constFalse,e=>Object(i.pipe)(t,l.g.exists(t=>t.groupId===e)))),group:Object(i.pipe)(e.parts.map(e=>e.group),Object(ze.fold)(l.g.getFirstMonoid()))},parts:e.parts}))))))))}),Ye=(e,t,a,n,r,i)=>q.a.composeKnot({root:n=>A.a.mergeStatic(n.pipe(A.a.tap(e=>{e.type===f.b.Type.hover&&i.next("hover"===e.kind),a.next(e)}),A.a.switchMap(()=>A.a.NEVER)),A.a.sequenceS({item:e,isCheckingGlobal:t,transformHidden:r})),transform:q.a.composeKnot({root:Xe(e,n,a),replacementLabels:Ue(e,n,a)})});const Xe=(e,t,a)=>n=>A.a.mergeStatic(n.pipe(A.a.withLatestFrom(e),A.a.tap(([e,n])=>{"editPopupSize"===e.kind?t.set(Object(i.pipe)(t.get(),l.g.filter(t=>t.groupId===e.group),l.g.fold(()=>l.g.some({groupId:e.group,expandedEdit:l.g.none,popupPosition:l.g.none,popupSize:l.g.some({width:e.width,height:e.height})}),t=>l.g.some(Object.assign(Object.assign({},t),{popupSize:l.g.some({width:e.width,height:e.height})}))))):function(e,t,a,n){switch(a.set(Object(i.pipe)(a.get(),l.g.filter(e=>e.groupId!==t.group))),t.kind){case"dismissEdit":n.next({type:f.b.Type.shortenItDismissEdit,alertId:e.activeAlert.id,itemId:e.id,group:t.group}),e.activeAlert.transformGroups.size===new Set(e.activeAlert.dismissedTransformGroups).add(t.group).size&&n.next({type:f.b.Type.alertIgnore,alertId:e.activeAlert.id,id:e.id,eligibleForSurvey:h.a.isEligibleForDismissSurvey(e)});break;case"keepEdit":n.next({type:f.b.Type.shortenItKeepEdit,alertId:e.activeAlert.id,itemId:e.id,group:t.group});break;default:Object(V.d)(t.kind)}}(n,e,t,a)}),A.a.switchMap(()=>A.a.NEVER)),t.view(l.g.chain(e=>Object(i.pipe)(e.expandedEdit,l.g.map(t=>Object(i.pipe)(e.popupSize,l.g.fold(()=>({kind:"withoutPosition",group:e.groupId}),a=>Object.assign({kind:"withPosition",group:e.groupId},function(e,t,a=-10){const n=t.offsetRect.top+t.offsetRect.height,r=t.offsetRect.left+a;if(r+e.width>t.offsetParentSize.width)return{top:n,left:t.offsetParentSize.width-e.width};return{top:n,left:r}}(a,t)))))))));const Ke={loading:Q,summary:Re,notFound:ne},Ze=q.b.Union.make("kind",Ke),Qe=e=>e.pipe(A.a.map(e=>{const t=e.activeAlert.summaryState,a=l.g.fold(i.constFalse,z.j.isShortenIt)(e.transform);switch(t){case j.m.SummaryState.notFound:return{kind:"notFound"};case j.m.SummaryState.notRequested:return{kind:"loading"};case j.m.SummaryState.requestSent:return a?{kind:"summary"}:{kind:"loading"};case j.m.SummaryState.invalidated:case j.m.SummaryState.received:return{kind:"summary"};default:Object(V.d)(t)}}));var Je;(Je||(Je={})).Full=e=>{const t=S.a.useAtomOf(e.card),{isChecking:a,isCheckingGlobal:n}=function(e,t,a){const n=S.a.useAtomOf({isWaiting:e.activeAlert.summaryState===j.m.SummaryState.requestSent||e.activeAlert.summaryState===j.m.SummaryState.invalidated,cardIsOpen:"focused"===e.visualState.transition.type||"expanded"===e.visualState.transition.type});return S.a.useMemoOnDidMount(()=>({isChecking:A.a.combineLatestStatic([t,n]).pipe(A.a.map(([e,t])=>e||t.isWaiting&&t.cardIsOpen),A.a.distinctUntilChanged()),isCheckingGlobal:A.a.combineLatestStatic([a,n]).pipe(A.a.map(([e,t])=>e||t.isWaiting&&!t.cardIsOpen),A.a.distinctUntilChanged())}))}(e.card,e.isChecking,e.isCheckingGlobal),{transformHidden:o,isMouseInside:c}=Object(P.A)(a),d=S.a.useMemoOnDidMount(()=>s.a.create(l.g.none)),p=S.a.useMemoOnDidMount(()=>t.pipe(A.a.map(Object(i.flow)(x.e.pick("transform"),l.g.filter(z.j.isShortenIt))),A.a.skipBy(l.g.getEq(z.j.ShortenIt.eq)),A.a.map(()=>l.g.none),A.a.tap(le.b.toAtom(d))));return S.a.useSubscriptionTo(p),r.createElement(r.Fragment,null,q.b.mount(Ze,((e,t,a,n,r,i)=>q.a.composeUnion({loading:ae(e,a),notFound:se(e,a),summary:Ye(e,t,a,n,r,i)},()=>Qe(e)))(t,n,e.actions,d,o,c)))};var et=a("r/bb");const tt=({card:e,actions:t})=>{const a=r.useContext(g.a.Context),n=l.g.isNone(e.activeAlert.takeawayFeedback)?a.card.takeaway.defaultTitle:e.activeAlert.title,s=l.g.fromNullable(e.activeAlert.highlightTexts[0]),c=Object(o.pipe)(e.activeAlert,l.g.fromPredicate(e=>!e.takeawayIsLikelyToBeRead&&l.g.contains(j.q.correctlyDetected)(e.takeawayFeedback)),l.g.map(()=>e.meta.explanation));return r.createElement(r.Fragment,null,Object(o.pipe)(e.renderOptions.layoutDensity,y.a.Density.matchOrDefault(y.a.Density.minimal)(()=>r.createElement(P.j,{alert:e.activeAlert,options:e.renderOptions},r.createElement(P.p,{text:h.a.miniTitle(e,a)})),()=>r.createElement(r.Fragment,null,r.createElement(P.j,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(P.o,{text:n})))),Object(o.pipe)(s,l.g.fold(i.constNull,t=>r.createElement(P.i,{text:t,layoutDensity:e.renderOptions.layoutDensity}))),Object(o.pipe)(c,l.g.fold(i.constNull,a=>r.createElement(P.f,{description:a,actions:t,layoutDensity:e.renderOptions.layoutDensity}))))},at=({card:e,feedbackActions:t})=>r.createElement(r.Fragment,null,r.createElement(T.a.Ghost,{name:"takeaway-like",onClick:w.d.callOnce(()=>{var a;return t.next({type:f.b.Type.takeawayCorrectlyDetected,id:e.id,alertId:e.activeAlert.id,takeawayText:null!==(a=e.activeAlert.highlightTexts[0])&&void 0!==a?a:"",isLikelyToBeRead:e.activeAlert.takeawayIsLikelyToBeRead})})},r.createElement(L.d.YesCircle,null)," Yes"),r.createElement(T.a.Ghost,{name:"takeaway-dislike",onClick:w.d.callOnce(()=>t.next({type:f.b.Type.takeawayIncorrectlyDetected,id:e.id,alertId:e.activeAlert.id}))},r.createElement(L.d.NoCircle,null)," No")),nt=({card:e,feedbackActions:t})=>{const a=r.useContext(g.a.Context);return r.createElement(r.Fragment,null,r.createElement(T.a.Ghost,{name:"resolve",title:a.resolve,onClick:w.d.callOnce(()=>t.next({type:f.b.Type.takeawayResolve,id:e.id,alertId:e.activeAlert.id,isLikelyToBeRead:e.activeAlert.takeawayIsLikelyToBeRead}))},r.createElement(L.d.YesCircle,null)),r.createElement(T.a.Ghost,{name:"ignore",title:a.dismiss,ariaLabel:a.dismiss,onClick:w.d.callOnce(()=>t.next({type:f.b.Type.takeawayDismiss,id:e.id,alertId:e.activeAlert.id,isLikelyToBeRead:e.activeAlert.takeawayIsLikelyToBeRead}))},r.createElement(L.d.Ignore,null)))};function rt(e){return!l.g.isNone(e.takeawayFeedback)&&!(!l.g.isSome(e.examples)&&!l.g.isSome(e.details))}const it=e=>Object.assign(Object.assign({},Object(F.a)(e.layoutDensity)),{wrapper:Object(o.pipe)(e.layoutDensity,y.a.Density.matchOrDefault(y.a.Density.minimal)(()=>ct.minimalCardWrapper,()=>void 0))});var ot;(ot||(ot={})).Full=({card:e,actions:t})=>r.createElement(B.a,{visualState:e.visualState,onFocus:()=>t.next({type:f.b.Type.alertCardShow,cardType:f.b.getCardType(e),alertId:e.activeAlert.id}),theme:it(e.renderOptions),body:r.createElement(tt,{card:e,actions:t}),mainActions:l.g.isNone(e.activeAlert.takeawayFeedback)?r.createElement(at,{card:e,feedbackActions:t}):r.createElement(nt,{card:e,feedbackActions:t}),footer:rt(e.activeAlert)?r.createElement(P.h,{card:e}):null,subActions:rt(e.activeAlert)?r.createElement(Y.a,{key:"card-actions-button",mode:"default",actions:t,card:e}):null});const st={padding:`${m.a.rem(.75)} ${m.a.rem(.5)} ${m.a.rem(.5)} ${m.a.rem(1)}`},ct=m.a.stylesheet({minimalCardWrapper:[st]});var lt=a("CxAE"),dt=a("cVtq");const pt=({card:e,actions:t,isChecking:a,isCheckingGlobal:n})=>{const o=r.useContext(g.a.Context);return r.createElement(ft,{card:e,actions:t,isChecking:a,isCheckingGlobal:n,cardBody:Object(i.constant)(r.createElement(P.k,{card:e,actions:t,isChecking:a})),cardFooter:a=>r.createElement(r.Fragment,null,r.createElement(P.h,{card:e}),r.createElement("div",{className:wt.fullSentenceCardFooterBtns},r.createElement(P.r,{title:o.card.todoAction(e.activeAlert.todoAction),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:a,onClick:w.d.callOnce(()=>{t.next({type:f.b.Type.alertApply,id:e.id,eligibleForSurvey:h.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:h.a.isEligibleForGbPrompt(e),alertId:e.activeAlert.id,alternativeIndex:0,cardType:f.b.getCardType(e)})})})))})},ut=({card:e,actions:t,isChecking:a,isCheckingGlobal:n,transform:d})=>{const p=r.useContext(g.a.Context),m=s.a.create(!0);return S.a.useSubscriptionTo(Object(o.pipe)(m,A.a.skip(1),A.a.tap(e=>t.next({type:f.b.Type.fullSentenceHighlightChangesToggle,showChanges:e})))),r.createElement(ft,{card:e,actions:t,isChecking:a,isCheckingGlobal:n,cardBody:Object(i.constant)(r.createElement(c.a.Fragment,null,r.createElement(P.j,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(yt,{isNew:e.renderOptions.isNew,actions:t}),Object(o.pipe)(e.renderOptions.layoutDensity,y.a.Density.matchOrDefault(y.a.Density.minimal)(()=>null,()=>r.createElement(P.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}))),r.createElement(v.b,{classes:{rendered:wt.replacement,removing:wt.replacementHidden},timeout:250,content:m.pipe(A.a.combineLatest(d,(t,a)=>Object(o.pipe)(a,l.g.fold(()=>(u.Monitoring.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable in full-sentence card",{cardId:e.id}),null),a=>r.createElement(dt.c,{replacements:a,showDiff:t,layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(y.a.Features.a11yContrast)})))))}),r.createElement(P.l,{card:e,isChecking:a}))),cardFooter:a=>r.createElement(r.Fragment,null,r.createElement(P.h,{card:e}),r.createElement(c.a.div,{className:wt.fullSentenceCardFooterBtns},r.createElement(P.r,{title:d.pipe(A.a.map(l.g.fold(()=>"",e=>p.card.todoAction(e.tooltipText)))),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:a,onClick:w.d.callOnce(()=>{t.next({type:f.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:h.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:h.a.isEligibleForGbPrompt(e),cardType:f.b.getCardType(e)})})}),r.createElement(O.a,{className:wt.fullSentenceCardCheckbox,checked:m,name:"set-goals"},p.card.showChangesToggle)))})},mt=({card:e,actions:t,isChecking:a,isCheckingGlobal:n,transform:s})=>{const p=r.useContext(g.a.Context),m=Object(o.pipe)(e.userInput,l.g.getOrElse(Object(i.constant)("")));return r.createElement(ft,{card:e,actions:t,isChecking:a,isCheckingGlobal:n,cardBody:n=>r.createElement(r.Fragment,{key:"content"},r.createElement(P.j,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(yt,{isNew:e.renderOptions.isNew,actions:t}),r.createElement(c.a.div,{className:n.pipe(A.a.map(Object(d.c)(wt.transformContainerInvisible,wt.transformContainer)))},r.createElement(v.b,{classes:{rendered:wt.replacement,removing:wt.replacementHidden},timeout:250,content:s.pipe(A.a.map(l.g.fold(()=>(u.Monitoring.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null),a=>r.createElement(dt.e,{key:"label",gapValue:m,replacements:a,layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(y.a.Features.a11yContrast),onFocus:()=>t.next({type:f.b.Type.focusUserInput,id:e.id,kind:"focus"}),onChange:a=>t.next({type:f.b.Type.changeUserInput,alertId:e.activeAlert.id,cardId:e.id,userInput:a}),onApply:w.d.callOnce(()=>t.next({type:f.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:h.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:h.a.isEligibleForGbPrompt(e),cardType:f.b.getCardType(e)}))}))))})),r.createElement(k.Paper,{className:n.pipe(A.a.map(Object(d.c)(wt.transformHint,wt.transformHintInvisible)))},p.card.updatingSuggestion),r.createElement(P.l,{card:e,isChecking:a}),Object(o.pipe)(e.renderOptions.layoutDensity,y.a.Density.matchOrDefault(y.a.Density.minimal)(()=>null,()=>r.createElement(P.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})))),cardFooter:Object(i.constant)(r.createElement(P.h,{card:e}))})},gt=({card:e,actions:t,isChecking:a,isCheckingGlobal:n,transform:s})=>{const p=r.useContext(g.a.Context);return r.createElement(ft,{card:e,actions:t,isChecking:a,isCheckingGlobal:n,cardBody:n=>r.createElement(r.Fragment,null,r.createElement(c.a.Fragment,null,r.createElement(P.j,{alert:e.activeAlert,options:e.renderOptions,badge:r.createElement(C.a.Regular,{a11yContrast:e.renderOptions.features.has(y.a.Features.a11yContrast)},p.beta)})),r.createElement(c.a.div,{className:n.pipe(A.a.map(Object(d.c)(wt.transformContainerInvisible,wt.transformContainer)))},r.createElement(v.b,{classes:{rendered:wt.replacement,removing:wt.replacementHidden},timeout:250,content:s.pipe(A.a.map(l.g.fold(()=>(u.Monitoring.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null),a=>{const n=Object(o.pipe)(e.synfonySelection,l.g.getOrElse(()=>[]));return r.createElement(dt.b,{replacements:a,onClick:a=>w.d.callOnce(()=>{t.next({type:f.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:a,cardType:f.b.getCardType(e),id:e.id,eligibleForSurvey:h.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:h.a.isEligibleForGbPrompt(e),drilldownSuggestionIds:n})}),onDive:(a,r)=>t.next({type:f.e.Kind.drilldown,alertId:e.activeAlert.id,wordIndex:a,cardId:e.id,alternativeId:r,drilldownSuggestionIds:n}),onBack:()=>t.next({type:f.e.Kind.back,cardId:e.id}),selection:n,layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(y.a.Features.a11yContrast)})})))})),r.createElement(k.Paper,{className:n.pipe(A.a.map(Object(d.c)(wt.transformHint,wt.transformHintInvisible)))},p.card.updatingSuggestion),r.createElement(P.l,{card:e,isChecking:a}),Object(o.pipe)(e.renderOptions.layoutDensity,y.a.Density.matchOrDefault(y.a.Density.minimal)(()=>null,()=>r.createElement(P.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})))),cardFooter:Object(i.constant)(r.createElement(P.h,{card:e}))})},ht=({card:e,actions:t,isChecking:a,isCheckingGlobal:n,transform:s})=>{const p=r.useContext(g.a.Context);return r.createElement(ft,{card:e,actions:t,isChecking:a,isCheckingGlobal:n,cardBody:n=>r.createElement(r.Fragment,null,r.createElement(P.j,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(c.a.div,{className:n.pipe(A.a.map(Object(d.c)(wt.transformContainerInvisible,wt.transformContainer)))},r.createElement(v.b,{classes:{rendered:wt.replacement,removing:wt.replacementHidden},timeout:250,content:s.pipe(A.a.map(l.g.fold(()=>(u.Monitoring.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null),a=>r.createElement(P.m,{rl:a,onClick:a=>w.d.callOnce(()=>{t.next({type:f.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:a,id:e.id,eligibleForSurvey:h.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:h.a.isEligibleForGbPrompt(e),cardType:f.b.getCardType(e)})}),layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(y.a.Features.a11yContrast)}))))})),r.createElement(k.Paper,{className:n.pipe(A.a.map(Object(d.c)(wt.transformHint,wt.transformHintInvisible)))},p.card.updatingSuggestion),r.createElement(P.l,{card:e,isChecking:a}),Object(o.pipe)(e.renderOptions.layoutDensity,y.a.Density.matchOrDefault(y.a.Density.minimal)(()=>null,()=>r.createElement(P.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})))),cardFooter:Object(i.constant)(r.createElement(P.h,{card:e}))})},ft=e=>{var t,a,n;return r.createElement(P.s,Object.assign({},e,{cardExtra:null!==(t=e.cardExtra)&&void 0!==t?t:Object(i.constant)(r.createElement(P.b,{card:e.card,actions:e.actions})),mainActions:null!==(a=e.mainActions)&&void 0!==a?a:Object(i.constant)(r.createElement(P.e,{card:e.card,feedbackActions:e.actions})),subActions:null!==(n=e.subActions)&&void 0!==n?n:Object(i.constant)(r.createElement(P.n,{card:e.card,actions:e.actions}))}))},bt=({card:e,actions:t,isChecking:a,isCheckingGlobal:i,transform:o})=>b.a.isSentenceLevelBrandTonesItem(e)?r.createElement(n.Full,{card:e,actions:t}):b.a.isTakeawayItem(e)?r.createElement(ot.Full,{card:e,actions:t}):b.a.isShortenItItem(e)?r.createElement(Je.Full,{card:e,actions:t,isChecking:a,isCheckingGlobal:i}):b.a.isToneAIItem(e)?r.createElement(lt.a.Full,{card:e,actions:t,isChecking:a,isCheckingGlobal:i}):b.a.isEthicalAIItem(e)?r.createElement(E.a.Full,{card:e,actions:t,isChecking:a}):b.a.isSuggestedSnippetItem(e)?r.createElement(et.a.Full,{card:e,actions:t,isChecking:a}):h.a.hasTransform(e)?h.a.hasFullSentenceTransform(e)?r.createElement(ut,{card:e,actions:t,isChecking:a,isCheckingGlobal:i,transform:o}):h.a.hasOneGapTransform(e)?r.createElement(mt,{card:e,actions:t,isChecking:a,isCheckingGlobal:i,transform:o}):h.a.hasSynfonyTransform(e)?r.createElement(gt,{card:e,actions:t,isChecking:a,isCheckingGlobal:i,transform:o}):r.createElement(ht,{card:e,actions:t,isChecking:a,isCheckingGlobal:i,transform:o}):h.a.isSimple(e)?r.createElement(pt,{card:e,actions:t,isChecking:a,isCheckingGlobal:i}):r.createElement(P.t,{card:e,actions:t,isChecking:a}),yt=e=>r.createElement(c.a.Fragment,null,e.isNew.pipe(A.a.map(l.g.fold(i.constNull,t=>r.createElement(P.d,{type:t,actions:e.actions,key:"new-notification"}))),A.a.startWith(null))),vt={transition:`opacity ${m.a.seconds(P.u)}`,transitionDelay:m.a.seconds(P.u)},Ct={position:"absolute",top:m.a.rem(2),color:p.a.CoreNeutral40,lineHeight:m.a.rem(2),transition:`opacity ${m.a.seconds(P.u)}`,transitionDelay:m.a.seconds(P.u)},Ot={transition:`opacity ${m.a.seconds(P.u)}`},kt={fontSize:m.a.rem(p.h.BodySize),lineHeight:m.a.rem(2.0625)},wt=Object.assign({},m.a.stylesheet({invisible:[P.x],transformContainer:[vt],transformContainerInvisible:[vt,P.x,{transitionDelay:"initial"}],transformHint:[Ct],transformHintInvisible:[Ct,P.x,{transitionDelay:"initial"}],replacement:[Ot],replacementHidden:[Ot,{opacity:0}],fullSentenceCardFooterBtns:[{display:"flex",flexWrap:"wrap"}],fullSentenceCardCheckbox:[kt]}))},"kED/":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("ERkP"),i=a("9NHN"),o=a("ax6a"),s=a("6gXa"),c=a("ps/9"),l=a("tZ26");!function(e){e.Regular=e=>r.createElement("span",Object.assign({},Object(i.c)(e.a11yContrast?h.badgeA11yContrast:h.badge,e.className)),e.children),e.New=({className:t})=>r.createElement(e.Regular,{className:t},"New"),e.NewWrapper=({children:t})=>r.createElement("div",null,r.createElement(e.New,null),t),e.Premium=({className:t})=>r.createElement(e.Regular,Object.assign({},Object(i.c)(h.premiumBadge,t)),r.createElement(l.d.PaidLink,{className:h.premiumBadgeIcon,width:12}),"PREMIUM"),e.Business=({className:t})=>r.createElement(e.Regular,Object.assign({},Object(i.c)(t)),"BUSINESS")}(n||(n={}));const d={display:"inline-block",padding:`${s.a.rem(o.g.BadgeY)} ${s.a.rem(o.g.BadgeX)}`,height:s.a.rem(o.f.Badge),borderRadius:s.a.rem(c.t),background:o.a.CoreGreen10,color:o.a.CoreGreen70,verticalAlign:"middle",textAlign:"center",textTransform:o.i.Badge,letterSpacing:o.e.Badge,fontWeight:o.d.Badge,fontSize:s.a.rem(o.c.Badge),lineHeight:s.a.rem(o.f.Badge)},p={background:o.a.CoreBlue1,color:o.a.CoreBlue60},u={marginRight:o.g.BadgeX,maxWidth:s.a.rem(o.f.Badge),maxHeight:s.a.rem(o.f.Badge),minWidth:s.a.rem(o.f.Badge),minHeight:s.a.rem(o.f.Badge),verticalAlign:"top"},m={background:o.a.CoreYellow20,color:o.a.CoreYellow80},g={fill:o.a.CoreYellow80},h=s.a.stylesheet({badge:[d],badgeA11yContrast:[d,p],badgeIcon:[u],premiumBadge:[d,m],premiumBadgeIcon:[u,g]})},kTRt:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("zR/0");!function(e){e.emit=e=>window.dispatchEvent(new CustomEvent("scrollaction",{detail:e})),e.observe=r.a.defer(()=>r.a.fromEvent(window,"scrollaction"))}(n||(n={}))},lSTv:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("OA+g"),i=a("lrqh"),o=a("Xo/A");!function(e){e.empty=o.a.empty,e.applyDiff=function(e){return Object(r.flow)(o.a.applyDiffLoose(e),i.b.mapLeft(e=>({recovered:e.recovered,rejected:e.rejected})))},e.toCheckingResult=function(e){return o.a.iso.wrap(e)}}(n||(n={}))},m5GR:function(e,t,a){e.exports=a.p+"files/eabe5d072b56b38a23c37e1b991c215d/inter-lightitalic.woff2"},mHcA:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return y})),a.d(t,"a",(function(){return v}));var n,r,i=a("I7vG"),o=a("FiSa"),s=a("SGhz"),c=a("24uI"),l=a("+JVj"),d=a("hoSD"),p=a("lrqh"),u=a("D9EC"),m=a("6fbX"),g=a("PrA7"),h=a("zR/0");function f(e){return null===e||d.f.isBreakWordChar(e.charCodeAt(0))}class b{constructor(e=0,t=!1){this._textLength=e,this._verify=t}pushChanges(e){o.a.isReset(e)?this._textLength=e.length:o.a.isDelta(e)&&(this._verify&&Object(s.g)(e.prevLen,this._textLength,"Incorrect textLength on insert."),this._textLength+=e.length)}get textLength(){return this._textLength}}!function(e){e.create=e=>l.b.compose({id:e})}(n||(n={})),function(e){class t{registerRange(e,t){return n.create(e)(t)}deregisterRange(e){return l.b.empty}findClosestToPosition(e,t){return p.g.none}findRanges(e){return[]}widen(e){return Object(i.pipe)(e,e=>l.b.alterLeft(e,1),p.b.chain(e=>l.b.alterRight(e,1)),p.b.unsafeGet)}narrow(e){return Object(i.pipe)(e,p.g.fromPredicate(e=>l.b.size(e)>1),p.g.map(e=>Object(i.pipe)(e,e=>l.b.alterLeft(e,-1),p.b.chain(e=>l.b.alterRight(e,-1)),p.b.unsafeGet)))}}e.RangeManagerMock=t,e.mock=new t}(r||(r={}));const y=(e,t)=>{let a=0;const n=new Map;if(o.a.isFlush(e))return{affected:[],changed:[]};let r=t.length+1;return o.a.isReset(e)?t.forEach(e=>{e.start=0,e.end=0,n.set(e.meta.id,e)}):e.delta.ops.forEach(e=>{if(c.a.isRetain(e))a+=e.retain;else if(c.a.isInsert(e)){const i=a,o=d.a.lowerBound(t,e=>e.end<i),s=e.insert,c="string"==typeof s?s.length:1;if(a+=c,p.g.isSome(o)){const e="string"==typeof s?s.charAt(s.length-1):null,a="string"==typeof s?s.charAt(0):null;for(let r=o.value;r<t.length;++r){const o=t[r];o.start<i?o.end===i?f(a)||n.set(o.meta.id,o):(n.set(o.meta.id,o),o.end+=c):o.start===o.end&&o.end===i?f(a)||n.set(o.meta.id,o):(o.start!==i||f(e)||n.set(o.meta.id,o),o.start+=c,o.end+=c)}r>o.value&&(r=o.value)}}else if(c.a.isDelete(e)){const i=a,o=d.a.lowerBound(t,e=>e.end<=i);if(p.g.isSome(o)){const a=i+e.delete;for(let r=o.value;r<t.length;++r){const o=t[r];o.start,o.start<a?(n.set(o.meta.id,o),o.start<i?o.end=o.end-Math.min(e.delete,o.end-i):o.end<=a?(o.start=i,o.end=i):(o.start=i,o.end-=e.delete)):(o.start-=e.delete,o.end-=e.delete)}r>o.value&&(r=o.value)}}}),{changed:t.slice(r),affected:Array.from(n.values())}};class v{constructor(e=0,t=!1){this._strictMode=t,this._log=g.Monitoring.Logging.getLogger("position_manager",g.Logging.LogLevel.DEBUG),this._verifyState=this._log.isEnabled(g.Logging.LogLevel.INFO),this._ranges=new Map,this._rangesArray=[],this._rangeChanged=new h.a.Subject,this.rangeChanged=this._rangeChanged,this.widen=e=>(this._validateRange(e),Object(i.pipe)(e,e=>l.b.alterLeft(e,e.start<=0?0:1),p.b.chain(e=>l.b.alterRight(e,e.end>=this._lenCalc.textLength?0:1)),p.b.getOrElse(t=>(this._log.error("TextRange mutation error",t),e)))),this.narrow=e=>(this._validateRange(e),Object(i.pipe)(e,p.g.fromPredicate(e=>l.b.size(e)>1),p.g.map(e=>Object(i.pipe)(e,e=>l.b.alterLeft(e,e.meta.increasedLeft>0?-1:0),p.b.chain(e=>l.b.alterRight(e,e.meta.increasedRight>0?-1:0)),p.b.getOrElse(t=>(this._log.error("TextRange mutation error",t),e)))))),this._lenCalc=new b(e,this._verifyState),Object(u.r)("positions",()=>{this._log.info("PositionManager",this.toString()),this._verifyIsSorted()})}pushChanges(e){this._log.trace("PM Incoming: ",{changes:e,currentLen:this._lenCalc.textLength});try{this._lenCalc.pushChanges(e)}catch(e){if(this._strictMode)throw e;this._log.error("TextLengthCalc check failed",e)}const t=y(e,this._rangesArray);this._verifyState&&this._verifyIsSorted();const a={changed:t.changed,affected:t.affected.map(e=>this.getRange(e.meta.id))};return(a.changed.length>0||a.affected.length>0)&&this._rangeChanged.next(a),a}registerRange(e,t){if(this._ranges.has(e))throw new Error("Range already registered "+e);this._log.trace("Registered range: "+e);const a=n.create(e)(t);return this._validateRange(a),this._ranges.set(e,a),this._rangesArray.push(a),this._rangesArray.sort(l.b.ord.compare),a}_validateRange(e){l.b.isValid(this._lenCalc.textLength)(e)||this._log.warn("Trying to modify corrupted range start",{range:JSON.stringify(e),length:this._lenCalc.textLength})}getRange(e){const t=this._ranges.get(e);if(void 0===t)throw new Error("Range is not registered");return t}findRanges(e){return this._rangesArray.filter(e)}deregisterRange(e){this._log.trace("deregisterRange #"+e);const t=this.getRange(e);this._verifyState&&this._verifyIsSorted(),this._ranges.delete(e);try{return Object(i.pipe)(d.a.lowerBound(this._rangesArray,e=>e.end<t.end),p.g.getOrElse(()=>this._rangesArray.length),a=>{let n=a;for(;n<this._rangesArray.length&&this._rangesArray[n].meta.id!==e;)n++;return Object(m.g)(n<this._rangesArray.length&&this._rangesArray[n].meta.id===e,"Range should be present: "+e),this._rangesArray.splice(n,1),t})}catch(t){throw this._log.error("Cannot deregister range "+e,this._rangesArray),t}}findById(e){return p.g.fromNullable(this._ranges.get(e))}findByRange(e){const t=[];return Object(i.pipe)(d.a.lowerBound(this._rangesArray,t=>t.end<e.end),p.g.getOrElse(()=>this._rangesArray.length),a=>{let n=a;for(;n<this._rangesArray.length&&this._rangesArray[n].end===e.end;)this._rangesArray[n].start===e.start&&t.push(this._rangesArray[n]),n++;return t})}findIntersections(e){const t=[];return Object(i.pipe)(d.a.lowerBound(this._rangesArray,t=>t.end<e.start),p.g.getOrElse(()=>this._rangesArray.length),a=>{let n=a;for(;n<this._rangesArray.length;){const a=this._rangesArray[n];a.end>e.start&&e.end>a.start&&t.push(this._rangesArray[n]),n++}return t})}findClosestToPosition(e,t){const a=this._rangesArray.filter(t);return Object(i.pipe)(d.a.lowerBound(a,t=>e>=t.end),p.g.getOrElse(()=>a.length),t=>{const n=p.g.fromNullable(a[t]),r=p.g.fromNullable(a[t-1]);return Object(i.pipe)(n,p.g.map(t=>Object(i.pipe)(r,p.g.fold(()=>t,a=>{return t.start-e<=e-a.end?t:a}))),p.g.orElse(r))})}getRegisteredRanges(){return this._rangesArray}getTextLength(){return this._lenCalc.textLength}_verifyIsSorted(){for(let e=1;e<this._rangesArray.length;++e)this._rangesArray[e-1].end>this._rangesArray[e].end&&(this._log.isEnabled(g.Logging.LogLevel.DEBUG)?this._log.error("Houston, we have a problem: Array is not sorted anymore @ "+e,this._rangesArray):this._log.error("Houston, we have a problem: Array is not sorted anymore"),this._rangesArray.sort(l.b.ord.compare))}toString(){return JSON.stringify(this,void 0,2)}toJSON(){return{textLength:this.getTextLength(),ranges:this._rangesArray}}}},mvgk:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a("D57K"),r=a("ERkP"),i=a("vOOZ"),o=a("9NHN"),s=a("6fbX"),c=a("ax6a"),l=a("6gXa"),d=a("WIwS"),p=a("gy42");function u(e){var{wrapperClassName:t,variation:a,isIdle:o,ref:s}=e,c=Object(n.__rest)(e,["wrapperClassName","variation","isIdle","ref"]);return r.createElement(i.a.span,{"data-role":"spinner",className:t},p.b.mapMaybeObservable(a,e=>r.createElement(u.Svg,Object.assign({},c,{type:e,isIdle:o}))))}!function(e){e.getClassName=e=>t=>{switch(t){case"red":return e.red;case"green":return e.green;case"blue":return e.blue;case"white":return e.white;case"violet":return e.violet;case"yellow":return e.yellow;case"yellowPremium":return e.yellowPremium;case"orange":return e.orange;case"gray":return e.gray;case"cyan":return e.cyan;default:return Object(s.d)(t)}},e.Svg=t=>{const{className:a,size:i=64,strokeWidth:c=2,type:l,name:d,isIdle:p}=t,u=Object(n.__rest)(t,["className","size","strokeWidth","type","name","isIdle"]),m=r.useRef(null),h=r.useRef(null);return r.useEffect(()=>(Object(s.g)(null!==m.current,"groupEl should be already created"),h.current=m.current.animate({transform:["rotate(0deg)","rotate(360deg)"]},{duration:2e3,easing:"linear",fill:"forwards",iterations:1/0}),()=>h.current.cancel()),[]),r.useEffect(()=>{Object(s.g)(null!==h.current,"groupAnimation should be already created");const e=h.current;Boolean(e.play)&&(!0===p?e.pause():"running"!==e.playState&&e.play())}),r.createElement("svg",Object.assign({"data-role":d},Object(o.c)(a),{viewBox:"25 25 50 50",width:i,height:i},u),r.createElement("g",{transform:"translate(50 50)"},r.createElement("g",{ref:m},r.createElement("circle",Object.assign({},Object(o.c)(A.path,!0===p&&g,e.getClassName(A)(l)),{cx:"50",cy:"50",r:"20",fill:"none",transform:"translate(-50 -50)",strokeWidth:c,strokeMiterlimit:"10"})))))}}(u||(u={}));const m=l.a.keyframes({"0%":{strokeDasharray:`1px, ${l.a.px(200)}`,strokeDashoffset:l.a.px(1)},"50%":{strokeDasharray:`89px, ${l.a.px(200)}`,strokeDashoffset:l.a.px(-35)},"100%":{strokeDasharray:`89px, ${l.a.px(200)}`,strokeDashoffset:l.a.px(-124)}}),g="spinnerIdle",h={animation:`${m} 2s ease-in-out infinite`,strokeDasharray:`1px, ${l.a.px(200)}`,strokeDashoffset:l.a.px(1),strokeLinecap:"round",$nest:{[`&.${g}`]:{animationIterationCount:0}}},f={stroke:c.a.CoreRed50},b={stroke:c.a.CoreGreen50},y={stroke:c.a.CoreBlue50},v={stroke:c.a.CoreNeutral0},C={stroke:d.d},O={stroke:d.n},k={stroke:c.a.CoreYellow60},w={stroke:d.k},S={stroke:c.a.CoreCyan50},A=l.a.stylesheet({path:[h],red:[f],green:[b],blue:[y],white:[v],violet:[C],yellow:[O],orange:[k],gray:[w],cyan:[S]})},nb6X:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("D57K"),i=a("a5W6"),o=a("5p8x"),s=a("fOOC"),c=a("I7vG"),l=a("gL5k"),d=a("6fbX"),p=a("lrqh");!function(e){var t,a,n;function u(e,a){var n=a.position,i=a.point,o={width:Math.trunc(e.width),height:Math.trunc(e.height)};return l.Rect.validate(t.match((function(){return Object(r.__assign)({top:i.y,right:i.x,bottom:i.y+o.height,left:i.x-o.width},o)}),(function(){return Object(r.__assign)({top:i.y-o.height,right:i.x,bottom:i.y,left:i.x-o.width},o)}),(function(){return Object(r.__assign)({top:i.y-o.height,right:i.x+o.width,bottom:i.y,left:i.x},o)}),(function(){return Object(r.__assign)({top:i.y,right:i.x+o.width,bottom:i.y+o.height,left:i.x},o)}))(n))}function m(t){return e.topLeft(l.Rect.Point.normalize({x:t.left,y:t.top}))}!function(e){e.topLeft="topLeft",e.topRight="topRight",e.bottomRight="bottomRight",e.bottomLeft="bottomLeft"}(t=e.Position||(e.Position={})),function(e){e.match=function(t,a,n,r){return function(i){switch(i){case e.topRight:return t();case e.bottomRight:return a();case e.bottomLeft:return n();case e.topLeft:return r();default:return Object(d.d)(i)}}}}(t=e.Position||(e.Position={})),e.topLeft=function(e){return{position:t.topLeft,point:l.Rect.Point.normalize(e)}},e.topRight=function(e){return{position:t.topRight,point:l.Rect.Point.normalize(e)}},e.bottomRight=function(e){return{position:t.bottomRight,point:l.Rect.Point.normalize(e)}},e.bottomLeft=function(e){return{position:t.bottomLeft,point:l.Rect.Point.normalize(e)}},e.relativeTo=function(e,t){return{position:e.position,point:l.Rect.Point.relativeTo(e.point,t)}},e.empty=e.topLeft(l.Rect.Point.empty),e.toRect=u,e.fromRect=m,e.inRect=function(e,t){var a=t.point;return l.Rect.hasPoint(e,a)},e.toCss=function(e){var a=e.position,n=e.point;return t.match((function(){return{top:n.y,right:n.x}}),(function(){return{right:n.x,bottom:n.y}}),(function(){return{bottom:n.y,left:n.x}}),(function(){return{top:n.y,left:n.x}}))(a)},function(t){t.create=function(e,t){return Object(d.g)(e.point.x===t.point.x||e.point.y===t.point.y,"can not form Zone without a common dimension",(function(){return JSON.stringify({a:e,b:t})})),[e,t]},t.bySide=function(a,n){return l.Rect.Side.match((function(){return t.create(e.bottomLeft({x:Math.ceil(n.left),y:Math.ceil(n.top)}),e.bottomRight({x:Math.floor(n.right),y:Math.ceil(n.top)}))}),(function(){return t.create(e.topLeft({x:Math.floor(n.right),y:Math.ceil(n.top)}),e.bottomLeft({x:Math.floor(n.right),y:Math.floor(n.bottom)}))}),(function(){return t.create(e.topLeft({x:Math.ceil(n.left),y:Math.floor(n.bottom)}),e.topRight({x:Math.floor(n.right),y:Math.floor(n.bottom)}))}),(function(){return t.create(e.topRight({x:Math.ceil(n.left),y:Math.ceil(n.top)}),e.bottomRight({x:Math.ceil(n.left),y:Math.floor(n.bottom)}))}))(a)}}(a=e.Zone||(e.Zone={})),function(e){e.byAxis=function(e,t){return o.g(Object(s.getFirstSemigroup)(),i.array)(l.Rect.Axis.toSides(e).map((function(e){return[e,a.bySide(e,t)]})))}}(e.Variants||(e.Variants={})),function(t){function a(e,t){return Object(c.pipe)(l.Rect.intersection(e,t),p.g.map((function(e){var a=e.width/t.width,n=e.height/t.height,r=(Number.isNaN(a)?0:a/2)+(Number.isNaN(n)?0:n/2);return Object(d.g)(r>=0,"quality can not be negavite: ".concat(r)),Object(d.g)(r<=1,"quality can be higher than 1: ".concat(r)),r})))}t.empty={quality:0,point:e.empty},t.qualityOfIntersection=a,t.byViewport=function(e,t){return{quality:Object(c.pipe)(a(e,t),p.g.getOrElse((function(){return 0})))+Object(c.pipe)(l.Rect.scale(2,t),p.b.chain(l.Rect.normalize),p.g.fromEither,p.g.chain((function(t){return a(e,t)})),p.g.getOrElse((function(){return 0}))),point:m(t)}},t.fromZone=function(e,a,n){return Object(c.pipe)(i.array.traverse(p.b.either)(n,(function(e){return u(a,e)})),p.b.chain((function(e){var t=e[0],a=e[1];return l.Rect.join(t,a)})),p.b.chain((function(e){return l.Box.placeIntoRect(a,e)})),p.b.map((function(a){return a.map((function(a){return t.byViewport(e,a)}))})))}}(n=e.Qualified||(e.Qualified={})),function(e){e.build=function(e,t,a){return Object(c.pipe)(a,o.j((function(a){return n.fromZone(e,t,a)})))}}(e.QualifiedVariants||(e.QualifiedVariants={})),function(e){var t;!function(e){e[e.left=0]="left",e[e.middle=1]="middle",e[e.right=2]="right",e[e.edges=20]="edges",e[e.any=210]="any"}(t=e.Placement||(e.Placement={})),e.takeBy=function(e,t){return function(a){return Object(c.pipe)(a,o.n({point:n.empty,side:e},(function(a,n,r){return Object(c.pipe)(r,p.b.map((function(r){return r.filter((function(n,r){return t.toString().includes(r.toString())&&e===a})).reduce((function(e,t){return t.quality>e.point.quality?{point:t,side:a}:e}),n)})),p.b.unsafeGet)}))).point}},e.preferBy=function(e,t){return function(a){return Object(c.pipe)(a,o.n({point:n.empty,side:e},(function(a,n,r){return Object(c.pipe)(r,p.b.map((function(r){return r.reduce((function(n,r,i){return r.quality>n.point.quality||r.quality===n.point.quality&&t.toString().includes(i.toString())&&e===a?{point:r,side:a}:n}),n)})),p.b.unsafeGet)}))).point}},e.preferTopMiddle=e.preferBy("top",t.middle),e.preferTopEdges=e.preferBy("top",t.edges)}(e.Selector||(e.Selector={}))}(n||(n={}))},oWeJ:function(e,t,a){"use strict";a.d(t,"a",(function(){return B}));var n=a("ERkP"),r=a("I7vG"),i=a("9NHN"),o=a("vOOZ"),s=a("zR/0"),c=a("lrqh"),l=a("rk+4"),d=a("GUi3"),p=a("IVzZ"),u=a("XxrX"),m=a("kED/"),g=a("BugA"),h=a("0A/6"),f=a("3bJT"),b=a("RWgj"),y=a("LNSM"),v=a("UEGg"),C=a("uqkn"),O=a("E0zP"),k=a("8P+J"),w=a("tZ26"),S=a("5z3N");const A=(e,t)=>{if(v.a.hasTone(e.activeAlert))return(e=>{const t=e.match(k.a);if(t&&t[0]){const a=c.g.fromNullable(Object(k.d)(t[0]));return c.g.some({action:e.replace(k.a,""),emojiId:a})}return c.g.none})(t);if(O.a.isToneAIItem(e)){const a=c.g.fromNullable(e.activeAlert.toneAlternatives[e.activeAlert.selectedToneAlternativeIdx].emojiID);return c.g.some({action:t,emojiId:a})}return c.g.none},E=({text:e,className:t})=>n.createElement("div",{className:t},e),x=(e,t,a)=>{const o=C.a.miniTitle(e,t),s=Object(r.pipe)(e.activeAlert.extraProperties.vox,c.g.map(e=>(({vox:e,theme:t={}})=>({icon:Object(r.pipe)(e.logoUrl,c.g.map(e=>n.createElement(S.d,Object.assign({},Object(i.c)(t.logo),{logoUrl:e})))),action:n.createElement(S.c,Object.assign({vox:e},Object(i.c)(t.label),{isMinimalCard:!1}))}))({vox:e,theme:{logo:a.voxLogo,label:a.voxLabel}}))),l=Object(r.pipe)(A(e,o),c.g.map(({action:e,emojiId:t})=>({icon:Object(r.pipe)(t,c.g.map(e=>n.createElement(k.c,{id:e,className:Object(i.c)(a.emojiLogo).className}))),action:n.createElement(E,{text:e,className:a.wrapper})})));return Object(r.pipe)(s,c.g.orElse(l),c.g.getOrElse(()=>({icon:O.a.isTakeawayItem(e)?c.g.some(n.createElement(w.d.Megaphone,{width:16,className:a.takeawayLogo})):c.g.none,action:n.createElement(E,{text:o,className:a.wrapper})})))},I=(e,t,a)=>{const{action:i,icon:o}=x(e,t,a);return{actionComponent:i,iconComponent:Object(r.pipe)(o,c.g.fold(()=>e.renderOptions.cardVisualMode.view(u.a.CardVisualMode.match({onRegular:()=>c.g.none,onContrast:()=>c.g.fromNullable(function(e,t){return d.a.outcomeTypeMatch({correctness:n.createElement(w.d.Correctness,{className:t}),clarity:n.createElement(w.d.ClarityOutcome,{className:t}),premium:n.createElement(w.d.Star,{className:t}),engagement:n.createElement(w.d.EngagementOutcome,{className:t}),delivery:n.createElement(w.d.DeliveryOutcome,{className:t}),vox:null})(e)}(e.activeAlert.lensType,a.lensLogo))})),e=>y.a.create(c.g.some(e))))}},j=e=>e?h.a.MiniContrast:h.a.Mini,T=e=>[d.a.outcomeTypeMatch({correctness:f.a.dotCorrectness,clarity:f.a.dotClarity,premium:f.a.dotAdvanced,engagement:f.a.dotEngagement,delivery:f.a.dotDelivery,vox:f.a.dotVox})(e.lensType),b.a.cta],N=()=>{const e=n.useContext(l.a.Context);return n.createElement(m.a.Regular,{className:b.a.newLabel},e.new)},L=e=>e.hasOwnProperty("features")&&e.features.has(u.a.Features.a11yContrast);var B,P;(P=B||(B={})).Bundle=({card:e,actions:t})=>{const[a]=T(e.activeAlert),s=Object(r.pipe)(e.renderOptions,L,j);return n.createElement(s,Object.assign({},Object(i.c)(b.b.wrapper,b.b.bundleContainer,b.b.dot,a),{actions:t,cardId:e.id,getActiveAlert:()=>e.alerts[0],inert:e.positionState.inert,counter:n.createElement(g.SmallLight,{className:b.b.alertsCounter},e.alerts.length)}),n.createElement(o.a.div,{className:b.b.miniContainer},n.createElement("div",{className:b.b.highlightedText},p.a.bundleTitle(e))))},P.Standard=({card:e,actions:t})=>{const a=n.useContext(l.a.Context),[d,p]=T(e.activeAlert),u=Object(r.pipe)(e.renderOptions,L,j),{actionComponent:m,iconComponent:g}=I(e,a,{wrapper:Object(i.c)(p,b.a.ctaText).className,voxLogo:Object(i.c)(b.a.cardLogo,b.b.cardLogo).className,voxLabel:b.a.cta,emojiLogo:Object(i.c)(b.a.cardLogo,b.b.cardLogo).className,lensLogo:Object(i.c)(b.a.cardLogo,b.b.cardLogo,b.a.lensIcon).className,takeawayLogo:b.c.takeawayIconStandard});return n.createElement(u,Object.assign({},Object(i.c)(b.b.wrapper,g.view(e=>c.g.isSome(e)?b.b.invisibleDot:b.b.dot),d),{actions:t,cardId:e.id,getActiveAlert:()=>e.activeAlert,inert:e.positionState.inert}),n.createElement(o.a.div,{className:b.b.miniContainer},Object(r.pipe)(g.view(c.g.toNullable)),n.createElement("div",{className:b.b.highlightedText},e.activeAlert.highlightTexts[0]),n.createElement("div",{className:b.b.middleDot},""),m,Object(r.pipe)(e.renderOptions.isNew,s.a.map(e=>c.g.isSome(e)?n.createElement(N,{key:"new-label"}):null))))},P.TwoLined=({card:e,actions:t})=>{const a=n.useContext(l.a.Context),[s,d]=T(e.activeAlert),p=Object(r.pipe)(e.renderOptions,L,j),{actionComponent:u,iconComponent:m}=I(e,a,{wrapper:Object(i.c)(d,b.a.ctaText,b.c.ctaText,b.c.subTitle).className,voxLogo:Object(i.c)(b.a.cardLogo,b.c.cardLogo).className,voxLabel:Object(i.c)(b.a.cta,b.c.subTitle).className,emojiLogo:Object(i.c)(b.a.cardLogo,b.c.cardLogo).className,lensLogo:Object(i.c)(b.a.cardLogo,b.c.lensIcon,b.a.lensIcon).className,takeawayLogo:b.c.takeawayIconMini});return n.createElement(p,Object.assign({},Object(i.c)(b.c.wrapper,m.view(e=>c.g.isSome(e)?b.c.invisibleDot:b.c.dot),s),{actions:t,cardId:e.id,getActiveAlert:()=>e.activeAlert,inert:e.positionState.inert}),n.createElement(o.a.div,{className:b.c.miniContainer},u,Object(r.pipe)(m.view(c.g.toNullable)),n.createElement("div",{className:b.d},e.activeAlert.highlightTexts[0])))}},p88l:function(e,t,a){e.exports=a.p+"files/c93e619c54ac4d58a06e3deb35b1724a/inter-italic.woff2"},"q4n/":function(e,t,a){"use strict";var n,r;a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),function(e){e.ESC_CODE=27,e.ENTER_CODE=13}(n||(n={})),function(e){e.isLeftMouseButtom=function(e){return 1===e.which||0===e.button}}(r||(r={}))},qZUR:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n={z100:"0px 0px 0px 1px rgba(0, 0, 0, .05), 0px 1px 8px rgba(0, 0, 0, .15)",z300:"0px 0px 0px 1px rgba(0, 0, 0, .05), 0px 4px 20px rgba(0, 0, 0, .15)"}},qzE2:function(e,t,a){e.exports=a.p+"files/da83100fc42a3c359ae8e3038a4a5e90/inter-regular.woff"},"r/bb":function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n,r=a("ERkP"),i=a("OA+g"),o=a("LNSM"),s=a("lrqh"),c=a("ax6a"),l=a("6gXa"),d=a("ps/9"),p=a("rk+4"),u=a("+w1e");!function(e){e.NAME_LENGTH_LIMIT=30,e.CONTENT_LENGTH_LIMIT=1e3;e.validate=(t,a,n)=>{const r=((t,a)=>0===t.trim().length?s.g.some(a.nameEmpty):t.length>e.NAME_LENGTH_LIMIT?s.g.some(a.nameTooLong):s.g.none)(t,n),i=((t,a)=>0===t.trim().length?s.g.some(a.textEmpty):t.length>e.CONTENT_LENGTH_LIMIT?s.g.some(a.textTooLong):s.g.none)(a,n);return s.g.isNone(r)&&s.g.isNone(i)?s.b.right(void 0):s.b.left({nameError:r,contentError:i})}}(n||(n={}));var m,g=a("nnns"),h=a("tZ26"),f=a("FieF"),b=a("BugA"),y=a("aIes"),v=a("1gzW"),C=a("IdhR"),O=a("yZqL"),k=a("H9T+"),w=a("HUX/");!function(e){e.Full=({card:e,actions:a,isChecking:c})=>{const l=r.useContext(p.a.Context),[d,m]=r.useState(""),[g,h]=r.useState(e.activeAlert.snippetText),[v,O]=r.useState(""),[w,S]=r.useState(""),A=Object(i.pipe)(e.activeAlert.snippetsTrigger,s.g.fold(()=>"\\",i.identity));return r.createElement(k.t,{card:e,actions:a,isChecking:c,body:r.createElement("div",null,r.createElement(k.j,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(b.Base,{className:B.subheader},l.card.suggestedSnippet.subheader),r.createElement("div",{className:B.inputContainer},r.createElement(f.b,{name:"snippet-name",placeholder:l.card.suggestedSnippet.namePlaceholder,value:d,onChange:e=>m(e.target.value),className:B.snippetName}),v.length>0&&r.createElement(b.Small,{className:B.inputError},v)),r.createElement("div",{className:B.inputContainer},r.createElement(f.c,{blockExtension:!0,name:"snippet-content",placeholder:l.card.suggestedSnippet.textPlaceholder,value:g,onChange:e=>h(e.target.value),className:B.snippetText}),w.length>0&&r.createElement(b.Small,{className:B.inputError},w)),r.createElement(b.Small,{className:B.explanation},l.card.suggestedSnippet.explanation(r.createElement(t,{trigger:A}))),r.createElement(k.r,{title:l.card.todoAction(e.activeAlert.todoAction),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:o.a.create(!1),onClick:y.d.callOnce(()=>{Object(i.pipe)(n.validate(d,g,l.card.suggestedSnippet.validationMessages),s.b.fold(({nameError:e,contentError:t})=>{Object(i.pipe)(e,s.g.fold(()=>O(""),O)),Object(i.pipe)(t,s.g.fold(()=>S(""),S))},()=>{a.next({type:u.b.Type.createSnippet,id:e.id,alertId:e.activeAlert.id,snippetName:d,snippetText:g}),O(""),S("")}))})})),footer:r.createElement(C.b,{key:"card-actions-details",visualState:e.visualState,className:B.more},r.createElement(b.Base,null,l.card.suggestedSnippet.details(r.createElement(r.Fragment,null,A))))})};const t=({trigger:e})=>r.createElement("span",{className:B.snippetsTrigger},e);e.Success=({card:e,actions:t})=>{const a=r.useContext(p.a.Context);return v.a.useEffectOnWillUnmount(()=>{t.next({type:u.b.Type.suggestedSnippetSuccessDismissed,id:e.id,alertId:e.activeAlert.id})}),r.createElement(O.a,{onFocus:()=>t.next({type:u.b.Type.mutedAlertSuccessShow}),theme:Object(w.b)(e.renderOptions),visualState:e.visualState,body:r.createElement("div",{className:B.successHeader},r.createElement(h.d.ValidationOk,{className:B.successIcon}),r.createElement(b.Small,null,a.card.suggestedSnippet.successStateTitle)),mainActions:r.createElement(r.Fragment,null),footer:r.createElement(r.Fragment,null),subActions:r.createElement("div",{className:B.successAction},r.createElement(g.a.Tertiary,{name:"openSnippetsLibrary",onClick:()=>t.next({type:u.b.Type.snippetsOpenExternalLink,externalLink:e.activeAlert.libLink,alertId:e.activeAlert.id,itemId:e.id})},a.card.suggestedSnippet.libraryLinkCaption,r.createElement(h.d.OuterLink,null)),r.createElement(g.a.Ghost,{name:"done",onClick:()=>y.d.callOnce(()=>t.next({type:u.b.Type.switchToNext}))()},a.done))})}}(m||(m={}));const S={paddingTop:l.a.rem(.75),paddingBottom:l.a.rem(.5),letterSpacing:c.h.SubheadingLetterSpacing,fontSize:l.a.rem(c.h.SubheadingSize),lineHeight:l.a.rem(c.h.SubheadingLineHeight),color:c.h.SubheadingColor,textTransform:"uppercase"},A={fontFamily:"inherit",boxSizing:"border-box",padding:`${l.a.rem(.5)}`,fontSize:l.a.rem(.875)},E=Object.assign(Object.assign({},A),{height:l.a.rem(2.5)}),x=Object.assign(Object.assign({},A),{height:l.a.rem(8)}),I={marginBottom:l.a.rem(.5)},j={color:c.a.CoreRed50},T={display:"block",color:c.a.CoreNeutral50,marginBottom:l.a.rem(.75)},N={position:"absolute",left:l.a.rem(.5),width:l.a.rem(1),height:l.a.rem(1),minWidth:l.a.rem(1),minHeight:l.a.rem(1)},L={display:"inline-block",width:l.a.rem(1),height:l.a.rem(1),backgroundColor:c.a.CoreBlue1,borderRadius:l.a.rem(d.s),textAlign:"center"},B=l.a.stylesheet({subheader:[S],snippetName:[E],snippetText:[x],explanation:[T],successIcon:[N],successHeader:[{display:"flex",alignItems:"center"}],successAction:[{display:"flex",justifyContent:"space-between",width:"100%"}],inputContainer:[I],inputError:[j],more:[k.z],snippetsTrigger:[L]})},rq0W:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return d})),a.d(t,"b",(function(){return p}));var n,r=a("I7vG"),i=a("lrqh"),o=a("D9EC"),s=a("PrA7"),c=a("D/5U"),l=a("sWLkM");function d({from:e,transition:t,incomplete:a}){if(!a)return{};const n=u("transitionClassMapper");return Object(r.pipe)(e,i.g.map(e=>{switch(e){case"added":case"rendered":switch(t.type){case"added":return n.error(`Impossible transition: ${e} -> ${t.type}`),{main:c.a.addedMain};case"focused":return{main:t.clockwise?c.a.rendered2focusedMainClockwise:c.a.rendered2focusedMain};case"removed":return{shade:c.a.rendered2removedShade};default:return{}}case"expanded":case"focused":switch(t.type){case"rendered":return{main:c.a.focused2renderedMain,shade:t.clockwise?c.a.focused2renderedShadeClockwise:c.a.focused2renderedShade};case"removed":return{main:"",shade:t.clockwise?c.a.focused2renderedShadeClockwise:c.a.focused2renderedShade};default:return{}}case"success":switch(t.type){case"removed":return{main:"",shade:t.clockwise?c.a.focused2renderedShadeClockwise:c.a.focused2renderedShade};case"focused":return{main:c.a.success2FocusedMain};default:return{}}case"presuccess":switch(t.type){case"success":return{main:c.a.focused2successMain,shade:c.a.focused2successShade};default:return{}}case"removed":switch(t.type){case"added":return n.error(`Impossible transition: ${e} -> ${t.type}`),{main:c.a.addedMain};default:return{}}default:return{}}}),i.g.getOrElse(()=>{switch(t.type){case"added":return{main:c.a.addedMain};case"focused":return{main:c.a.openedMain};default:return{}}}))}function p({from:e,transition:t,incomplete:a}){return a?Object(r.pipe)(e,i.g.map(e=>{switch(e){case"added":case"rendered":switch(t.type){case"added":return u("bundleTransitionClassMapper").error(`Impossible transition: ${e} -> ${t.type}`),{main:c.a.addedMain};case"focused":return{main:t.clockwise?l.a.rendered2focusedBundleMainClockwise:l.a.rendered2focusedBundleMain,shade:l.a.rendered2focusedBundleShade};case"removed":return{shade:c.a.rendered2removedShade};default:return{}}case"expanded":case"focused":switch(t.type){case"rendered":return{main:l.a.focused2renderedBundleMain,shade:t.clockwise?l.a.focused2renderedBundleShadeClockwise:l.a.focused2renderedBundleShade};case"removed":return{main:"",shade:t.clockwise?c.a.focused2renderedShadeClockwise:c.a.focused2renderedShade};default:return{}}case"success":switch(t.type){case"removed":return{main:"",shade:t.clockwise?c.a.focused2renderedShadeClockwise:c.a.focused2renderedShade};case"focused":return{main:c.a.success2FocusedMain};default:return{}}case"presuccess":switch(t.type){case"success":return{main:c.a.focused2successMain,shade:c.a.focused2successShade};default:return{}}case"removed":switch(t.type){case"added":return u("bundleTransitionClassMapper").error(`Impossible transition: ${e} -> ${t.type}`),{main:c.a.addedMain};default:return{}}default:return{}}}),i.g.getOrElse(()=>{switch(t.type){case"added":return{main:c.a.addedMain};case"focused":return{main:c.a.openedMain};default:return{}}})):{}}!function(e){e.toOption=function(e){return t=>{const{main:a,shade:n}=e(t);return{main:i.g.fromNullable(a),shade:i.g.fromNullable(n)}}}}(n||(n={}));const u=Object(o.l)(s.Monitoring.Logging.getLogger)},sWLkM:function(e,t,a){"use strict";a.d(t,"a",(function(){return S})),a.d(t,"b",(function(){return A}));var n=a("6gXa"),r=a("ps/9"),i=a("D/5U"),o=a("3bJT");const s=n.a.keyframes({from:{opacity:0,transform:"translateY(50%)"},to:{opacity:1,transform:"translateY(0)"}}),c=n.a.keyframes({from:{opacity:1,transform:"translateY(0)"},to:{opacity:0,transform:"translateY(-25%)"}}),l=n.a.keyframes({from:{transform:"translateY(0)"},to:{transform:"translateY(100%)"}}),d=n.a.keyframes({from:{transform:"translateY(0)"},to:{transform:"translateY(150%)"}}),p=n.a.keyframes({from:{opacity:1,transform:"scaleY(1)"},to:{opacity:0,transform:"scaleY(.5)"}}),u=n.a.keyframes({from:{opacity:0,transform:"scaleY(.2)"},to:{opacity:1,transform:"scaleY(1)"}}),m=n.a.keyframes({from:{transform:"translateY(-10%)"},to:{transform:"translateY(0)"}}),g=n.a.keyframes({from:{transform:"translateY(100%)"},to:{transform:"translateY(0)"}}),h=n.a.keyframes({from:{transform:"translateY(150%)"},to:{transform:"translateY(0)"}}),f=n.a.keyframes({from:{opacity:0,transform:"scaleY(.2)"},to:{opacity:1,transform:"scaleY(1)"}}),b=n.a.keyframes({from:{opacity:1,transform:"translateY(0)"},to:{opacity:0,transform:"translateY(125%)"}}),y={opacity:0,animation:`${s} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`},v={transformOrigin:"top",animation:`${i.c} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{[`& .${o.b.bundleInnerContainerSelector}`]:{animation:`${c} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{[`& .${o.b.bundleFakeCard1Selector}`]:{animation:`${l} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`},[`& .${o.b.bundleFakeCard2Selector}`]:{animation:`${d} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`}}}}},C={transformOrigin:"top",animation:`${p} ${n.a.seconds(r.d/1500)} ${i.f} forwards`,$nest:{[`& .${o.b.bundleInnerContainerSelector}`]:{animation:`${c} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{[`& .${o.b.bundleFakeCard1Selector}`]:{animation:`${l} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`},[`& .${o.b.bundleFakeCard2Selector}`]:{animation:`${d} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`}}}}},O={animation:`${u} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{[`& .${o.b.bundleInnerContainerSelector}`]:{animation:`${m} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{[`& .${o.b.bundleFakeCard1Selector}`]:{animation:`${g} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`},[`& .${o.b.bundleFakeCard2Selector}`]:{animation:`${h} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`}}}}},k={animation:`${f} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{[`& .${o.b.bundleInnerContainerSelector}`]:{animation:`${m} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{[`& .${o.b.bundleFakeCard1Selector}`]:{animation:`${g} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`},[`& .${o.b.bundleFakeCard2Selector}`]:{animation:`${h} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`}}}}},w={animation:`${b} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`},S=n.a.stylesheet({focused2renderedBundleMain:[y],focused2renderedBundleShade:[i.e,v],focused2renderedBundleShadeClockwise:[i.e,C],rendered2focusedBundleMain:[i.d,O],rendered2focusedBundleMainClockwise:[i.d,k],rendered2focusedBundleShade:[i.e,w]}),A=new Map([[i.c,S.focused2renderedBundleShade],[p,S.focused2renderedBundleShadeClockwise],[b,S.rendered2focusedBundleShade]])},sgef:function(e,t,a){e.exports=a.p+"files/70f84e39477b8c33dbc1900a4bacb20f/inter-medium.woff"},uZT5:function(e,t,a){"use strict";a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return u}));var n=a("ERkP"),r=a("9NHN"),i=a("vOOZ"),o=a("ax6a"),s=a("6gXa"),c=a("ps/9");const l=()=>n.createElement("svg",{className:b.svg,viewBox:"0 0 14 11",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},n.createElement("defs",null,n.createElement("path",{d:"M11.864 16.273a.792.792 0 0 0-1.145 1.094l3.752 3.93 6.839-7.99a.792.792 0 1 0-1.203-1.03l-5.7 6.66-2.543-2.664z",id:"b"}),n.createElement("filter",{x:"-18.2%",y:"-10.8%",width:"136.4%",height:"143%",filterUnits:"objectBoundingBox",id:"a"},n.createElement("feOffset",{dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),n.createElement("feGaussianBlur",{stdDeviation:".5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),n.createElement("feColorMatrix",{values:"0 0 0 0 0.168627451 0 0 0 0 0.176470588 0 0 0 0 0.219607843 0 0 0 0.7 0",in:"shadowBlurOuter1"}))),n.createElement("g",{transform:"translate(-9 -12)",fillRule:"nonzero",fill:"none"},n.createElement("use",{fill:"#000",filter:"url(#a)",xlinkHref:"#b"}),n.createElement("use",{fill:"#FFF",fillRule:"evenodd",xlinkHref:"#b"}))),d=()=>n.createElement("svg",{className:b.svg2,viewBox:"0 0 12 9",width:"12",height:"9",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M1.386 4.115L4.561 7.29l5.81-5.81",stroke:"#FFF",strokeWidth:"2",fill:"none",fillRule:"evenodd",strokeLinecap:"round"})),p=({checked:e,className:t,children:a,name:i})=>n.createElement(m,{name:i,checked:e,className:t,checkedComponent:e=>n.createElement("div",Object.assign({key:"checkbox"},Object(r.c)(b.rectangle)),e&&n.createElement(l,null))},a),u=({checked:e,className:t,children:a,name:r})=>n.createElement(m,{checked:e,name:r,className:t,checkedComponent:e=>n.createElement("div",{key:e?"checkbox1":"checkbox2",className:e?b.rectangleFilledBlue:b.rectangle},e&&n.createElement(d,null))},a),m=({checked:e,checkedComponent:t,className:a,children:o,name:s})=>n.createElement(i.a.label,Object.assign({},Object(r.c)(b.wrapper,a),{onClick:e=>e.stopPropagation()},s?{"data-name":`${s}-checkbox`}:{}),n.createElement(i.a.input,{type:"checkbox",checked:e,onChange:t=>e.modify(e=>!e),className:b.inputCheckbox}),e.view(t),n.createElement("div",null,o)),g={display:"flex",marginRight:s.a.rem(.5),paddingTop:s.a.rem(.18),width:s.a.rem(1),height:s.a.rem(1),border:`2px solid ${o.a.CoreNeutral30}`,borderRadius:s.a.rem(c.t),backgroundColor:"transparent",alignItems:"center"},h={paddingTop:s.a.rem(.1),borderColor:o.a.CoreBlue50,borderRadius:s.a.rem(c.t),backgroundColor:o.a.CoreBlue50},f={width:s.a.percent(100),height:s.a.percent(100)},b=s.a.stylesheet({wrapper:[{display:"flex",cursor:"default",alignItems:"center",userSelect:"none"}],rectangle:[g],rectangleFilledBlue:[g,h],inputCheckbox:[{margin:0,"-webkit-appearance":"none",appearance:"none"}],svg:[f],svg2:[{margin:"auto"}]})},v1xk:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a("ERkP"),r=a("I7vG"),i=a("vOOZ"),o=a("hoSD"),s=a("q4n/"),c=a("lrqh"),l=a("zR/0"),d=a("kTRt"),p=a("gy42"),u=a("Xi00");class m extends n.Component{constructor(){super(...arguments),this._subs=[],this._outOfTarget=e=>t=>!o.c.Rect.hasPoint(t.getBoundingClientRect(),e)}componentDidMount(){this._listenTooltipAppearance()}componentWillUnmount(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[],this.context.hide()}render(){return n.createElement(i.a.div,{"data-role":"tooltip"},this.context.state.view(this.props.children))}_listenTooltipAppearance(){const e=l.a.fromEvent(document,"keydown").pipe(l.a.filter(e=>e.keyCode===s.a.ESC_CODE)),t=l.a.fromEvent(document,"mousedown").pipe(l.a.withLatestFrom(this.context.state),l.a.filter(([e,t])=>Object(r.pipe)(t,c.g.map(e=>e.target),c.g.filter(()=>o.c.isDisabled(e.target)),c.g.forAll(this._outOfTarget({x:e.clientX,y:e.clientY}))))),a=l.a.mergeStatic(e,t,l.a.fromEvent(document,"scroll"),d.a.observe.pipe(l.a.filter(e=>"show"===e.detail))).pipe(l.a.mapTo(p.b.voidValue),l.a.share());this._subs=[this.context.hasContent.pipe(l.a.filter(Boolean),l.a.switchMapTo(a.pipe(l.a.first()))).subscribe(this.context.hide),this.context.hasContent.pipe(l.a.filter(Boolean),l.a.switchMapTo(l.a.mergeStatic(p.b.delay(!0,500),a.pipe(l.a.mapTo(!1))).pipe(l.a.first())),l.a.filter(Boolean)).subscribe(this.context.show)]}}m.contextType=u.a.Context},vtAC:function(e,t,a){"use strict";a.d(t,"a",(function(){return h})),a.d(t,"b",(function(){return f}));var n=a("ERkP"),r=a("vOOZ"),i=a("9NHN"),o=a("LNSM"),s=a("D9EC"),c=a("ax6a"),l=a("6gXa"),d=a("WIwS"),p=a("ps/9"),u=a("Z0Em"),m=a("zR/0"),g=a("gy42");function h({value:e,initValue:t=u.a.MIN,wrapperClass:a,progressClass:o,borderClass:s,isLoading:c=m.a.of(!1)}){const l=f(e,t);return n.createElement(r.a.div,Object.assign({},Object(i.c)(E.wrapper,a)),n.createElement(b,{width:l,progressClass:o,borderClass:s,isLoading:c}))}function f(e,t=u.a.MIN){const a=o.a.create(!1);return requestAnimationFrame(()=>requestAnimationFrame(()=>a.set(!0))),m.a.combineLatestStatic(g.b.toObservable(e),a,(e,a)=>a?e:t)}function b({width:e,progressClass:t,isLoading:a,borderClass:o}){const c=e.pipe(m.a.map(e=>`${e}%`)),l=e.pipe(m.a.map(u.a.prism.reverseGet),m.a.map(e=>e>0?`${e+.75}%`:0),m.a.startWith(0)),d=a.pipe(m.a.switchMap(e=>e?c:"0")),p=e.pipe(m.a.map(u.a.isMin),m.a.shareReplay({bufferSize:1,refCount:!0}));return n.createElement(n.Fragment,null,n.createElement(r.a.div,Object.assign({},Object(i.c)(E.borderContainer,p.pipe(m.a.map(Object(s.c)(E.borderContainerZeroWidth,E.borderContainerWithMinWidth))),o),{style:{width:l}})),n.createElement(r.a.div,Object.assign({},Object(i.c)(Boolean(t)?t:E.defaultProgress,E.progressBar,p.pipe(m.a.map(Object(s.c)(E.progressBarZeroWidth,E.progressBarWithMinWidth)))),{style:{width:c}})),n.createElement(r.a.div,{className:E.loading,style:{width:d}}))}const y=l.a.keyframes({"0%":{backgroundPosition:"0 0"},"100%":{backgroundPosition:"20px 20px"}}),v={position:"relative",width:l.a.percent(100),height:l.a.rem(.25),borderRadius:l.a.rem(p.r),backgroundColor:d.j},C={position:"relative",top:0,height:l.a.percent(100),borderRadius:l.a.rem(p.r),backgroundPosition:"center",transition:"width .8s ease-in-out 0s"},O={minWidth:l.a.px(4)},k={position:"absolute",backgroundColor:c.a.CoreNeutral0},w={minWidth:l.a.px(6)},S={position:"absolute",minWidth:0,backgroundImage:d.c,backgroundSize:"20px 20px",transition:"none",animation:`${y} 1s linear infinite`},A={backgroundImage:d.f},E=l.a.stylesheet({wrapper:[v,v],progressBar:[C],progressBarZeroWidth:[{minWidth:0}],progressBarWithMinWidth:[O],borderContainer:[C,k],borderContainerZeroWidth:[{minWidth:0}],borderContainerWithMinWidth:[w],loading:[C,S],defaultProgress:[A]})},"xAi+":function(e,t,a){"use strict";a.d(t,"a",(function(){return Xe}));var n=a("ERkP"),r=a("qb7Q"),i=a("U75S"),o=a("OA+g"),s=a("lrqh"),c=a("6gXa");const l=e=>"alternative"===e.type,d=e=>"selectAlternative"===e.type?s.g.some(e.alternativeIndex):s.g.none;function p(e){return t=>Object(o.pipe)(t,i.S(Object(o.flow)(d,s.g.exists(t=>t===e))),s.g.isSome)}const u=c.a.stylesheet({spacer:[{width:"100%"}]});var m=a("vOOZ"),g=a("PrA7");const h=c.a.stylesheet({spacer:[{width:"100%"}]});var f=a("6fbX"),b=a("ax6a"),y=a("ps/9"),v=a("nnns"),C=a("AALX"),O=a("BugA");const k={primary:e=>n.createElement(v.a.Primary,Object.assign({},I(e),{className:c.a.joinClasses([x.primary,x.main])}),e.text),secondary:e=>n.createElement(v.a.Tertiary,Object.assign({},I(e),{className:x.main}),e.text),toggle:e=>n.createElement(v.a.Animated,Object.assign({},I(e),{styleType:O.Typography.Type.Button,className:c.a.joinClasses([C.a,x.toggle,x.main])}),e.text)},w={height:c.a.rem(2),$nest:{'& i, & [data-role="icon"]':{margin:c.a.rem(.25)}}},S=Object(C.b)({default:{padding:`0 ${c.a.rem(.5)}`,borderRadius:c.a.rem(y.s),whiteSpace:"normal",backgroundColor:b.a.CoreNeutral0,color:b.a.CoreBlue50,border:`1px solid ${b.a.CoreNeutral20}`,transitionDuration:".2s",transitionProperty:"border-color, background-color",lineHeight:"calc(2px * var(--rem) - 2px)"},hovered:{backgroundColor:b.a.CoreBlue1},disabled:{color:b.a.CoreNeutral40,borderColor:b.a.CoreNeutral10},clicked:{backgroundColor:b.a.CoreBlue10},toggled:{backgroundColor:b.a.CoreNeutral1,borderColor:b.a.CoreBlue50},hidden:{}}),A={fill:b.a.CoreNeutral0,stroke:b.a.CoreNeutral0},E={$nest:{"& i":A,"&:not([data-disabled='true'])[data-hovered='true'] i":A}},x=c.a.stylesheet({main:[w],primary:[E],toggle:[S]});function I(e){return Object.assign({name:e.name,onClick:e.onClick,title:void 0!==e.tooltip&&e.state!==r.a.ButtonState.Disabled?(t=e.tooltip,n.createElement(n.Fragment,null,Object(o.pipe)(t.split("\n"),e=>{const t=e.length;return 0===t?e:s.a.cons(e[0],e.slice(1,t).map((e,t)=>n.createElement(n.Fragment,{key:t},n.createElement("br",null),e)))}))):void 0},function(e){switch(e){case r.a.ButtonState.Enabled:return{disabled:!1,active:!1};case r.a.ButtonState.Disabled:return{disabled:!0,active:!1};case r.a.ButtonState.Selected:return{disabled:!1,active:!0};case r.a.ButtonState.Hidden:return{hidden:!0};default:return Object(f.d)(e)}}(e.state));var t}var j=a("PBHX");const T=({size:e,format:t,textColor:a,backgroundColor:i,outlineColor:o,text:s})=>{const l=function(e,t){const a=`${e}-${t}`,n=R.get(a);if(void 0!==n)return n;{const n=c.a.style({color:b.a[e],backgroundColor:Boolean(t)?b.a[t]:t});return R.put(a,n),n}}(a,i),[d,...p]=t,u=void 0!==d?D[d]:"span",m=p.map(e=>e===r.a.TextFormat.StrikeoutDiagonal?function(e){const t=`sd-${e}`,a=R.get(t);if(void 0!==a)return a;{const a=c.a.style($(e));return R.put(t,a),a}}(null!=o?o:a):F[e]);return void 0!==o&&m.push(function(e){const t=`ol-${e}`,a=R.get(t);if(void 0!==a)return a;{const a=c.a.style({borderColor:b.a[e]});return R.put(t,a),a}}(o)),n.createElement(u,{className:c.a.joinClasses([l,P[e],...m]),children:s})},N={padding:`${c.a.rem(.15625)} 0`},L={letterSpacing:c.a.rem(b.h.BodyLetterSpacing),fontSize:c.a.rem(b.h.BodySize),lineHeight:c.a.rem(21/16)},B={letterSpacing:c.a.rem(b.h.SmallLetterSpacing),fontSize:c.a.rem(b.h.SmallSize),lineHeight:c.a.rem(.875)},P=c.a.stylesheet({[r.a.TextSize.Regular]:[N,L],[r.a.TextSize.Small]:[N,B]}),F=c.a.stylesheet({[r.a.TextFormat.Bold]:[{fontWeight:"bolder"}],[r.a.TextFormat.Italic]:[{fontStyle:"italic"}],[r.a.TextFormat.StrikeoutHorizontal]:[{textDecoration:"line-through"}],[r.a.TextFormat.StrikeoutDiagonal]:[],[r.a.TextFormat.Outline]:[{padding:`${c.a.rem(1/16)} ${c.a.rem(.21875)} ${c.a.rem(1/16)} ${c.a.rem(.21875)}`,border:"1px solid",borderRadius:"2px"}]}),D={strikeoutHorizontal:"s",strikeoutDiagonal:"span",outline:"span",bold:"b",italic:"i"};const $=e=>({backgroundImage:`linear-gradient(to top left,\n    rgba(0,0,0,0) 0%,\n    rgba(0,0,0,0) calc(50% - 0.5px),\n    ${b.a[e]} 50%,\n    rgba(0,0,0,0) calc(50% + 0.5px),\n    rgba(0,0,0,0) 100%)`});const R=new j.c(100);function M(e){return void 0===e?W.main:c.a.joinClasses([W.main,H(e)])}const _={padding:`${c.a.rem(.125)} ${c.a.rem(.25)}`,minWidth:c.a.rem(1.125),borderRadius:c.a.rem(.75),display:"inline-flex",alignItems:"center",justifyContent:"center",$nest:{"& > *":{padding:0}}},W=c.a.stylesheet({main:[_]});function H(e){const t=`${e}`,a=G.get(t);if(void 0!==a)return a;{const a=c.a.style({backgroundColor:b.a[e]});return G.put(t,a),a}}const G=new j.c(100);var q=a("tZ26");const V={close:e=>n.createElement(q.d.Close,{className:Y(e)}),"arrow-right":e=>n.createElement(q.d.Arrow,{direction:q.a.right,className:Y(e)}),"arrow-left":e=>n.createElement(q.d.Arrow,{direction:q.a.left,className:Y(e)}),gear:e=>n.createElement(q.d.Gear,{enforceStroke:!0,width:13,className:Y(e)}),dictionary:e=>n.createElement(q.d.Dict,{className:Y(e)}),clarity:e=>n.createElement(q.d.ClarityOutcome,{className:Y(e)}),correctness:e=>n.createElement(q.d.Correctness,{className:Y(e)}),engagement:e=>n.createElement(q.d.EngagementOutcome,{className:Y(e)}),delivery:e=>n.createElement(q.d.DeliveryOutcome,{className:Y(e)}),diamond:e=>n.createElement(q.d.Paid,{width:20,className:Y(e)}),feedback:e=>n.createElement(q.d.AssistantFeedback,{className:Y(e)})},z={width:c.a.rem(1.5),height:c.a.rem(1.5),minWidth:c.a.rem(1.5),minHeight:c.a.rem(1.5),borderRadius:c.a.rem(1.5)},U=c.a.stylesheet({main:[z]});function Y(e){return void 0===e.backgroundColor?U.main:c.a.joinClasses([U.main,X(e.backgroundColor)])}function X(e){const t=K.get(e);if(void 0!==t)return t;{const t=c.a.style({backgroundColor:b.a[e]});return K.put(e,t),t}}const K=new j.c(100),Z={width:c.a.rem(.85),height:c.a.rem(.85)},Q={width:c.a.rem(1.5),height:c.a.rem(1.5),borderRadius:c.a.rem(1.5),display:"flex",justifyContent:"center",alignItems:"center"},J=c.a.stylesheet({main:[{objectFit:"contain",alignSelf:"center",overflow:"hidden"}],defaultSize:[Z],wrapper:[Q]});function ee(e){return void 0===e?J.wrapper:c.a.joinClasses([J.wrapper,X(e)])}function te(e){return void 0===e?c.a.joinClasses([J.main,J.defaultSize]):c.a.joinClasses([J.main,ae(e)])}function ae(e){const t=ne.get(e);if(void 0!==t)return t;{const t=c.a.style({width:c.a.rem(Number(e)),height:c.a.rem(Number(e))});return ne.put(e,t),t}}const ne=new j.c(100);function re({spacing:e,innerSpacing:t,horizontalAlign:a,verticalAlign:n,fraction:r}){const i=[];return void 0!==e&&i.push(function({top:e,bottom:t,left:a,right:n}){const r=`${e}-${t}-${a}-${n}`,i=oe.get(r);if(void 0!==i)return i;{const i=c.a.style({$debugName:"outer-spacing",marginTop:c.a.rem(Number(e)),marginLeft:c.a.rem(Number(a)),marginRight:c.a.rem(Number(n)),marginBottom:c.a.rem(Number(t))});return oe.put(r,i),i}}(e)),void 0!==t&&i.push(function({vertical:e,horizontal:t}){const a=`${e}-${t}`,n=oe.get(a);if(void 0!==n)return n;{const n=c.a.style({$debugName:"inner-spacing",$nest:{"& > *:nth-last-child(n+2)":{marginRight:c.a.rem(Number(t)),marginTop:c.a.rem(Number(e))}}});return oe.put(a,n),n}}(t)),void 0!==a&&i.push(se[a]),void 0!==n&&i.push(ie.flexBlock,ce[n]),void 0!==r&&i.push(function(e){const t=`f-${e}`,a=oe.get(t);if(void 0!==a)return a;{const a=c.a.style({flex:e});return oe.put(t,a),a}}(r)),i.length>0?c.a.joinClasses(i):void 0}const ie=c.a.stylesheet({flexBlock:[{display:"flex",flexDirection:"row"}]});const oe=new j.c(100),se=c.a.stylesheet({[r.a.HorizontalAlign.Left]:[{textAlign:"left"}],[r.a.HorizontalAlign.Center]:[{textAlign:"center"}],[r.a.HorizontalAlign.Right]:[{textAlign:"right"}]}),ce=c.a.stylesheet({[r.a.VerticalAlign.Top]:[{alignItems:"flex-start"}],[r.a.VerticalAlign.Middle]:[{alignItems:"center"}],[r.a.VerticalAlign.Bottom]:[{alignItems:"flex-end"}]}),le=c.a.stylesheet({holder:[{display:"flex",flexDirection:"column"}]}),de={display:"flex",flexWrap:"wrap",alignItems:"inherit",maxWidth:"100%",$nest:{"& > *":{marginRight:c.a.rem(.5)}}},pe=Object.assign(Object.assign({},de),{flexGrow:1}),ue=Object.assign(Object.assign({},de),{marginLeft:"auto",flexShrink:0}),me={marginBottom:c.a.rem(.5)},ge=c.a.stylesheet({spacer:[me],row:[{display:"flex",flexDirection:"row",alignItems:"center"}],rowLeft:[pe],rowRight:[ue]});function he(e){return void 0===e?ge.row:c.a.joinClasses([ge.row,fe(e)])}function fe({top:e,bottom:t,left:a,right:n}){const r=`${e}-${t}-${a}-${n}`,i=be.get(r);if(void 0!==i)return i;{const i=c.a.style({marginTop:c.a.rem(Number(e)),marginLeft:c.a.rem(Number(a)),marginRight:c.a.rem(Number(n)),$nest:{'[data-role="row-content"] > *':{marginBottom:c.a.rem(Number(t))}}});return be.put(r,i),i}}const be=new j.c(100);var ye=a("I7vG"),ve=a("9NHN"),Ce=a("zR/0"),Oe=a("1gzW");const ke="sliderOuterContainer",we="sliderLabel",Se="sliderContainer",Ae="slider",Ee="sliderDragging",xe="sliderSliderDivisionPoint",Ie="sliderDivisionPointHoverArea",je="sliderInner",Te="sliderInnerDragging",Ne="sliderInnerJiggle",Le="sliderKnob",Be="sliderKnobDragging",Pe="sliderKnobEmoji",Fe={fontWeight:700,fontSize:c.a.rem(.875),lineHeight:c.a.rem(1),width:c.a.rem(8)},De={height:c.a.rem(1.75),display:"flex",flexDirection:"column",justifyContent:"center"},$e={position:"relative",width:c.a.percent(100),backgroundColor:b.a.CoreNeutral40,height:c.a.rem(.125),borderRadius:c.a.rem(.375),transition:"all 0.15s ease-in-out",$nest:{"&:hover":{height:c.a.rem(.5)},[`&:hover .${xe}`]:{visibility:"visible"}}},Re={height:c.a.rem(.5),$nest:{[`& .${xe}`]:{visibility:"visible"}}},Me={position:"absolute",height:c.a.rem(.25),backgroundColor:b.a.CoreNeutral0,top:c.a.rem(.125),bottom:c.a.rem(.125),borderRadius:c.a.percent(100),visibility:"hidden"},_e={background:b.a.CoreNeutral90,opacity:0,height:c.a.rem(1.5),position:"absolute",borderRadius:c.a.percent(100),cursor:"pointer",top:c.a.rem(-.5),zIndex:1,transition:"all 0.15s ease-in-out",$nest:{"&:hover":{opacity:.1}}},We={position:"relative",display:"flex",alignItems:"center",backgroundColor:b.a.CorePurple40,height:c.a.percent(100),borderRadius:c.a.rem(.375),transition:"all 0.15s ease-in-out"},He=c.a.keyframes({from:{width:"100%"},to:{width:`calc(100% - ${c.a.rem(1.5)})`}}),Ge=c.a.keyframes({from:{width:`calc(100% - ${c.a.rem(1.5)})`},to:{width:"100%"}}),qe={transition:"none",animation:`${He} 0.8s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 1s forwards,\n              ${Ge} 0.2s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 2s forwards,\n              ${He} 0.8s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 5.2s forwards,\n              ${Ge} 0.2s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 6.2s forwards`},Ve={position:"absolute",right:c.a.rem(-.875),display:"flex",justifyContent:"center",alignItems:"center",width:c.a.rem(1.75),height:c.a.rem(1.75),backgroundColor:b.a.CoreNeutral0,boxShadow:"0px 0px 1px rgba(109, 117, 141, 0.8), 0px 1px 8px rgba(109, 117, 141, 0.28)",borderRadius:c.a.rem(1.875),cursor:"ew-resize",transition:"all 0.15s ease-in-out",zIndex:1,$nest:{"&:hover":{width:c.a.rem(2),height:c.a.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"}}},ze={width:c.a.rem(2),height:c.a.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"},Ue={width:c.a.rem(.9375),height:c.a.rem(.9375),pointerEvents:"none"},Ye={outerContainer:c.a.joinClasses([ke,c.a.style({display:"flex",alignItems:"center"})]),label:c.a.joinClasses([we,c.a.style(Fe)]),container:c.a.joinClasses([Se,c.a.style(De)]),slider:c.a.joinClasses([Ae,c.a.style($e)]),sliderDragging:c.a.joinClasses([Ee,c.a.style(Re)]),sliderDivisionPoint:c.a.joinClasses([xe,c.a.style(Me)]),sliderDivisionPointHoverArea:c.a.joinClasses([Ie,c.a.style(_e)]),sliderInner:c.a.joinClasses([je,c.a.style(We)]),sliderInnerDragging:c.a.joinClasses([Te,c.a.style({transition:"none"})]),sliderInnerJiggle:c.a.joinClasses([Ne,c.a.style(qe)]),knob:c.a.joinClasses([Le,c.a.style(Ve)]),knobDragging:c.a.joinClasses([Be,c.a.style(ze)]),knobEmoji:c.a.joinClasses([Pe,c.a.style(Ue)])},Xe={button:k,alternativeChoice:({designSystem:e,content:t,activeIndex:a,notify:c})=>{const d=Object(o.pipe)(t,i.T(Object(o.flow)(s.g.fromPredicate(l),s.g.chainFirst(Object(o.flow)(e=>e.label.actions,p(a),s.g.fromPredicate(o.identity))),s.g.map(e=>e.preview))));return Object(o.pipe)(d,s.g.fold(()=>null,i=>n.createElement(n.Fragment,null,e.block(Object.assign(Object.assign({},i),{children:i.parts.map((t,a)=>n.createElement(e.text,Object.assign({key:a},t)))})),n.createElement("div",{className:u.spacer}),t.map((t,i)=>l(t)?n.createElement(e.button.toggle,{key:i,text:e.block(Object.assign(Object.assign({},t.label.label),{children:t.label.label.parts.map((t,a)=>"text"===t.type?t.text:"known"===t.source.kind?n.createElement(e.icon[t.source.name],Object.assign({key:a},t)):null)})),name:t.label.name,state:p(a)(t.label.actions)?r.a.ButtonState.Selected:r.a.ButtonState.Enabled,tooltip:void 0,onClick:c(t.label.actions,t.label.id)}):n.createElement(e.text,Object.assign({key:i},t))))))},text:T,image:({name:e,url:t,size:a,backgroundColor:r})=>n.createElement("div",{className:ee(r)},n.createElement("img",{src:t,className:te(a),alt:e})),icon:V,count:({backgroundColor:e,value:t,textColor:a=r.a.Color.CoreNeutral0})=>n.createElement("div",{className:M(e)},n.createElement(T,{size:r.a.TextSize.Small,format:[r.a.TextFormat.Bold],textColor:a,text:t})),block:e=>n.createElement("div",{"data-role":"block-layout",className:re(e)},e.children),row:({left:e,right:t,spacing:a})=>{const r=Array.isArray(e)&&0===e.length,i=Array.isArray(t)&&0===t.length;return r&&i?n.createElement("div",{"data-role":"row-layout",className:void 0===a?ge.spacer:fe(a)}):n.createElement("div",{"data-role":"row-layout",className:he(a)},r?null:n.createElement("div",{"data-role":"row-content",className:ge.rowLeft},e),i?null:n.createElement("div",{"data-role":"row-content",className:ge.rowRight},t))},column:({children:e})=>n.createElement("div",{"data-role":"column-layout",className:le.holder},e),slider:({fillColor:e,choices:t,designSystem:a,onChoiceSelected:i})=>{const{ref:o,onMount:l}=Oe.a.useElWatcher(),d=new Ce.a.Subject,p=new Ce.a.Subject,u=new Ce.a.Subject,h=new Ce.a.Subject,f=new Ce.a.Subject,y=new Ce.a.Subject,v=t.length-1,C=v>0?100/v:0,O=t.reduce(e=>{const t=e[e.length-1];let a=0;return void 0!==t&&(a=t+C),e.push(a),e},[]),k=new Ce.a.BehaviorSubject(O[v]),w=Ce.a.mergeStatic(f.pipe(Ce.a.mapTo(!0)),u.pipe(Ce.a.mapTo(!1)),h.pipe(Ce.a.mapTo(!1))).pipe(Ce.a.startWith(!1)),S=Ce.a.mergeStatic(f,p).pipe(Ce.a.withLatestFrom(w),Ce.a.filter(([e,t])=>t),Ce.a.map(([e])=>e),Ce.a.withLatestFrom(o),Ce.a.map(([e,t])=>Object(ye.pipe)(t,s.g.map(e=>e.getBoundingClientRect()),s.g.bindTo("sliderClientRect"),s.g.apS("containerMouseEventVal",s.g.some(e)))),Ce.b.compact,Ce.a.map(({containerMouseEventVal:e,sliderClientRect:t})=>{const a=t.x,n=t.x+t.width;let r=0;return r=e.clientX<=a?0:e.clientX>=n?100:(e.clientX-a)/(n-a)*100})),A=k.pipe(Ce.a.distinctUntilChanged(),Ce.a.map(e=>{let t=-1;for(let a=0;a<O.length-1;a++){const n=O[a],r=O[a+1],i=(n+r)/2;e>=n&&e<=r&&(t=e>=i?a+1:a)}return t})),E=A.pipe(Ce.a.distinctUntilChanged(),Ce.a.map(e=>t[e]));Oe.a.useSubscriptionTo(Ce.a.mergeStatic(S.pipe(Ce.a.distinctUntilChanged()),w.pipe(Ce.a.distinctUntilChanged(),Ce.a.filter(e=>!e),Ce.a.withLatestFrom(S),Ce.a.map(([e,t])=>t),Ce.a.map(e=>{let t,a=0;for(const n of O){const r=Math.abs(e-n);(void 0===t||r<t)&&(t=r,a=n)}return a})),d.pipe(Ce.a.filter(e=>"ArrowRight"===e.key||"ArrowLeft"===e.key),Ce.a.tap(e=>{e.preventDefault(),e.stopPropagation()}),Ce.a.map(e=>e.key),Ce.a.filter(e=>"ArrowRight"===e||"ArrowLeft"===e),Ce.a.withLatestFrom(k),Ce.a.map(([e,t])=>{let a;return(a="ArrowRight"===e?t+C:t-C)>100?100:a<0?0:a})),y.pipe(Ce.a.map(e=>O[e]))).pipe(Ce.a.tap(e=>k.next(e))));const x=k.pipe(Ce.a.skip(1),Ce.a.mapTo(!0));return Oe.a.useSubscriptionTo(E.pipe(Ce.a.map(e=>i(e.actions,e.id,r.a.ActionNotifyUserAction.SelectSliderChoice)),Ce.a.tap(e=>e()))),t.length<2?(g.Monitoring.Logging.getLogger("SliderView").warn("Cannot render slider with less than 2 choices.",{choicesLength:t.length}),null):n.createElement(m.a.div,{className:Ye.outerContainer,onKeyDown:e=>d.next(e),"data-role":"slider"},n.createElement(m.a.div,{className:Ye.label},E.pipe(Ce.a.map(e=>e.label))),n.createElement(m.a.div,{className:Ye.container,style:{width:c.a.rem(4*v)},onMouseMove:e=>p.next(e),onMouseUp:e=>u.next(e),onMouseLeave:e=>h.next(e)},n.createElement(m.a.div,Object.assign({},Object(ve.c)(Ye.slider,w.pipe(Ce.a.map(e=>e?Ye.sliderDragging:null))),{mount:l}),n.createElement(m.a.div,Object.assign({},Object(ve.c)(Ye.sliderInner,w.pipe(Ce.a.map(e=>e?Ye.sliderInnerDragging:null)),x.pipe(Ce.a.startWith(!1),Ce.a.map(e=>e?null:Ye.sliderInnerJiggle))),{style:{width:k.pipe(Ce.a.map(c.a.percent)),color:b.a[e]}}),n.createElement(m.a.div,Object.assign({},Object(ve.c)(Ye.knob,w.pipe(Ce.a.map(e=>e?Ye.knobDragging:null))),{onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),f.next(e)},tabIndex:0}),E.pipe(Ce.a.map(e=>"known"===e.icon.source.kind?n.createElement(a.icon[e.icon.source.name],{key:e.icon.source.name,backgroundColor:e.icon.backgroundColor}):n.createElement(a.image,Object.assign({key:e.icon.source.name,backgroundColor:e.icon.backgroundColor},e.icon.source)))))),w.pipe(Ce.a.map(e=>t.map((t,a)=>n.createElement(m.a.Fragment,{key:t.id},n.createElement("div",{className:Ye.sliderDivisionPoint,style:{width:c.a.rem(.25),left:c.a.rem(0===a?.125:4*a-.375)}}),A.pipe(Ce.a.map(t=>t===a||e?null:n.createElement(m.a.div,{className:Ye.sliderDivisionPointHoverArea,style:{width:c.a.rem(1.5),left:c.a.rem(0===a?-.5625:4*a-.75-.1875)},onClick:()=>y.next(a)}))))))))))},alternativeSlider:({fillColor:e,choices:t,designSystem:a,activeAltIndex:r,notify:i})=>n.createElement(n.Fragment,null,n.createElement(a.slider,{fillColor:e,choices:t.map(e=>({id:e.id,icon:e.icon,label:e.label,actions:e.actions})),designSystem:a,onChoiceSelected:i}),n.createElement("div",{className:h.spacer}),n.createElement(m.a.Fragment,null,r.view(e=>Object(o.pipe)(s.g.fromNullable(t[e+1]),s.g.map(e=>e.preview),s.g.fold(()=>(g.Monitoring.Logging.getLogger("AlternativeSliderView").warn("Cannot render alternative slider preview if there's no choice that matches the current alternative index.",{alternativeIndex:e}),null),e=>a.block(Object.assign(Object.assign({},e),{children:e.parts.map((e,t)=>n.createElement(a.text,Object.assign({key:t},e)))})))))))}},yA7V:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("BbAu"),i=a("OA+g"),o=a("I7vG"),s=a("PK5a"),c=a("7b34"),l=a("lrqh"),d=a("tn8Q"),p=a("v0pb"),u=a("Xo/A"),m=a("lSTv");!function(e){let t;!function(e){e.show=c.a.getShow(r.e,p.a.show),e.eq=c.a.getEq(p.a.Id.ord,p.a.ord),e.empty=()=>c.a.empty(),e.toRegistered=function(e){return c.a.fromMutation(t=>{Object(o.pipe)(e,c.a.forEach((e,a)=>p.a.isRegistered(e)&&t.set(a,l.m.left(e)),(e,a,n)=>{p.a.isRegistered(e)?p.a.isRegistered(a)?t.set(n,l.m.both(e,a)):t.set(n,l.m.left(e)):p.a.isRegistered(a)&&t.set(n,l.m.right(a))},(e,a)=>p.a.isRegistered(e)&&t.set(a,l.m.right(e))))})},e.filter=function(e){return c.a.filter(e,(t,a)=>e(t)&&e(a),e)}}(t=e.Diff||(e.Diff={})),e.empty=u.a.iso.wrap(u.a.empty),e.eq=s.getEq(u.a.eqShow),e.show=u.a.eqShow,e.get=function(e){return Object(i.flow)(u.a.iso.unwrap,u.a.get(e))},e.reduce=function(e,t){return Object(i.flow)(u.a.iso.unwrap,u.a.reduce(e,t))},e.diff=function(e,t){return u.a.diff(u.a.iso.unwrap(e),u.a.iso.unwrap(t))},e.isEmpty=function(e){return 0===u.a.iso.unwrap(e).entries.size},e.find=function(e){return Object(i.flow)(u.a.iso.unwrap,u.a.find(e))},e.size=function(){return Object(i.flow)(u.a.iso.unwrap,u.a.size)},e.from=function(e){return Object(o.pipe)(u.a.createDiff({added:e.reduce((e,t)=>e.set(t.id,p.a.create(t)),new Map)}),d.a.recover(i.constVoid),m.a.applyDiff,l.j.map(Object(i.flow)(d.a.recover(i.constVoid),u.a.iso.wrap)))(u.a.empty)}}(n||(n={}))},yRCP:function(e,t,a){e.exports=a.p+"files/ebef654642ae42ba62e081cb7c9799d1/inter-bolditalic.woff"},yZqL:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("ERkP"),r=a("vOOZ"),i=a("9NHN"),o=a("6gXa"),s=a("rq0W"),c=a("3bJT");const l=e=>{const{shade:t}=Object(s.c)(e.visualState);n.useEffect(()=>{Boolean(t)||e.onFocus()},[]);const a=e.theme||{};return n.createElement(r.a.div,{className:a.container},e.header,n.createElement(r.a.div,{className:a.innerContainer},n.createElement(r.a.div,Object.assign({},Object(i.c)(b.wrapper,a.wrapper),{onMouseOver:e.onMouseOver,onMouseOut:e.onMouseOut}),n.createElement(r.a.div,Object.assign({},Object(i.c)(b.grid,a.content)),n.createElement(r.a.div,Object.assign({},Object(i.c)(b.mainContent,a.contentBody)),e.body),Boolean(e.footer)?n.createElement("div",{className:b.footerContent},e.footer):null,Boolean(e.subActions)||Boolean(e.navigation)||Boolean(e.mainActions)?n.createElement("div",{className:b.actions},e.subActions,n.createElement("div",{className:b.spacerOne}),e.navigation,n.createElement("div",{className:b.spacerFloat}),e.mainActions):null)),e.extra))},d={position:"relative"},p={padding:`${o.a.rem(1)} ${o.a.rem(.5)} ${o.a.rem(.75)} ${o.a.rem(1)}`},u={padding:`0 ${o.a.rem(.5)} 0 ${o.a.rem(1)}`,$nest:{"& > * + *":{marginTop:o.a.rem(.75)}}},m={padding:`0 ${o.a.rem(.5)} 0 ${o.a.rem(1)}`,$nest:{"& > * + *":{marginTop:o.a.rem(.75)}}},g={display:"flex",marginLeft:o.a.rem(.5),justifyContent:"space-between",$nest:{"& > *":{flexShrink:0}}},h={width:o.a.rem(1),flexShrink:1},f={$nest:{"& > * + *":{marginTop:o.a.rem(.75)}}},b=Object.assign(Object.assign({},o.a.stylesheet({mainContent:[u],footerContent:[m],actions:[g],spacerOne:[h],spacerFloat:[{flex:1}],grid:[f]})),{fullCard:o.a.joinClasses([c.b.fullCardSelector,o.a.style(d)]),wrapper:o.a.joinClasses([c.b.fullCardSelector,o.a.style(d,p)])})},yrKE:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("ERkP"),r=a("vOOZ"),i=a("9NHN"),o=a("Kt6o"),s=a("6gXa");const c=({theme:e={}})=>n.createElement(r.a.div,Object.assign({},Object(i.c)(d.container,e.container)),n.createElement(r.a.div,Object.assign({},Object(i.c)(d.swoosh,e.animation)))),l=s.a.keyframes({to:{backgroundPosition:"0 100%"}}),d=s.a.prefixedStylesheet("ai-animation-v2",{container:[{position:"relative",width:s.a.rem(2),height:s.a.rem(2),display:"inline-block"}],swoosh:[{position:"absolute",left:0,right:0,top:0,bottom:0,animationName:l,animationTimingFunction:"steps(119, start)",animationFillMode:"forwards",animationDuration:s.a.seconds(2),animationIterationCount:"infinite",background:`transparent url('${o.a}swoosh.png') 0 0 no-repeat`,backgroundSize:s.a.percent(100)}]})}}]);